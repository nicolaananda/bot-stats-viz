import{j as e,u as Se,a as Wb,b as Kn,Q as Hb,c as qb}from"./tanstack-lyGMcX69.js";import{a as kr,r as m,o as X,v as Bu,R as Uu,u as Kb,N as Ds,b as Sn,c as vl,B as Vb,d as Gb,e as Fe}from"./react-5nkoHZI4.js";import{c as zu,s as Xb,R as Re,L as ln,C as De,X as Oe,Y as Me,T as _e,a as ls,B as Rt,b as mt,d as ed,e as zs,A as ds,f as Mt,g as kn,P as Ss,h as ks,S as Yb,i as Jb}from"./recharts-CapEJ0Fz.js";import{X as yl,P as Qb,S as Wu,a as Ns,C as ao,b as jl,c as Ea,d as Ta,Z as Pa,H as Zb,T as $e,e as vt,U as Ke,f as wl,g as Cs,h as qe,B as Hu,i as Rs,j as Ia,D as jt,A as at,k as cn,F as Ls,l as ev,m as ma,n as dn,o as qu,p as Ku,q as Cn,M as tv,r as Kt,s as Vu,R as sv,t as pr,u as Nl,W as un,v as kt,w as jr,E as Sl,x as Rn,y as _i,z as Gu,G as wr,I as kl,J as Xu,K as rv,L as Da,N as mn,O as Cl,Q as Yu,V as nv,Y as Oa,_ as hn,$ as av,a0 as fn,a1 as oo,a2 as ov,a3 as iv,a4 as td,a5 as Ma,a6 as lv,a7 as cv,a8 as Ai,a9 as dv,aa as sd,ab as rd,ac as nd,ad as Ju,ae as uv,af as ad,ag as mv,ah as Qu,ai as hv,aj as fv,ak as od,al as xv,am as id}from"./lucide-D_fSvSIu.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Zu,ld=kr;Zu=ld.createRoot,ld.hydrateRoot;const pv=1,gv=1e6;let ti=0;function bv(){return ti=(ti+1)%Number.MAX_SAFE_INTEGER,ti.toString()}const si=new Map,cd=t=>{if(si.has(t))return;const s=setTimeout(()=>{si.delete(t),rn({type:"REMOVE_TOAST",toastId:t})},gv);si.set(t,s)},vv=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,pv)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?cd(r):t.toasts.forEach(n=>{cd(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},ha=[];let fa={toasts:[]};function rn(t){fa=vv(fa,t),ha.forEach(s=>{s(fa)})}function yv({...t}){const s=bv(),r=a=>rn({type:"UPDATE_TOAST",toast:{...a,id:s}}),n=()=>rn({type:"DISMISS_TOAST",toastId:s});return rn({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||n()}}}),{id:s,dismiss:n,update:r}}function _n(){const[t,s]=m.useState(fa);return m.useEffect(()=>(ha.push(s),()=>{const r=ha.indexOf(s);r>-1&&ha.splice(r,1)}),[t]),{...t,toast:yv,dismiss:r=>rn({type:"DISMISS_TOAST",toastId:r})}}function J(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function dd(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function io(...t){return s=>{let r=!1;const n=t.map(a=>{const o=dd(a,s);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():dd(t[a],null)}}}}function Ce(...t){return m.useCallback(io(...t),t)}function jv(t,s){const r=m.createContext(s),n=o=>{const{children:i,...l}=o,d=m.useMemo(()=>l,Object.values(l));return e.jsx(r.Provider,{value:d,children:i})};n.displayName=t+"Provider";function a(o){const i=m.useContext(r);if(i)return i;if(s!==void 0)return s;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,a]}function et(t,s=[]){let r=[];function n(o,i){const l=m.createContext(i),d=r.length;r=[...r,i];const c=f=>{var y;const{scope:x,children:h,...b}=f,g=((y=x==null?void 0:x[t])==null?void 0:y[d])||l,p=m.useMemo(()=>b,Object.values(b));return e.jsx(g.Provider,{value:p,children:h})};c.displayName=o+"Provider";function u(f,x){var g;const h=((g=x==null?void 0:x[t])==null?void 0:g[d])||l,b=m.useContext(h);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const a=()=>{const o=r.map(i=>m.createContext(i));return function(l){const d=(l==null?void 0:l[t])||o;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return a.scopeName=t,[n,wv(a,...s)]}function wv(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:d,scopeName:c})=>{const f=d(o)[`__scope${c}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return r.scopeName=s.scopeName,r}function Ws(t){const s=Nv(t),r=m.forwardRef((n,a)=>{const{children:o,...i}=n,l=m.Children.toArray(o),d=l.find(kv);if(d){const c=d.props.children,u=l.map(f=>f===d?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return e.jsx(s,{...i,ref:a,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return e.jsx(s,{...i,ref:a,children:o})});return r.displayName=`${t}.Slot`,r}var Cr=Ws("Slot");function Nv(t){const s=m.forwardRef((r,n)=>{const{children:a,...o}=r;if(m.isValidElement(a)){const i=Rv(a),l=Cv(o,a.props);return a.type!==m.Fragment&&(l.ref=n?io(n,i):i),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var em=Symbol("radix.slottable");function Sv(t){const s=({children:r})=>e.jsx(e.Fragment,{children:r});return s.displayName=`${t}.Slottable`,s.__radixId=em,s}function kv(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===em}function Cv(t,s){const r={...s};for(const n in s){const a=t[n],o=s[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const d=o(...l);return a(...l),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...t,...r}}function Rv(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function lo(t){const s=t+"CollectionProvider",[r,n]=et(s),[a,o]=r(s,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:p,children:y}=g,v=X.useRef(null),j=X.useRef(new Map).current;return e.jsx(a,{scope:p,itemMap:j,collectionRef:v,children:y})};i.displayName=s;const l=t+"CollectionSlot",d=Ws(l),c=X.forwardRef((g,p)=>{const{scope:y,children:v}=g,j=o(l,y),w=Ce(p,j.collectionRef);return e.jsx(d,{ref:w,children:v})});c.displayName=l;const u=t+"CollectionItemSlot",f="data-radix-collection-item",x=Ws(u),h=X.forwardRef((g,p)=>{const{scope:y,children:v,...j}=g,w=X.useRef(null),k=Ce(p,w),R=o(u,y);return X.useEffect(()=>(R.itemMap.set(w,{ref:w,...j}),()=>void R.itemMap.delete(w))),e.jsx(x,{[f]:"",ref:k,children:v})});h.displayName=u;function b(g){const p=o(t+"CollectionConsumer",g);return X.useCallback(()=>{const v=p.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(p.itemMap.values()).sort((R,C)=>j.indexOf(R.ref.current)-j.indexOf(C.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},b,n]}var _v=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=_v.reduce((t,s)=>{const r=Ws(`Primitive.${s}`),n=m.forwardRef((a,o)=>{const{asChild:i,...l}=a,d=i?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...l,ref:o})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function Rl(t,s){t&&kr.flushSync(()=>t.dispatchEvent(s))}function it(t){const s=m.useRef(t);return m.useEffect(()=>{s.current=t}),m.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function Av(t,s=globalThis==null?void 0:globalThis.document){const r=it(t);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var Ev="DismissableLayer",Ei="dismissableLayer.update",Tv="dismissableLayer.pointerDownOutside",Pv="dismissableLayer.focusOutside",ud,tm=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rr=m.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...d}=t,c=m.useContext(tm),[u,f]=m.useState(null),x=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),b=Ce(s,C=>f(C)),g=Array.from(c.layers),[p]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(p),v=u?g.indexOf(u):-1,j=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,k=Dv(C=>{const E=C.target,O=[...c.branches].some(B=>B.contains(E));!w||O||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},x),R=Ov(C=>{const E=C.target;[...c.branches].some(B=>B.contains(E))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},x);return Av(C=>{v===c.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},x),m.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ud=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),md(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=ud)}},[u,x,r,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),md())},[u,c]),m.useEffect(()=>{const C=()=>h({});return document.addEventListener(Ei,C),()=>document.removeEventListener(Ei,C)},[]),e.jsx(ie.div,{...d,ref:b,style:{pointerEvents:j?w?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,R.onFocusCapture),onBlurCapture:J(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,k.onPointerDownCapture)})});Rr.displayName=Ev;var Iv="DismissableLayerBranch",sm=m.forwardRef((t,s)=>{const r=m.useContext(tm),n=m.useRef(null),a=Ce(s,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),e.jsx(ie.div,{...t,ref:a})});sm.displayName=Iv;function Dv(t,s=globalThis==null?void 0:globalThis.document){const r=it(t),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let d=function(){rm(Tv,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=d,s.addEventListener("click",a.current,{once:!0})):d()}else s.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{s.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),s.removeEventListener("pointerdown",o),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function Ov(t,s=globalThis==null?void 0:globalThis.document){const r=it(t),n=m.useRef(!1);return m.useEffect(()=>{const a=o=>{o.target&&!n.current&&rm(Pv,r,{originalEvent:o},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function md(){const t=new CustomEvent(Ei);document.dispatchEvent(t)}function rm(t,s,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Rl(a,o):a.dispatchEvent(o)}var Mv=Rr,Lv=sm,Be=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Fv="Portal",An=m.forwardRef((t,s)=>{var l;const{container:r,...n}=t,[a,o]=m.useState(!1);Be(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bu.createPortal(e.jsx(ie.div,{...n,ref:s}),i):null});An.displayName=Fv;function $v(t,s){return m.useReducer((r,n)=>s[r][n]??r,t)}var wt=t=>{const{present:s,children:r}=t,n=Bv(s),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=Ce(n.ref,Uv(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:o}):null};wt.displayName="Presence";function Bv(t){const[s,r]=m.useState(),n=m.useRef(null),a=m.useRef(t),o=m.useRef("none"),i=t?"mounted":"unmounted",[l,d]=$v(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Vn(n.current);o.current=l==="mounted"?c:"none"},[l]),Be(()=>{const c=n.current,u=a.current;if(u!==t){const x=o.current,h=Vn(c);t?d("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(u&&x!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Be(()=>{if(s){let c;const u=s.ownerDocument.defaultView??window,f=h=>{const g=Vn(n.current).includes(h.animationName);if(h.target===s&&g&&(d("ANIMATION_END"),!a.current)){const p=s.style.animationFillMode;s.style.animationFillMode="forwards",c=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=p)})}},x=h=>{h.target===s&&(o.current=Vn(n.current))};return s.addEventListener("animationstart",x),s.addEventListener("animationcancel",f),s.addEventListener("animationend",f),()=>{u.clearTimeout(c),s.removeEventListener("animationstart",x),s.removeEventListener("animationcancel",f),s.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Vn(t){return(t==null?void 0:t.animationName)||"none"}function Uv(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var zv=Uu[" useInsertionEffect ".trim().toString()]||Be;function Lt({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[a,o,i]=Wv({defaultProp:s,onChange:r}),l=t!==void 0,d=l?t:a;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const c=m.useCallback(u=>{var f;if(l){const x=Hv(u)?u(t):u;x!==t&&((f=i.current)==null||f.call(i,x))}else o(u)},[l,t,o,i]);return[d,c]}function Wv({defaultProp:t,onChange:s}){const[r,n]=m.useState(t),a=m.useRef(r),o=m.useRef(s);return zv(()=>{o.current=s},[s]),m.useEffect(()=>{var i;a.current!==r&&((i=o.current)==null||i.call(o,r),a.current=r)},[r,a]),[r,n,o]}function Hv(t){return typeof t=="function"}var nm=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qv="VisuallyHidden",co=m.forwardRef((t,s)=>e.jsx(ie.span,{...t,ref:s,style:{...nm,...t.style}}));co.displayName=qv;var Kv=co,_l="ToastProvider",[Al,Vv,Gv]=lo("Toast"),[am,pA]=et("Toast",[Gv]),[Xv,uo]=am(_l),om=t=>{const{__scopeToast:s,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=t,[l,d]=m.useState(null),[c,u]=m.useState(0),f=m.useRef(!1),x=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_l}\`. Expected non-empty \`string\`.`),e.jsx(Al.Provider,{scope:s,children:e.jsx(Xv,{scope:s,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:l,onViewportChange:d,onToastAdd:m.useCallback(()=>u(h=>h+1),[]),onToastRemove:m.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:x,children:i})})};om.displayName=_l;var im="ToastViewport",Yv=["F8"],Ti="toast.viewportPause",Pi="toast.viewportResume",lm=m.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:n=Yv,label:a="Notifications ({hotkey})",...o}=t,i=uo(im,r),l=Vv(r),d=m.useRef(null),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),x=Ce(s,f,i.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;m.useEffect(()=>{const p=y=>{var j;n.length!==0&&n.every(w=>y[w]||y.code===w)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),m.useEffect(()=>{const p=d.current,y=f.current;if(b&&p&&y){const v=()=>{if(!i.isClosePausedRef.current){const R=new CustomEvent(Ti);y.dispatchEvent(R),i.isClosePausedRef.current=!0}},j=()=>{if(i.isClosePausedRef.current){const R=new CustomEvent(Pi);y.dispatchEvent(R),i.isClosePausedRef.current=!1}},w=R=>{!p.contains(R.relatedTarget)&&j()},k=()=>{p.contains(document.activeElement)||j()};return p.addEventListener("focusin",v),p.addEventListener("focusout",w),p.addEventListener("pointermove",v),p.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{p.removeEventListener("focusin",v),p.removeEventListener("focusout",w),p.removeEventListener("pointermove",v),p.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[b,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:p})=>{const v=l().map(j=>{const w=j.ref.current,k=[w,...c0(w)];return p==="forwards"?k:k.reverse()});return(p==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const p=f.current;if(p){const y=v=>{var k,R,C;const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const E=document.activeElement,O=v.shiftKey;if(v.target===p&&O){(k=c.current)==null||k.focus();return}const I=g({tabbingDirection:O?"backwards":"forwards"}),te=I.findIndex(H=>H===E);ri(I.slice(te+1))?v.preventDefault():O?(R=c.current)==null||R.focus():(C=u.current)==null||C.focus()}};return p.addEventListener("keydown",y),()=>p.removeEventListener("keydown",y)}},[l,g]),e.jsxs(Lv,{ref:d,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&e.jsx(Ii,{ref:c,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});ri(p)}}),e.jsx(Al.Slot,{scope:r,children:e.jsx(ie.ol,{tabIndex:-1,...o,ref:x})}),b&&e.jsx(Ii,{ref:u,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});ri(p)}})]})});lm.displayName=im;var cm="ToastFocusProxy",Ii=m.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,o=uo(cm,r);return e.jsx(co,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:i=>{var c;const l=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(l))&&n()}})});Ii.displayName=cm;var En="Toast",Jv="toast.swipeStart",Qv="toast.swipeMove",Zv="toast.swipeCancel",e0="toast.swipeEnd",dm=m.forwardRef((t,s)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=t,[l,d]=Lt({prop:n,defaultProp:a??!0,onChange:o,caller:En});return e.jsx(wt,{present:r||l,children:e.jsx(r0,{open:l,...i,ref:s,onClose:()=>d(!1),onPause:it(t.onPause),onResume:it(t.onResume),onSwipeStart:J(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:J(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});dm.displayName=En;var[t0,s0]=am(En,{onClose(){}}),r0=m.forwardRef((t,s)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:x,onSwipeEnd:h,...b}=t,g=uo(En,r),[p,y]=m.useState(null),v=Ce(s,H=>y(H)),j=m.useRef(null),w=m.useRef(null),k=a||g.duration,R=m.useRef(0),C=m.useRef(k),E=m.useRef(0),{onToastAdd:O,onToastRemove:B}=g,q=it(()=>{var W;(p==null?void 0:p.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),i()}),I=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(E.current),R.current=new Date().getTime(),E.current=window.setTimeout(q,H))},[q]);m.useEffect(()=>{const H=g.viewport;if(H){const W=()=>{I(C.current),c==null||c()},K=()=>{const U=new Date().getTime()-R.current;C.current=C.current-U,window.clearTimeout(E.current),d==null||d()};return H.addEventListener(Ti,K),H.addEventListener(Pi,W),()=>{H.removeEventListener(Ti,K),H.removeEventListener(Pi,W)}}},[g.viewport,k,d,c,I]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&I(k)},[o,k,g.isClosePausedRef,I]),m.useEffect(()=>(O(),()=>B()),[O,B]);const te=m.useMemo(()=>p?gm(p):null,[p]);return g.viewport?e.jsxs(e.Fragment,{children:[te&&e.jsx(n0,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:te}),e.jsx(t0,{scope:r,onClose:q,children:kr.createPortal(e.jsx(Al.ItemSlot,{scope:r,children:e.jsx(Mv,{asChild:!0,onEscapeKeyDown:J(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||q(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:J(t.onPointerDown,H=>{H.button===0&&(j.current={x:H.clientX,y:H.clientY})}),onPointerMove:J(t.onPointerMove,H=>{if(!j.current)return;const W=H.clientX-j.current.x,K=H.clientY-j.current.y,U=!!w.current,D=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=D?A(0,W):0,se=D?0:A(0,K),F=H.pointerType==="touch"?10:2,re={x:Q,y:se},le={originalEvent:H,delta:re};U?(w.current=re,Gn(Qv,f,le,{discrete:!1})):hd(re,g.swipeDirection,F)?(w.current=re,Gn(Jv,u,le,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(W)>F||Math.abs(K)>F)&&(j.current=null)}),onPointerUp:J(t.onPointerUp,H=>{const W=w.current,K=H.target;if(K.hasPointerCapture(H.pointerId)&&K.releasePointerCapture(H.pointerId),w.current=null,j.current=null,W){const U=H.currentTarget,D={originalEvent:H,delta:W};hd(W,g.swipeDirection,g.swipeThreshold)?Gn(e0,h,D,{discrete:!0}):Gn(Zv,x,D,{discrete:!0}),U.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),n0=t=>{const{__scopeToast:s,children:r,...n}=t,a=uo(En,s),[o,i]=m.useState(!1),[l,d]=m.useState(!1);return i0(()=>i(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:e.jsx(An,{asChild:!0,children:e.jsx(co,{...n,children:o&&e.jsxs(e.Fragment,{children:[a.label," ",r]})})})},a0="ToastTitle",um=m.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(ie.div,{...n,ref:s})});um.displayName=a0;var o0="ToastDescription",mm=m.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(ie.div,{...n,ref:s})});mm.displayName=o0;var hm="ToastAction",fm=m.forwardRef((t,s)=>{const{altText:r,...n}=t;return r.trim()?e.jsx(pm,{altText:r,asChild:!0,children:e.jsx(El,{...n,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${hm}\`. Expected non-empty \`string\`.`),null)});fm.displayName=hm;var xm="ToastClose",El=m.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t,a=s0(xm,r);return e.jsx(pm,{asChild:!0,children:e.jsx(ie.button,{type:"button",...n,ref:s,onClick:J(t.onClick,a.onClose)})})});El.displayName=xm;var pm=m.forwardRef((t,s)=>{const{__scopeToast:r,altText:n,...a}=t;return e.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:s})});function gm(t){const s=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&s.push(n.textContent),l0(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&s.push(i)}else s.push(...gm(n))}}),s}function Gn(t,s,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Rl(a,o):a.dispatchEvent(o)}var hd=(t,s,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),o=n>a;return s==="left"||s==="right"?o&&n>r:!o&&a>r};function i0(t=()=>{}){const s=it(t);Be(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[s])}function l0(t){return t.nodeType===t.ELEMENT_NODE}function c0(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function ri(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var d0=om,bm=lm,vm=dm,ym=um,jm=mm,wm=fm,Nm=El;const fd=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xd=zu,_r=(t,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return xd(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=s,i=Object.keys(a).map(c=>{const u=r==null?void 0:r[c],f=o==null?void 0:o[c];if(u===null)return null;const x=fd(u)||fd(f);return a[c][x]}),l=r&&Object.entries(r).reduce((c,u)=>{let[f,x]=u;return x===void 0||(c[f]=x),c},{}),d=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:x,...h}=u;return Object.entries(h).every(b=>{let[g,p]=b;return Array.isArray(p)?p.includes({...o,...l}[g]):{...o,...l}[g]===p})?[...c,f,x]:c},[]);return xd(t,i,d,r==null?void 0:r.class,r==null?void 0:r.className)},Tl="-",u0=t=>{const s=h0(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const l=i.split(Tl);return l[0]===""&&l.length!==1&&l.shift(),Sm(l,s)||m0(i)},getConflictingClassGroupIds:(i,l)=>{const d=r[i]||[];return l&&n[i]?[...d,...n[i]]:d}}},Sm=(t,s)=>{var i;if(t.length===0)return s.classGroupId;const r=t[0],n=s.nextPart.get(r),a=n?Sm(t.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const o=t.join(Tl);return(i=s.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},pd=/^\[(.+)\]$/,m0=t=>{if(pd.test(t)){const s=pd.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},h0=t=>{const{theme:s,prefix:r}=t,n={nextPart:new Map,validators:[]};return x0(Object.entries(t.classGroups),r).forEach(([o,i])=>{Di(i,n,o,s)}),n},Di=(t,s,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?s:gd(s,a);o.classGroupId=r;return}if(typeof a=="function"){if(f0(a)){Di(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{Di(i,gd(s,o),r,n)})})},gd=(t,s)=>{let r=t;return s.split(Tl).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},f0=t=>t.isThemeGetter,x0=(t,s)=>s?t.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[s+i,l])):o);return[r,a]}):t,p0=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),s++,s>t&&(s=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},km="!",g0=t=>{const{separator:s,experimentalParseClassName:r}=t,n=s.length===1,a=s[0],o=s.length,i=l=>{const d=[];let c=0,u=0,f;for(let p=0;p<l.length;p++){let y=l[p];if(c===0){if(y===a&&(n||l.slice(p,p+o)===s)){d.push(l.slice(u,p)),u=p+o;continue}if(y==="/"){f=p;continue}}y==="["?c++:y==="]"&&c--}const x=d.length===0?l:l.substring(u),h=x.startsWith(km),b=h?x.substring(1):x,g=f&&f>u?f-u:void 0;return{modifiers:d,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},b0=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},v0=t=>({cache:p0(t.cacheSize),parseClassName:g0(t),...u0(t)}),y0=/\s+/,j0=(t,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,o=[],i=t.trim().split(y0);let l="";for(let d=i.length-1;d>=0;d-=1){const c=i[d],{modifiers:u,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:h}=r(c);let b=!!h,g=n(b?x.substring(0,h):x);if(!g){if(!b){l=c+(l.length>0?" "+l:l);continue}if(g=n(x),!g){l=c+(l.length>0?" "+l:l);continue}b=!1}const p=b0(u).join(":"),y=f?p+km:p,v=y+g;if(o.includes(v))continue;o.push(v);const j=a(g,b);for(let w=0;w<j.length;++w){const k=j[w];o.push(y+k)}l=c+(l.length>0?" "+l:l)}return l};function w0(){let t=0,s,r,n="";for(;t<arguments.length;)(s=arguments[t++])&&(r=Cm(s))&&(n&&(n+=" "),n+=r);return n}const Cm=t=>{if(typeof t=="string")return t;let s,r="";for(let n=0;n<t.length;n++)t[n]&&(s=Cm(t[n]))&&(r&&(r+=" "),r+=s);return r};function N0(t,...s){let r,n,a,o=i;function i(d){const c=s.reduce((u,f)=>f(u),t());return r=v0(c),n=r.cache.get,a=r.cache.set,o=l,l(d)}function l(d){const c=n(d);if(c)return c;const u=j0(d,r);return a(d,u),u}return function(){return o(w0.apply(null,arguments))}}const Ie=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},Rm=/^\[(?:([a-z-]+):)?(.+)\]$/i,S0=/^\d+\/\d+$/,k0=new Set(["px","full","screen"]),C0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E0=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=t=>gr(t)||k0.has(t)||S0.test(t),gs=t=>Ar(t,"length",F0),gr=t=>!!t&&!Number.isNaN(Number(t)),ni=t=>Ar(t,"number",gr),Br=t=>!!t&&Number.isInteger(Number(t)),T0=t=>t.endsWith("%")&&gr(t.slice(0,-1)),ye=t=>Rm.test(t),bs=t=>C0.test(t),P0=new Set(["length","size","percentage"]),I0=t=>Ar(t,P0,_m),D0=t=>Ar(t,"position",_m),O0=new Set(["image","url"]),M0=t=>Ar(t,O0,B0),L0=t=>Ar(t,"",$0),Ur=()=>!0,Ar=(t,s,r)=>{const n=Rm.exec(t);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},F0=t=>R0.test(t)&&!_0.test(t),_m=()=>!1,$0=t=>A0.test(t),B0=t=>E0.test(t),U0=()=>{const t=Ie("colors"),s=Ie("spacing"),r=Ie("blur"),n=Ie("brightness"),a=Ie("borderColor"),o=Ie("borderRadius"),i=Ie("borderSpacing"),l=Ie("borderWidth"),d=Ie("contrast"),c=Ie("grayscale"),u=Ie("hueRotate"),f=Ie("invert"),x=Ie("gap"),h=Ie("gradientColorStops"),b=Ie("gradientColorStopPositions"),g=Ie("inset"),p=Ie("margin"),y=Ie("opacity"),v=Ie("padding"),j=Ie("saturate"),w=Ie("scale"),k=Ie("sepia"),R=Ie("skew"),C=Ie("space"),E=Ie("translate"),O=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",ye,s],I=()=>[ye,s],te=()=>["",ss,gs],H=()=>["auto",gr,ye],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",ye],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[gr,ye];return{cacheSize:500,separator:":",theme:{colors:[Ur],spacing:[ss,gs],blur:["none","",bs,ye],brightness:se(),borderColor:[t],borderRadius:["none","","full",bs,ye],borderSpacing:I(),borderWidth:te(),contrast:se(),grayscale:A(),hueRotate:se(),invert:A(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[T0,gs],inset:q(),margin:q(),opacity:se(),padding:I(),saturate:se(),scale:se(),sepia:A(),skew:se(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[bs]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ye]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Br,ye]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Br,ye]}],"grid-cols":[{"grid-cols":[Ur]}],"col-start-end":[{col:["auto",{span:["full",Br,ye]},ye]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ur]}],"row-start-end":[{row:["auto",{span:[Br,ye]},ye]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,s]}],"min-w":[{"min-w":[ye,s,"min","max","fit"]}],"max-w":[{"max-w":[ye,s,"none","full","min","max","fit","prose",{screen:[bs]},bs]}],h:[{h:[ye,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,s,"auto","min","max","fit"]}],"font-size":[{text:["base",bs,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ni]}],"font-family":[{font:[Ur]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",gr,ni]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,gs]}],"underline-offset":[{"underline-offset":["auto",ss,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),D0]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I0]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M0]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:K()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[ss,ye]}],"outline-w":[{outline:[ss,gs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ss,gs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bs,L0]}],"shadow-color":[{shadow:[Ur]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",bs,ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Br,ye]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ss,gs,ni]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z0=N0(U0);function P(...t){return z0(zu(t))}function we(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t)}function Pl(t,s="short"){const r=new Date(t);return s==="short"?r.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):r.toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Am(t){return new Date(t).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",hour12:!1})}function W0(t){return!t||t==="unknown"||t==="undefined"||t==="null"||t===""?"Not specified":t}function H0(t){return!t||t==="unknown"||t==="undefined"||t==="null"||t===""?"Anonymous User":t}function os(t){const s=t.user_name||t.user;return H0(s)}function is(t){const s=t.payment_method||t.metodeBayar;return W0(s)}function Qe(t){const s=t.order_id||t.reffId;return!s||s==="unknown"||s==="undefined"||s==="null"||s===""?"N/A":s}function Oi(t){return!t||t==="unknown"||t==="undefined"||t==="null"||t===""?"outline":{DANA:"default",OVO:"secondary",GOPAY:"outline",QRIS:"destructive",SALDO:"default",CASH:"secondary",BANK_TRANSFER:"outline",CREDIT_CARD:"destructive",DEBIT_CARD:"outline",E_WALLET:"secondary",BANK:"outline",TRANSFER:"outline"}[t]||"secondary"}const q0=d0,Em=m.forwardRef(({className:t,...s},r)=>e.jsx(bm,{ref:r,className:P("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Em.displayName=bm.displayName;const K0=_r("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tm=m.forwardRef(({className:t,variant:s,...r},n)=>e.jsx(vm,{ref:n,className:P(K0({variant:s}),t),...r}));Tm.displayName=vm.displayName;const V0=m.forwardRef(({className:t,...s},r)=>e.jsx(wm,{ref:r,className:P("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));V0.displayName=wm.displayName;const Pm=m.forwardRef(({className:t,...s},r)=>e.jsx(Nm,{ref:r,className:P("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(yl,{className:"h-4 w-4"})}));Pm.displayName=Nm.displayName;const Im=m.forwardRef(({className:t,...s},r)=>e.jsx(ym,{ref:r,className:P("text-sm font-semibold",t),...s}));Im.displayName=ym.displayName;const Dm=m.forwardRef(({className:t,...s},r)=>e.jsx(jm,{ref:r,className:P("text-sm opacity-90",t),...s}));Dm.displayName=jm.displayName;function G0(){const{toasts:t}=_n();return e.jsxs(q0,{children:[t.map(function({id:s,title:r,description:n,action:a,...o}){return e.jsxs(Tm,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Im,{children:r}),n&&e.jsx(Dm,{children:n})]}),a,e.jsx(Pm,{})]},s)}),e.jsx(Em,{})]})}var bd=["light","dark"],X0="(prefers-color-scheme: dark)",Y0=m.createContext(void 0),J0={setTheme:t=>{},themes:[]},Q0=()=>{var t;return(t=m.useContext(Y0))!=null?t:J0};m.memo(({forcedTheme:t,storageKey:s,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:d})=>{let c=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?bd.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(b,g=!1,p=!0)=>{let y=i?i[b]:b,v=g?b+"|| ''":`'${y}'`,j="";return a&&p&&!g&&bd.includes(b)&&(j+=`d.style.colorScheme = '${b}';`),r==="class"?g||y?j+=`c.add(${v})`:j+="null":y&&(j+=`d[s](n,${v})`),j},h=t?`!function(){${u}${x(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${c})){var t='${X0}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${x(i?"x[e]":"e",!0)}}${c?"":"else{"+x(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${s}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${x(i?"x[e]":"e",!0)}}else{${x(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:h}})});var Z0=t=>{switch(t){case"success":return sy;case"info":return ny;case"warning":return ry;case"error":return ay;default:return null}},ey=Array(12).fill(0),ty=({visible:t,className:s})=>X.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},X.createElement("div",{className:"sonner-spinner"},ey.map((r,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),sy=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ry=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ny=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ay=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oy=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iy=()=>{let[t,s]=X.useState(document.hidden);return X.useEffect(()=>{let r=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Mi=1,ly=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:r,...n}=t,a=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Mi++,o=this.toasts.find(l=>l.id===a),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:r}),{...l,...t,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let n=t instanceof Promise?t:t(),a=r!==void 0,o,i=n.then(async d=>{if(o=["resolve",d],X.isValidElement(d))a=!1,this.create({id:r,type:"default",message:d});else if(dy(d)&&!d.ok){a=!1;let c=typeof s.error=="function"?await s.error(`HTTP error! status: ${d.status}`):s.error,u=typeof s.description=="function"?await s.description(`HTTP error! status: ${d.status}`):s.description;this.create({id:r,type:"error",message:c,description:u})}else if(s.success!==void 0){a=!1;let c=typeof s.success=="function"?await s.success(d):s.success,u=typeof s.description=="function"?await s.description(d):s.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async d=>{if(o=["reject",d],s.error!==void 0){a=!1;let c=typeof s.error=="function"?await s.error(d):s.error,u=typeof s.description=="function"?await s.description(d):s.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var d;a&&(this.dismiss(r),r=void 0),(d=s.finally)==null||d.call(s)}),l=()=>new Promise((d,c)=>i.then(()=>o[0]==="reject"?c(o[1]):d(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,s)=>{let r=(s==null?void 0:s.id)||Mi++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ct=new ly,cy=(t,s)=>{let r=(s==null?void 0:s.id)||Mi++;return ct.addToast({title:t,...s,id:r}),r},dy=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",uy=cy,my=()=>ct.toasts,hy=()=>ct.getActiveToasts();Object.assign(uy,{success:ct.success,info:ct.info,warning:ct.warning,error:ct.error,custom:ct.custom,message:ct.message,promise:ct.promise,dismiss:ct.dismiss,loading:ct.loading},{getHistory:my,getToasts:hy});function fy(t,{insertAt:s}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}fy(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xn(t){return t.label!==void 0}var xy=3,py="32px",gy="16px",vd=4e3,by=356,vy=14,yy=20,jy=200;function It(...t){return t.filter(Boolean).join(" ")}function wy(t){let[s,r]=t.split("-"),n=[];return s&&n.push(s),r&&n.push(r),n}var Ny=t=>{var s,r,n,a,o,i,l,d,c,u,f;let{invert:x,toast:h,unstyled:b,interacting:g,setHeights:p,visibleToasts:y,heights:v,index:j,toasts:w,expanded:k,removeToast:R,defaultRichColors:C,closeButton:E,style:O,cancelButtonStyle:B,actionButtonStyle:q,className:I="",descriptionClassName:te="",duration:H,position:W,gap:K,loadingIcon:U,expandByDefault:D,classNames:A,icons:Q,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:F}=t,[re,le]=X.useState(null),[z,ne]=X.useState(null),[$,de]=X.useState(!1),[je,V]=X.useState(!1),[Z,oe]=X.useState(!1),[Ve,tt]=X.useState(!1),[es,zt]=X.useState(!1),[ts,Fr]=X.useState(0),[tr,Gc]=X.useState(0),$r=X.useRef(h.duration||H||vd),Xc=X.useRef(null),Ps=X.useRef(null),Db=j===0,Ob=j+1<=y,Nt=h.type,sr=h.dismissible!==!1,Mb=h.className||"",Lb=h.descriptionClassName||"",qn=X.useMemo(()=>v.findIndex(be=>be.toastId===h.id)||0,[v,h.id]),Fb=X.useMemo(()=>{var be;return(be=h.closeButton)!=null?be:E},[h.closeButton,E]),Yc=X.useMemo(()=>h.duration||H||vd,[h.duration,H]),Zo=X.useRef(0),rr=X.useRef(0),Jc=X.useRef(0),nr=X.useRef(null),[$b,Bb]=W.split("-"),Qc=X.useMemo(()=>v.reduce((be,Te,Le)=>Le>=qn?be:be+Te.height,0),[v,qn]),Zc=iy(),Ub=h.invert||x,ei=Nt==="loading";rr.current=X.useMemo(()=>qn*K+Qc,[qn,Qc]),X.useEffect(()=>{$r.current=Yc},[Yc]),X.useEffect(()=>{de(!0)},[]),X.useEffect(()=>{let be=Ps.current;if(be){let Te=be.getBoundingClientRect().height;return Gc(Te),p(Le=>[{toastId:h.id,height:Te,position:h.position},...Le]),()=>p(Le=>Le.filter(Et=>Et.toastId!==h.id))}},[p,h.id]),X.useLayoutEffect(()=>{if(!$)return;let be=Ps.current,Te=be.style.height;be.style.height="auto";let Le=be.getBoundingClientRect().height;be.style.height=Te,Gc(Le),p(Et=>Et.find(Tt=>Tt.toastId===h.id)?Et.map(Tt=>Tt.toastId===h.id?{...Tt,height:Le}:Tt):[{toastId:h.id,height:Le,position:h.position},...Et])},[$,h.title,h.description,p,h.id]);let fs=X.useCallback(()=>{V(!0),Fr(rr.current),p(be=>be.filter(Te=>Te.toastId!==h.id)),setTimeout(()=>{R(h)},jy)},[h,R,p,rr]);X.useEffect(()=>{if(h.promise&&Nt==="loading"||h.duration===1/0||h.type==="loading")return;let be;return k||g||F&&Zc?(()=>{if(Jc.current<Zo.current){let Te=new Date().getTime()-Zo.current;$r.current=$r.current-Te}Jc.current=new Date().getTime()})():$r.current!==1/0&&(Zo.current=new Date().getTime(),be=setTimeout(()=>{var Te;(Te=h.onAutoClose)==null||Te.call(h,h),fs()},$r.current)),()=>clearTimeout(be)},[k,g,h,Nt,F,Zc,fs]),X.useEffect(()=>{h.delete&&fs()},[fs,h.delete]);function zb(){var be,Te,Le;return Q!=null&&Q.loading?X.createElement("div",{className:It(A==null?void 0:A.loader,(be=h==null?void 0:h.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Nt==="loading"},Q.loading):U?X.createElement("div",{className:It(A==null?void 0:A.loader,(Te=h==null?void 0:h.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":Nt==="loading"},U):X.createElement(ty,{className:It(A==null?void 0:A.loader,(Le=h==null?void 0:h.classNames)==null?void 0:Le.loader),visible:Nt==="loading"})}return X.createElement("li",{tabIndex:0,ref:Ps,className:It(I,Mb,A==null?void 0:A.toast,(s=h==null?void 0:h.classNames)==null?void 0:s.toast,A==null?void 0:A.default,A==null?void 0:A[Nt],(r=h==null?void 0:h.classNames)==null?void 0:r[Nt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":$,"data-promise":!!h.promise,"data-swiped":es,"data-removed":je,"data-visible":Ob,"data-y-position":$b,"data-x-position":Bb,"data-index":j,"data-front":Db,"data-swiping":Z,"data-dismissible":sr,"data-type":Nt,"data-invert":Ub,"data-swipe-out":Ve,"data-swipe-direction":z,"data-expanded":!!(k||D&&$),style:{"--index":j,"--toasts-before":j,"--z-index":w.length-j,"--offset":`${je?ts:rr.current}px`,"--initial-height":D?"auto":`${tr}px`,...O,...h.style},onDragEnd:()=>{oe(!1),le(null),nr.current=null},onPointerDown:be=>{ei||!sr||(Xc.current=new Date,Fr(rr.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(oe(!0),nr.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Te,Le,Et;if(Ve||!sr)return;nr.current=null;let Tt=Number(((be=Ps.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xs=Number(((Te=Ps.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Is=new Date().getTime()-((Le=Xc.current)==null?void 0:Le.getTime()),Pt=re==="x"?Tt:xs,ps=Math.abs(Pt)/Is;if(Math.abs(Pt)>=yy||ps>.11){Fr(rr.current),(Et=h.onDismiss)==null||Et.call(h,h),ne(re==="x"?Tt>0?"right":"left":xs>0?"down":"up"),fs(),tt(!0),zt(!1);return}oe(!1),le(null)},onPointerMove:be=>{var Te,Le,Et,Tt;if(!nr.current||!sr||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;let xs=be.clientY-nr.current.y,Is=be.clientX-nr.current.x,Pt=(Le=t.swipeDirections)!=null?Le:wy(W);!re&&(Math.abs(Is)>1||Math.abs(xs)>1)&&le(Math.abs(Is)>Math.abs(xs)?"x":"y");let ps={x:0,y:0};re==="y"?(Pt.includes("top")||Pt.includes("bottom"))&&(Pt.includes("top")&&xs<0||Pt.includes("bottom")&&xs>0)&&(ps.y=xs):re==="x"&&(Pt.includes("left")||Pt.includes("right"))&&(Pt.includes("left")&&Is<0||Pt.includes("right")&&Is>0)&&(ps.x=Is),(Math.abs(ps.x)>0||Math.abs(ps.y)>0)&&zt(!0),(Et=Ps.current)==null||Et.style.setProperty("--swipe-amount-x",`${ps.x}px`),(Tt=Ps.current)==null||Tt.style.setProperty("--swipe-amount-y",`${ps.y}px`)}},Fb&&!h.jsx?X.createElement("button",{"aria-label":se,"data-disabled":ei,"data-close-button":!0,onClick:ei||!sr?()=>{}:()=>{var be;fs(),(be=h.onDismiss)==null||be.call(h,h)},className:It(A==null?void 0:A.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(o=Q==null?void 0:Q.close)!=null?o:oy):null,h.jsx||m.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:X.createElement(X.Fragment,null,Nt||h.icon||h.promise?X.createElement("div",{"data-icon":"",className:It(A==null?void 0:A.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zb():null,h.type!=="loading"?h.icon||(Q==null?void 0:Q[Nt])||Z0(Nt):null):null,X.createElement("div",{"data-content":"",className:It(A==null?void 0:A.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},X.createElement("div",{"data-title":"",className:It(A==null?void 0:A.title,(d=h==null?void 0:h.classNames)==null?void 0:d.title)},typeof h.title=="function"?h.title():h.title),h.description?X.createElement("div",{"data-description":"",className:It(te,Lb,A==null?void 0:A.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),m.isValidElement(h.cancel)?h.cancel:h.cancel&&Xn(h.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||B,onClick:be=>{var Te,Le;Xn(h.cancel)&&sr&&((Le=(Te=h.cancel).onClick)==null||Le.call(Te,be),fs())},className:It(A==null?void 0:A.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,m.isValidElement(h.action)?h.action:h.action&&Xn(h.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||q,onClick:be=>{var Te,Le;Xn(h.action)&&((Le=(Te=h.action).onClick)==null||Le.call(Te,be),!be.defaultPrevented&&fs())},className:It(A==null?void 0:A.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function yd(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Sy(t,s){let r={};return[t,s].forEach((n,a)=>{let o=a===1,i=o?"--mobile-offset":"--offset",l=o?gy:py;function d(c){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${i}-${c}`]=l:r[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):d(l)}),r}var ky=m.forwardRef(function(t,s){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:d,mobileOffset:c,theme:u="light",richColors:f,duration:x,style:h,visibleToasts:b=xy,toastOptions:g,dir:p=yd(),gap:y=vy,loadingIcon:v,icons:j,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:k}=t,[R,C]=X.useState([]),E=X.useMemo(()=>Array.from(new Set([n].concat(R.filter(F=>F.position).map(F=>F.position)))),[R,n]),[O,B]=X.useState([]),[q,I]=X.useState(!1),[te,H]=X.useState(!1),[W,K]=X.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=X.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=X.useRef(null),Q=X.useRef(!1),se=X.useCallback(F=>{C(re=>{var le;return(le=re.find(z=>z.id===F.id))!=null&&le.delete||ct.dismiss(F.id),re.filter(({id:z})=>z!==F.id)})},[]);return X.useEffect(()=>ct.subscribe(F=>{if(F.dismiss){C(re=>re.map(le=>le.id===F.id?{...le,delete:!0}:le));return}setTimeout(()=>{Bu.flushSync(()=>{C(re=>{let le=re.findIndex(z=>z.id===F.id);return le!==-1?[...re.slice(0,le),{...re[le],...F},...re.slice(le+1)]:[F,...re]})})})}),[]),X.useEffect(()=>{if(u!=="system"){K(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:re})=>{K(re?"dark":"light")})}catch{F.addListener(({matches:le})=>{try{K(le?"dark":"light")}catch(z){console.error(z)}})}},[u]),X.useEffect(()=>{R.length<=1&&I(!1)},[R]),X.useEffect(()=>{let F=re=>{var le,z;a.every(ne=>re[ne]||re.code===ne)&&(I(!0),(le=U.current)==null||le.focus()),re.code==="Escape"&&(document.activeElement===U.current||(z=U.current)!=null&&z.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),X.useEffect(()=>{if(U.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,Q.current=!1)}},[U.current]),X.createElement("section",{ref:s,"aria-label":`${w} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((F,re)=>{var le;let[z,ne]=F.split("-");return R.length?X.createElement("ol",{key:F,dir:p==="auto"?yd():p,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":z,"data-lifted":q&&R.length>1&&!o,"data-x-position":ne,style:{"--front-toast-height":`${((le=O[0])==null?void 0:le.height)||0}px`,"--width":`${by}px`,"--gap":`${y}px`,...h,...Sy(d,c)},onBlur:$=>{Q.current&&!$.currentTarget.contains($.relatedTarget)&&(Q.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,A.current=$.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{te||I(!1)},onDragEnd:()=>I(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},R.filter($=>!$.position&&re===0||$.position===F).map(($,de)=>{var je,V;return X.createElement(Ny,{key:$.id,icons:j,index:de,toast:$,defaultRichColors:f,duration:(je=g==null?void 0:g.duration)!=null?je:x,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(V=g==null?void 0:g.closeButton)!=null?V:i,interacting:te,position:F,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:se,toasts:R.filter(Z=>Z.position==$.position),heights:O.filter(Z=>Z.position==$.position),setHeights:B,expandByDefault:o,gap:y,loadingIcon:v,expanded:q,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const Cy=({...t})=>{const{theme:s="system"}=Q0();return e.jsx(ky,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Ry=Uu[" useId ".trim().toString()]||(()=>{}),_y=0;function _t(t){const[s,r]=m.useState(Ry());return Be(()=>{t||r(n=>n??String(_y++))},[t]),t||(s?`radix-${s}`:"")}const Ay=["top","right","bottom","left"],_s=Math.min,bt=Math.max,La=Math.round,Yn=Math.floor,Yt=t=>({x:t,y:t}),Ey={left:"right",right:"left",bottom:"top",top:"bottom"},Ty={start:"end",end:"start"};function Li(t,s,r){return bt(t,_s(s,r))}function us(t,s){return typeof t=="function"?t(s):t}function ms(t){return t.split("-")[0]}function Er(t){return t.split("-")[1]}function Il(t){return t==="x"?"y":"x"}function Dl(t){return t==="y"?"height":"width"}const Py=new Set(["top","bottom"]);function Gt(t){return Py.has(ms(t))?"y":"x"}function Ol(t){return Il(Gt(t))}function Iy(t,s,r){r===void 0&&(r=!1);const n=Er(t),a=Ol(t),o=Dl(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[o]>s.floating[o]&&(i=Fa(i)),[i,Fa(i)]}function Dy(t){const s=Fa(t);return[Fi(t),s,Fi(s)]}function Fi(t){return t.replace(/start|end/g,s=>Ty[s])}const jd=["left","right"],wd=["right","left"],Oy=["top","bottom"],My=["bottom","top"];function Ly(t,s,r){switch(t){case"top":case"bottom":return r?s?wd:jd:s?jd:wd;case"left":case"right":return s?Oy:My;default:return[]}}function Fy(t,s,r,n){const a=Er(t);let o=Ly(ms(t),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),s&&(o=o.concat(o.map(Fi)))),o}function Fa(t){return t.replace(/left|right|bottom|top/g,s=>Ey[s])}function $y(t){return{top:0,right:0,bottom:0,left:0,...t}}function Om(t){return typeof t!="number"?$y(t):{top:t,right:t,bottom:t,left:t}}function $a(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function Nd(t,s,r){let{reference:n,floating:a}=t;const o=Gt(s),i=Ol(s),l=Dl(i),d=ms(s),c=o==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,x=n[l]/2-a[l]/2;let h;switch(d){case"top":h={x:u,y:n.y-a.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Er(s)){case"start":h[i]-=x*(r&&c?-1:1);break;case"end":h[i]+=x*(r&&c?-1:1);break}return h}const By=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(s));let c=await i.getElementRects({reference:t,floating:s,strategy:a}),{x:u,y:f}=Nd(c,n,d),x=n,h={},b=0;for(let g=0;g<l.length;g++){const{name:p,fn:y}=l[g],{x:v,y:j,data:w,reset:k}=await y({x:u,y:f,initialPlacement:n,placement:x,strategy:a,middlewareData:h,rects:c,platform:i,elements:{reference:t,floating:s}});u=v??u,f=j??f,h={...h,[p]:{...h[p],...w}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(x=k.placement),k.rects&&(c=k.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:a}):k.rects),{x:u,y:f}=Nd(c,x,d)),g=-1)}return{x:u,y:f,placement:x,strategy:a,middlewareData:h}};async function xn(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:d}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:x=!1,padding:h=0}=us(s,t),b=Om(h),p=l[x?f==="floating"?"reference":"floating":f],y=$a(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(p)))==null||r?p:p.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:d})),v=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},k=$a(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:j,strategy:d}):v);return{top:(y.top-k.top+b.top)/w.y,bottom:(k.bottom-y.bottom+b.bottom)/w.y,left:(y.left-k.left+b.left)/w.x,right:(k.right-y.right+b.right)/w.x}}const Uy=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:d}=s,{element:c,padding:u=0}=us(t,s)||{};if(c==null)return{};const f=Om(u),x={x:r,y:n},h=Ol(a),b=Dl(h),g=await i.getDimensions(c),p=h==="y",y=p?"top":"left",v=p?"bottom":"right",j=p?"clientHeight":"clientWidth",w=o.reference[b]+o.reference[h]-x[h]-o.floating[b],k=x[h]-o.reference[h],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=R?R[j]:0;(!C||!await(i.isElement==null?void 0:i.isElement(R)))&&(C=l.floating[j]||o.floating[b]);const E=w/2-k/2,O=C/2-g[b]/2-1,B=_s(f[y],O),q=_s(f[v],O),I=B,te=C-g[b]-q,H=C/2-g[b]/2+E,W=Li(I,H,te),K=!d.arrow&&Er(a)!=null&&H!==W&&o.reference[b]/2-(H<I?B:q)-g[b]/2<0,U=K?H<I?H-I:H-te:0;return{[h]:x[h]+U,data:{[h]:W,centerOffset:H-W-U,...K&&{alignmentOffset:U}},reset:K}}}),zy=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:d,elements:c}=s,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:x,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...p}=us(t,s);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=ms(a),v=Gt(l),j=ms(l)===l,w=await(d.isRTL==null?void 0:d.isRTL(c.floating)),k=x||(j||!g?[Fa(l)]:Dy(l)),R=b!=="none";!x&&R&&k.push(...Fy(l,g,b,w));const C=[l,...k],E=await xn(s,p),O=[];let B=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&O.push(E[y]),f){const H=Iy(a,i,w);O.push(E[H[0]],E[H[1]])}if(B=[...B,{placement:a,overflows:O}],!O.every(H=>H<=0)){var q,I;const H=(((q=o.flip)==null?void 0:q.index)||0)+1,W=C[H];if(W&&(!(f==="alignment"?v!==Gt(W):!1)||B.every(D=>D.overflows[0]>0&&Gt(D.placement)===v)))return{data:{index:H,overflows:B},reset:{placement:W}};let K=(I=B.filter(U=>U.overflows[0]<=0).sort((U,D)=>U.overflows[1]-D.overflows[1])[0])==null?void 0:I.placement;if(!K)switch(h){case"bestFit":{var te;const U=(te=B.filter(D=>{if(R){const A=Gt(D.placement);return A===v||A==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(A=>A>0).reduce((A,Q)=>A+Q,0)]).sort((D,A)=>D[1]-A[1])[0])==null?void 0:te[0];U&&(K=U);break}case"initialPlacement":K=l;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function Sd(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function kd(t){return Ay.some(s=>t[s]>=0)}const Wy=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=us(t,s);switch(n){case"referenceHidden":{const o=await xn(s,{...a,elementContext:"reference"}),i=Sd(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:kd(i)}}}case"escaped":{const o=await xn(s,{...a,altBoundary:!0}),i=Sd(o,r.floating);return{data:{escapedOffsets:i,escaped:kd(i)}}}default:return{}}}}},Mm=new Set(["left","top"]);async function Hy(t,s){const{placement:r,platform:n,elements:a}=t,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=ms(r),l=Er(r),d=Gt(r)==="y",c=Mm.has(i)?-1:1,u=o&&d?-1:1,f=us(s,t);let{mainAxis:x,crossAxis:h,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(h=l==="end"?b*-1:b),d?{x:h*u,y:x*c}:{x:x*c,y:h*u}}const qy=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:o,placement:i,middlewareData:l}=s,d=await Hy(s,t);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:i}}}}},Ky=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:p=>{let{x:y,y:v}=p;return{x:y,y:v}}},...d}=us(t,s),c={x:r,y:n},u=await xn(s,d),f=Gt(ms(a)),x=Il(f);let h=c[x],b=c[f];if(o){const p=x==="y"?"top":"left",y=x==="y"?"bottom":"right",v=h+u[p],j=h-u[y];h=Li(v,h,j)}if(i){const p=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=b+u[p],j=b-u[y];b=Li(v,b,j)}const g=l.fn({...s,[x]:h,[f]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[x]:o,[f]:i}}}}}},Vy=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:o,middlewareData:i}=s,{offset:l=0,mainAxis:d=!0,crossAxis:c=!0}=us(t,s),u={x:r,y:n},f=Gt(a),x=Il(f);let h=u[x],b=u[f];const g=us(l,s),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(d){const j=x==="y"?"height":"width",w=o.reference[x]-o.floating[j]+p.mainAxis,k=o.reference[x]+o.reference[j]-p.mainAxis;h<w?h=w:h>k&&(h=k)}if(c){var y,v;const j=x==="y"?"width":"height",w=Mm.has(ms(a)),k=o.reference[f]-o.floating[j]+(w&&((y=i.offset)==null?void 0:y[f])||0)+(w?0:p.crossAxis),R=o.reference[f]+o.reference[j]+(w?0:((v=i.offset)==null?void 0:v[f])||0)-(w?p.crossAxis:0);b<k?b=k:b>R&&(b=R)}return{[x]:h,[f]:b}}}},Gy=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:o,platform:i,elements:l}=s,{apply:d=()=>{},...c}=us(t,s),u=await xn(s,c),f=ms(a),x=Er(a),h=Gt(a)==="y",{width:b,height:g}=o.floating;let p,y;f==="top"||f==="bottom"?(p=f,y=x===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,p=x==="end"?"top":"bottom");const v=g-u.top-u.bottom,j=b-u.left-u.right,w=_s(g-u[p],v),k=_s(b-u[y],j),R=!s.middlewareData.shift;let C=w,E=k;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(E=j),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(C=v),R&&!x){const B=bt(u.left,0),q=bt(u.right,0),I=bt(u.top,0),te=bt(u.bottom,0);h?E=b-2*(B!==0||q!==0?B+q:bt(u.left,u.right)):C=g-2*(I!==0||te!==0?I+te:bt(u.top,u.bottom))}await d({...s,availableWidth:E,availableHeight:C});const O=await i.getDimensions(l.floating);return b!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function mo(){return typeof window<"u"}function Tr(t){return Lm(t)?(t.nodeName||"").toLowerCase():"#document"}function yt(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Zt(t){var s;return(s=(Lm(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Lm(t){return mo()?t instanceof Node||t instanceof yt(t).Node:!1}function Ft(t){return mo()?t instanceof Element||t instanceof yt(t).Element:!1}function Jt(t){return mo()?t instanceof HTMLElement||t instanceof yt(t).HTMLElement:!1}function Cd(t){return!mo()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yt(t).ShadowRoot}const Xy=new Set(["inline","contents"]);function Tn(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=$t(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!Xy.has(a)}const Yy=new Set(["table","td","th"]);function Jy(t){return Yy.has(Tr(t))}const Qy=[":popover-open",":modal"];function ho(t){return Qy.some(s=>{try{return t.matches(s)}catch{return!1}})}const Zy=["transform","translate","scale","rotate","perspective"],ej=["transform","translate","scale","rotate","perspective","filter"],tj=["paint","layout","strict","content"];function Ml(t){const s=Ll(),r=Ft(t)?$t(t):t;return Zy.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||ej.some(n=>(r.willChange||"").includes(n))||tj.some(n=>(r.contain||"").includes(n))}function sj(t){let s=As(t);for(;Jt(s)&&!Nr(s);){if(Ml(s))return s;if(ho(s))return null;s=As(s)}return null}function Ll(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rj=new Set(["html","body","#document"]);function Nr(t){return rj.has(Tr(t))}function $t(t){return yt(t).getComputedStyle(t)}function fo(t){return Ft(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function As(t){if(Tr(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Cd(t)&&t.host||Zt(t);return Cd(s)?s.host:s}function Fm(t){const s=As(t);return Nr(s)?t.ownerDocument?t.ownerDocument.body:t.body:Jt(s)&&Tn(s)?s:Fm(s)}function pn(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=Fm(t),o=a===((n=t.ownerDocument)==null?void 0:n.body),i=yt(a);if(o){const l=$i(i);return s.concat(i,i.visualViewport||[],Tn(a)?a:[],l&&r?pn(l):[])}return s.concat(a,pn(a,[],r))}function $i(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $m(t){const s=$t(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=Jt(t),o=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=La(r)!==o||La(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Fl(t){return Ft(t)?t:t.contextElement}function br(t){const s=Fl(t);if(!Jt(s))return Yt(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:o}=$m(s);let i=(o?La(r.width):r.width)/n,l=(o?La(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const nj=Yt(0);function Bm(t){const s=yt(t);return!Ll()||!s.visualViewport?nj:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function aj(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==yt(t)?!1:s}function Hs(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),o=Fl(t);let i=Yt(1);s&&(n?Ft(n)&&(i=br(n)):i=br(t));const l=aj(o,r,n)?Bm(o):Yt(0);let d=(a.left+l.x)/i.x,c=(a.top+l.y)/i.y,u=a.width/i.x,f=a.height/i.y;if(o){const x=yt(o),h=n&&Ft(n)?yt(n):n;let b=x,g=$i(b);for(;g&&n&&h!==b;){const p=br(g),y=g.getBoundingClientRect(),v=$t(g),j=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*p.x,w=y.top+(g.clientTop+parseFloat(v.paddingTop))*p.y;d*=p.x,c*=p.y,u*=p.x,f*=p.y,d+=j,c+=w,b=yt(g),g=$i(b)}}return $a({width:u,height:f,x:d,y:c})}function $l(t,s){const r=fo(t).scrollLeft;return s?s.left+r:Hs(Zt(t)).left+r}function Um(t,s,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+s.scrollLeft-(r?0:$l(t,n)),o=n.top+s.scrollTop;return{x:a,y:o}}function oj(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const o=a==="fixed",i=Zt(n),l=s?ho(s.floating):!1;if(n===i||l&&o)return r;let d={scrollLeft:0,scrollTop:0},c=Yt(1);const u=Yt(0),f=Jt(n);if((f||!f&&!o)&&((Tr(n)!=="body"||Tn(i))&&(d=fo(n)),Jt(n))){const h=Hs(n);c=br(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const x=i&&!f&&!o?Um(i,d,!0):Yt(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-d.scrollLeft*c.x+u.x+x.x,y:r.y*c.y-d.scrollTop*c.y+u.y+x.y}}function ij(t){return Array.from(t.getClientRects())}function lj(t){const s=Zt(t),r=fo(t),n=t.ownerDocument.body,a=bt(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),o=bt(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+$l(t);const l=-r.scrollTop;return $t(n).direction==="rtl"&&(i+=bt(s.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function cj(t,s){const r=yt(t),n=Zt(t),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,d=0;if(a){o=a.width,i=a.height;const c=Ll();(!c||c&&s==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}return{width:o,height:i,x:l,y:d}}const dj=new Set(["absolute","fixed"]);function uj(t,s){const r=Hs(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,o=Jt(t)?br(t):Yt(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,d=a*o.x,c=n*o.y;return{width:i,height:l,x:d,y:c}}function Rd(t,s,r){let n;if(s==="viewport")n=cj(t,r);else if(s==="document")n=lj(Zt(t));else if(Ft(s))n=uj(s,r);else{const a=Bm(t);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return $a(n)}function zm(t,s){const r=As(t);return r===s||!Ft(r)||Nr(r)?!1:$t(r).position==="fixed"||zm(r,s)}function mj(t,s){const r=s.get(t);if(r)return r;let n=pn(t,[],!1).filter(l=>Ft(l)&&Tr(l)!=="body"),a=null;const o=$t(t).position==="fixed";let i=o?As(t):t;for(;Ft(i)&&!Nr(i);){const l=$t(i),d=Ml(i);!d&&l.position==="fixed"&&(a=null),(o?!d&&!a:!d&&l.position==="static"&&!!a&&dj.has(a.position)||Tn(i)&&!d&&zm(t,i))?n=n.filter(u=>u!==i):a=l,i=As(i)}return s.set(t,n),n}function hj(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const i=[...r==="clippingAncestors"?ho(s)?[]:mj(s,this._c):[].concat(r),n],l=i[0],d=i.reduce((c,u)=>{const f=Rd(s,u,a);return c.top=bt(f.top,c.top),c.right=_s(f.right,c.right),c.bottom=_s(f.bottom,c.bottom),c.left=bt(f.left,c.left),c},Rd(s,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function fj(t){const{width:s,height:r}=$m(t);return{width:s,height:r}}function xj(t,s,r){const n=Jt(s),a=Zt(s),o=r==="fixed",i=Hs(t,!0,o,s);let l={scrollLeft:0,scrollTop:0};const d=Yt(0);function c(){d.x=$l(a)}if(n||!n&&!o)if((Tr(s)!=="body"||Tn(a))&&(l=fo(s)),n){const h=Hs(s,!0,o,s);d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}else a&&c();o&&!n&&a&&c();const u=a&&!n&&!o?Um(a,l):Yt(0),f=i.left+l.scrollLeft-d.x-u.x,x=i.top+l.scrollTop-d.y-u.y;return{x:f,y:x,width:i.width,height:i.height}}function ai(t){return $t(t).position==="static"}function _d(t,s){if(!Jt(t)||$t(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return Zt(t)===r&&(r=r.ownerDocument.body),r}function Wm(t,s){const r=yt(t);if(ho(t))return r;if(!Jt(t)){let a=As(t);for(;a&&!Nr(a);){if(Ft(a)&&!ai(a))return a;a=As(a)}return r}let n=_d(t,s);for(;n&&Jy(n)&&ai(n);)n=_d(n,s);return n&&Nr(n)&&ai(n)&&!Ml(n)?r:n||sj(t)||r}const pj=async function(t){const s=this.getOffsetParent||Wm,r=this.getDimensions,n=await r(t.floating);return{reference:xj(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gj(t){return $t(t).direction==="rtl"}const bj={convertOffsetParentRelativeRectToViewportRelativeRect:oj,getDocumentElement:Zt,getClippingRect:hj,getOffsetParent:Wm,getElementRects:pj,getClientRects:ij,getDimensions:fj,getScale:br,isElement:Ft,isRTL:gj};function Hm(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function vj(t,s){let r=null,n;const a=Zt(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:x,height:h}=c;if(l||s(),!x||!h)return;const b=Yn(f),g=Yn(a.clientWidth-(u+x)),p=Yn(a.clientHeight-(f+h)),y=Yn(u),j={rootMargin:-b+"px "+-g+"px "+-p+"px "+-y+"px",threshold:bt(0,_s(1,d))||1};let w=!0;function k(R){const C=R[0].intersectionRatio;if(C!==d){if(!w)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!Hm(c,t.getBoundingClientRect())&&i(),w=!1}try{r=new IntersectionObserver(k,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,j)}r.observe(t)}return i(!0),o}function yj(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,c=Fl(t),u=a||o?[...c?pn(c):[],...pn(s)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=c&&l?vj(c,r):null;let x=-1,h=null;i&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&h&&(h.unobserve(s),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(s)})),r()}),c&&!d&&h.observe(c),h.observe(s));let b,g=d?Hs(t):null;d&&p();function p(){const y=Hs(t);g&&!Hm(g,y)&&r(),g=y,b=requestAnimationFrame(p)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),o&&v.removeEventListener("resize",r)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,d&&cancelAnimationFrame(b)}}const jj=qy,wj=Ky,Nj=zy,Sj=Gy,kj=Wy,Ad=Uy,Cj=Vy,Rj=(t,s,r)=>{const n=new Map,a={platform:bj,...r},o={...a.platform,_c:n};return By(t,s,{...a,platform:o})};var _j=typeof document<"u",Aj=function(){},xa=_j?m.useLayoutEffect:Aj;function Ba(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!Ba(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&t.$$typeof)&&!Ba(t[o],s[o]))return!1}return!0}return t!==t&&s!==s}function qm(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ed(t,s){const r=qm(t);return Math.round(s*r)/r}function oi(t){const s=m.useRef(t);return xa(()=>{s.current=t}),s}function Ej(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:d,open:c}=t,[u,f]=m.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[x,h]=m.useState(n);Ba(x,n)||h(n);const[b,g]=m.useState(null),[p,y]=m.useState(null),v=m.useCallback(D=>{D!==R.current&&(R.current=D,g(D))},[]),j=m.useCallback(D=>{D!==C.current&&(C.current=D,y(D))},[]),w=o||b,k=i||p,R=m.useRef(null),C=m.useRef(null),E=m.useRef(u),O=d!=null,B=oi(d),q=oi(a),I=oi(c),te=m.useCallback(()=>{if(!R.current||!C.current)return;const D={placement:s,strategy:r,middleware:x};q.current&&(D.platform=q.current),Rj(R.current,C.current,D).then(A=>{const Q={...A,isPositioned:I.current!==!1};H.current&&!Ba(E.current,Q)&&(E.current=Q,kr.flushSync(()=>{f(Q)}))})},[x,s,r,q,I]);xa(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[c]);const H=m.useRef(!1);xa(()=>(H.current=!0,()=>{H.current=!1}),[]),xa(()=>{if(w&&(R.current=w),k&&(C.current=k),w&&k){if(B.current)return B.current(w,k,te);te()}},[w,k,te,B,O]);const W=m.useMemo(()=>({reference:R,floating:C,setReference:v,setFloating:j}),[v,j]),K=m.useMemo(()=>({reference:w,floating:k}),[w,k]),U=m.useMemo(()=>{const D={position:r,left:0,top:0};if(!K.floating)return D;const A=Ed(K.floating,u.x),Q=Ed(K.floating,u.y);return l?{...D,transform:"translate("+A+"px, "+Q+"px)",...qm(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:Q}},[r,l,K.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:te,refs:W,elements:K,floatingStyles:U}),[u,te,W,K,U])}const Tj=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?Ad({element:n.current,padding:a}).fn(r):{}:n?Ad({element:n,padding:a}).fn(r):{}}}},Pj=(t,s)=>({...jj(t),options:[t,s]}),Ij=(t,s)=>({...wj(t),options:[t,s]}),Dj=(t,s)=>({...Cj(t),options:[t,s]}),Oj=(t,s)=>({...Nj(t),options:[t,s]}),Mj=(t,s)=>({...Sj(t),options:[t,s]}),Lj=(t,s)=>({...kj(t),options:[t,s]}),Fj=(t,s)=>({...Tj(t),options:[t,s]});var $j="Arrow",Km=m.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...o}=t;return e.jsx(ie.svg,{...o,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Km.displayName=$j;var Bj=Km;function Bl(t){const[s,r]=m.useState(void 0);return Be(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const d=o.borderBoxSize,c=Array.isArray(d)?d[0]:d;i=c.inlineSize,l=c.blockSize}else i=t.offsetWidth,l=t.offsetHeight;r({width:i,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var Ul="Popper",[Vm,Pr]=et(Ul),[Uj,Gm]=Vm(Ul),Xm=t=>{const{__scopePopper:s,children:r}=t,[n,a]=m.useState(null);return e.jsx(Uj,{scope:s,anchor:n,onAnchorChange:a,children:r})};Xm.displayName=Ul;var Ym="PopperAnchor",Jm=m.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,o=Gm(Ym,r),i=m.useRef(null),l=Ce(s,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:e.jsx(ie.div,{...a,ref:l})});Jm.displayName=Ym;var zl="PopperContent",[zj,Wj]=Vm(zl),Qm=m.forwardRef((t,s)=>{var $,de,je,V,Z,oe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:x=!1,updatePositionStrategy:h="optimized",onPlaced:b,...g}=t,p=Gm(zl,r),[y,v]=m.useState(null),j=Ce(s,Ve=>v(Ve)),[w,k]=m.useState(null),R=Bl(w),C=(R==null?void 0:R.width)??0,E=(R==null?void 0:R.height)??0,O=n+(o!=="center"?"-"+o:""),B=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},q=Array.isArray(c)?c:[c],I=q.length>0,te={padding:B,boundary:q.filter(qj),altBoundary:I},{refs:H,floatingStyles:W,placement:K,isPositioned:U,middlewareData:D}=Ej({strategy:"fixed",placement:O,whileElementsMounted:(...Ve)=>yj(...Ve,{animationFrame:h==="always"}),elements:{reference:p.anchor},middleware:[Pj({mainAxis:a+E,alignmentAxis:i}),d&&Ij({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Dj():void 0,...te}),d&&Oj({...te}),Mj({...te,apply:({elements:Ve,rects:tt,availableWidth:es,availableHeight:zt})=>{const{width:ts,height:Fr}=tt.reference,tr=Ve.floating.style;tr.setProperty("--radix-popper-available-width",`${es}px`),tr.setProperty("--radix-popper-available-height",`${zt}px`),tr.setProperty("--radix-popper-anchor-width",`${ts}px`),tr.setProperty("--radix-popper-anchor-height",`${Fr}px`)}}),w&&Fj({element:w,padding:l}),Kj({arrowWidth:C,arrowHeight:E}),x&&Lj({strategy:"referenceHidden",...te})]}),[A,Q]=th(K),se=it(b);Be(()=>{U&&(se==null||se())},[U,se]);const F=($=D.arrow)==null?void 0:$.x,re=(de=D.arrow)==null?void 0:de.y,le=((je=D.arrow)==null?void 0:je.centerOffset)!==0,[z,ne]=m.useState();return Be(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),e.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:U?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(V=D.transformOrigin)==null?void 0:V.x,(Z=D.transformOrigin)==null?void 0:Z.y].join(" "),...((oe=D.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(zj,{scope:r,placedSide:A,onArrowChange:k,arrowX:F,arrowY:re,shouldHideArrow:le,children:e.jsx(ie.div,{"data-side":A,"data-align":Q,...g,ref:j,style:{...g.style,animation:U?void 0:"none"}})})})});Qm.displayName=zl;var Zm="PopperArrow",Hj={top:"bottom",right:"left",bottom:"top",left:"right"},eh=m.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,o=Wj(Zm,n),i=Hj[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(Bj,{...a,ref:r,style:{...a.style,display:"block"}})})});eh.displayName=Zm;function qj(t){return t!==null}var Kj=t=>({name:"transformOrigin",options:t,fn(s){var p,y,v;const{placement:r,rects:n,middlewareData:a}=s,i=((p=a.arrow)==null?void 0:p.centerOffset)!==0,l=i?0:t.arrowWidth,d=i?0:t.arrowHeight,[c,u]=th(r),f={start:"0%",center:"50%",end:"100%"}[u],x=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,h=(((v=a.arrow)==null?void 0:v.y)??0)+d/2;let b="",g="";return c==="bottom"?(b=i?f:`${x}px`,g=`${-d}px`):c==="top"?(b=i?f:`${x}px`,g=`${n.floating.height+d}px`):c==="right"?(b=`${-d}px`,g=i?f:`${h}px`):c==="left"&&(b=`${n.floating.width+d}px`,g=i?f:`${h}px`),{data:{x:b,y:g}}}});function th(t){const[s,r="center"]=t.split("-");return[s,r]}var Wl=Xm,Hl=Jm,ql=Qm,Kl=eh,[xo,gA]=et("Tooltip",[Pr]),po=Pr(),sh="TooltipProvider",Vj=700,Bi="tooltip.open",[Gj,Vl]=xo(sh),rh=t=>{const{__scopeTooltip:s,delayDuration:r=Vj,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=t,i=m.useRef(!0),l=m.useRef(!1),d=m.useRef(0);return m.useEffect(()=>{const c=d.current;return()=>window.clearTimeout(c)},[]),e.jsx(Gj,{scope:s,isOpenDelayedRef:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(d.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(c=>{l.current=c},[]),disableHoverableContent:a,children:o})};rh.displayName=sh;var gn="Tooltip",[Xj,go]=xo(gn),nh=t=>{const{__scopeTooltip:s,children:r,open:n,defaultOpen:a,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=t,d=Vl(gn,t.__scopeTooltip),c=po(s),[u,f]=m.useState(null),x=_t(),h=m.useRef(0),b=i??d.disableHoverableContent,g=l??d.delayDuration,p=m.useRef(!1),[y,v]=Lt({prop:n,defaultProp:a??!1,onChange:C=>{C?(d.onOpen(),document.dispatchEvent(new CustomEvent(Bi))):d.onClose(),o==null||o(C)},caller:gn}),j=m.useMemo(()=>y?p.current?"delayed-open":"instant-open":"closed",[y]),w=m.useCallback(()=>{window.clearTimeout(h.current),h.current=0,p.current=!1,v(!0)},[v]),k=m.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),R=m.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{p.current=!0,v(!0),h.current=0},g)},[g,v]);return m.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),e.jsx(Wl,{...c,children:e.jsx(Xj,{scope:s,contentId:x,open:y,stateAttribute:j,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{d.isOpenDelayedRef.current?R():w()},[d.isOpenDelayedRef,R,w]),onTriggerLeave:m.useCallback(()=>{b?k():(window.clearTimeout(h.current),h.current=0)},[k,b]),onOpen:w,onClose:k,disableHoverableContent:b,children:r})})};nh.displayName=gn;var Ui="TooltipTrigger",ah=m.forwardRef((t,s)=>{const{__scopeTooltip:r,...n}=t,a=go(Ui,r),o=Vl(Ui,r),i=po(r),l=m.useRef(null),d=Ce(s,l,a.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),e.jsx(Hl,{asChild:!0,...i,children:e.jsx(ie.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:d,onPointerMove:J(t.onPointerMove,x=>{x.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:J(t.onPointerDown,()=>{a.open&&a.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(t.onFocus,()=>{c.current||a.onOpen()}),onBlur:J(t.onBlur,a.onClose),onClick:J(t.onClick,a.onClose)})})});ah.displayName=Ui;var Yj="TooltipPortal",[bA,Jj]=xo(Yj,{forceMount:void 0}),Sr="TooltipContent",oh=m.forwardRef((t,s)=>{const r=Jj(Sr,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=t,i=go(Sr,t.__scopeTooltip);return e.jsx(wt,{present:n||i.open,children:i.disableHoverableContent?e.jsx(ih,{side:a,...o,ref:s}):e.jsx(Qj,{side:a,...o,ref:s})})}),Qj=m.forwardRef((t,s)=>{const r=go(Sr,t.__scopeTooltip),n=Vl(Sr,t.__scopeTooltip),a=m.useRef(null),o=Ce(s,a),[i,l]=m.useState(null),{trigger:d,onClose:c}=r,u=a.current,{onPointerInTransitChange:f}=n,x=m.useCallback(()=>{l(null),f(!1)},[f]),h=m.useCallback((b,g)=>{const p=b.currentTarget,y={x:b.clientX,y:b.clientY},v=rw(y,p.getBoundingClientRect()),j=nw(y,v),w=aw(g.getBoundingClientRect()),k=iw([...j,...w]);l(k),f(!0)},[f]);return m.useEffect(()=>()=>x(),[x]),m.useEffect(()=>{if(d&&u){const b=p=>h(p,u),g=p=>h(p,d);return d.addEventListener("pointerleave",b),u.addEventListener("pointerleave",g),()=>{d.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",g)}}},[d,u,h,x]),m.useEffect(()=>{if(i){const b=g=>{const p=g.target,y={x:g.clientX,y:g.clientY},v=(d==null?void 0:d.contains(p))||(u==null?void 0:u.contains(p)),j=!ow(y,i);v?x():j&&(x(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,u,i,c,x]),e.jsx(ih,{...t,ref:o})}),[Zj,ew]=xo(gn,{isInside:!1}),tw=Sv("TooltipContent"),ih=m.forwardRef((t,s)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=t,d=go(Sr,r),c=po(r),{onClose:u}=d;return m.useEffect(()=>(document.addEventListener(Bi,u),()=>document.removeEventListener(Bi,u)),[u]),m.useEffect(()=>{if(d.trigger){const f=x=>{const h=x.target;h!=null&&h.contains(d.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,u]),e.jsx(Rr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:e.jsxs(ql,{"data-state":d.stateAttribute,...c,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(tw,{children:n}),e.jsx(Zj,{scope:r,isInside:!0,children:e.jsx(Kv,{id:d.contentId,role:"tooltip",children:a||n})})]})})});oh.displayName=Sr;var lh="TooltipArrow",sw=m.forwardRef((t,s)=>{const{__scopeTooltip:r,...n}=t,a=po(r);return ew(lh,r).isInside?null:e.jsx(Kl,{...a,...n,ref:s})});sw.displayName=lh;function rw(t,s){const r=Math.abs(s.top-t.y),n=Math.abs(s.bottom-t.y),a=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nw(t,s,r=5){const n=[];switch(s){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function aw(t){const{top:s,right:r,bottom:n,left:a}=t;return[{x:a,y:s},{x:r,y:s},{x:r,y:n},{x:a,y:n}]}function ow(t,s){const{x:r,y:n}=t;let a=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o],d=s[i],c=l.x,u=l.y,f=d.x,x=d.y;u>n!=x>n&&r<(f-c)*(n-u)/(x-u)+c&&(a=!a)}return a}function iw(t){const s=t.slice();return s.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lw(s)}function lw(t){if(t.length<=1)return t.slice();const s=[];for(let n=0;n<t.length;n++){const a=t[n];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))s.pop();else break}s.push(a)}s.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var cw=rh,dw=nh,uw=ah,ch=oh;const dh=cw,mw=dw,hw=uw,uh=m.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(ch,{ref:n,sideOffset:s,className:P("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));uh.displayName=ch.displayName;const ii=768;function fw(){const[t,s]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ii-1}px)`),n=()=>{s(window.innerWidth<ii)};return r.addEventListener("change",n),s(window.innerWidth<ii),()=>r.removeEventListener("change",n)},[]),!!t}const xw=_r("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors transition-transform active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-200 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 rounded-lg",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-xl px-8",icon:"h-10 w-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}}),ee=m.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},o)=>{const i=n?Cr:"button";return e.jsx(i,{className:P(xw({variant:s,size:r,className:t})),ref:o,...a})});ee.displayName="Button";const nt=m.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:P("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));nt.displayName="Input";var pw="Separator",Td="horizontal",gw=["horizontal","vertical"],mh=m.forwardRef((t,s)=>{const{decorative:r,orientation:n=Td,...a}=t,o=bw(n)?n:Td,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(ie.div,{"data-orientation":o,...l,...a,ref:s})});mh.displayName=pw;function bw(t){return gw.includes(t)}var hh=mh;const as=m.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...n},a)=>e.jsx(hh,{ref:a,decorative:r,orientation:s,className:P("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));as.displayName=hh.displayName;var li="focusScope.autoFocusOnMount",ci="focusScope.autoFocusOnUnmount",Pd={bubbles:!1,cancelable:!0},vw="FocusScope",bo=m.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=t,[l,d]=m.useState(null),c=it(a),u=it(o),f=m.useRef(null),x=Ce(s,g=>d(g)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(j){if(h.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:js(f.current,{select:!0})},p=function(j){if(h.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||js(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const k of j)k.removedNodes.length>0&&js(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",p);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",p),v.disconnect()}}},[n,l,h.paused]),m.useEffect(()=>{if(l){Dd.add(h);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(li,Pd);l.addEventListener(li,c),l.dispatchEvent(y),y.defaultPrevented||(yw(kw(fh(l)),{select:!0}),document.activeElement===g&&js(l))}return()=>{l.removeEventListener(li,c),setTimeout(()=>{const y=new CustomEvent(ci,Pd);l.addEventListener(ci,u),l.dispatchEvent(y),y.defaultPrevented||js(g??document.body,{select:!0}),l.removeEventListener(ci,u),Dd.remove(h)},0)}}},[l,c,u,h]);const b=m.useCallback(g=>{if(!r&&!n||h.paused)return;const p=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(p&&y){const v=g.currentTarget,[j,w]=jw(v);j&&w?!g.shiftKey&&y===w?(g.preventDefault(),r&&js(j,{select:!0})):g.shiftKey&&y===j&&(g.preventDefault(),r&&js(w,{select:!0})):y===v&&g.preventDefault()}},[r,n,h.paused]);return e.jsx(ie.div,{tabIndex:-1,...i,ref:x,onKeyDown:b})});bo.displayName=vw;function yw(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(js(n,{select:s}),document.activeElement!==r)return}function jw(t){const s=fh(t),r=Id(s,t),n=Id(s.reverse(),t);return[r,n]}function fh(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Id(t,s){for(const r of t)if(!ww(r,{upTo:s}))return r}function ww(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Nw(t){return t instanceof HTMLInputElement&&"select"in t}function js(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Nw(t)&&s&&t.select()}}var Dd=Sw();function Sw(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=Od(t,s),t.unshift(s)},remove(s){var r;t=Od(t,s),(r=t[0])==null||r.resume()}}}function Od(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function kw(t){return t.filter(s=>s.tagName!=="A")}var di=0;function Gl(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Md()),document.body.insertAdjacentElement("beforeend",t[1]??Md()),di++,()=>{di===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),di--}},[])}function Md(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vt=function(){return Vt=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])}return s},Vt.apply(this,arguments)};function xh(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Cw(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,o;n<a;n++)(o||!(n in s))&&(o||(o=Array.prototype.slice.call(s,0,n)),o[n]=s[n]);return t.concat(o||Array.prototype.slice.call(s))}var pa="right-scroll-bar-position",ga="width-before-scroll-bar",Rw="with-scroll-bars-hidden",_w="--removed-body-scroll-bar-size";function ui(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function Aw(t,s){var r=m.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var Ew=typeof window<"u"?m.useLayoutEffect:m.useEffect,Ld=new WeakMap;function Tw(t,s){var r=Aw(null,function(n){return t.forEach(function(a){return ui(a,n)})});return Ew(function(){var n=Ld.get(r);if(n){var a=new Set(n),o=new Set(t),i=r.current;a.forEach(function(l){o.has(l)||ui(l,null)}),o.forEach(function(l){a.has(l)||ui(l,i)})}Ld.set(r,t)},[t]),r}function Pw(t){return t}function Iw(t,s){s===void 0&&(s=Pw);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var i=s(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var d=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(d)};c(),r={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),r}}}};return a}function Dw(t){t===void 0&&(t={});var s=Iw(null);return s.options=Vt({async:!0,ssr:!1},t),s}var ph=function(t){var s=t.sideCar,r=xh(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Vt({},r))};ph.isSideCarExport=!0;function Ow(t,s){return t.useMedium(s),ph}var gh=Dw(),mi=function(){},vo=m.forwardRef(function(t,s){var r=m.useRef(null),n=m.useState({onScrollCapture:mi,onWheelCapture:mi,onTouchMoveCapture:mi}),a=n[0],o=n[1],i=t.forwardProps,l=t.children,d=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,x=t.sideCar,h=t.noRelative,b=t.noIsolation,g=t.inert,p=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,j=t.gapMode,w=xh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=x,R=Tw([r,s]),C=Vt(Vt({},w),a);return m.createElement(m.Fragment,null,u&&m.createElement(k,{sideCar:gh,removeScrollBar:c,shards:f,noRelative:h,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!p,lockRef:r,gapMode:j}),i?m.cloneElement(m.Children.only(l),Vt(Vt({},C),{ref:R})):m.createElement(v,Vt({},C,{className:d,ref:R}),l))});vo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vo.classNames={fullWidth:ga,zeroRight:pa};var Mw=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lw(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=Mw();return s&&t.setAttribute("nonce",s),t}function Fw(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function $w(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var Bw=function(){var t=0,s=null;return{add:function(r){t==0&&(s=Lw())&&(Fw(s,r),$w(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Uw=function(){var t=Bw();return function(s,r){m.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},bh=function(){var t=Uw(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},zw={left:0,top:0,right:0,gap:0},hi=function(t){return parseInt(t||"",10)||0},Ww=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[hi(r),hi(n),hi(a)]},Hw=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zw;var s=Ww(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},qw=bh(),vr="data-scroll-locked",Kw=function(t,s,r,n){var a=t.left,o=t.top,i=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Rw,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(vr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pa,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ga,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pa," .").concat(pa,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ga," .").concat(ga,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(vr,`] {
    `).concat(_w,": ").concat(l,`px;
  }
`)},Fd=function(){var t=parseInt(document.body.getAttribute(vr)||"0",10);return isFinite(t)?t:0},Vw=function(){m.useEffect(function(){return document.body.setAttribute(vr,(Fd()+1).toString()),function(){var t=Fd()-1;t<=0?document.body.removeAttribute(vr):document.body.setAttribute(vr,t.toString())}},[])},Gw=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;Vw();var o=m.useMemo(function(){return Hw(a)},[a]);return m.createElement(qw,{styles:Kw(o,!s,a,r?"":"!important")})},zi=!1;if(typeof window<"u")try{var Jn=Object.defineProperty({},"passive",{get:function(){return zi=!0,!0}});window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{zi=!1}var ar=zi?{passive:!1}:!1,Xw=function(t){return t.tagName==="TEXTAREA"},vh=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!Xw(t)&&r[s]==="visible")},Yw=function(t){return vh(t,"overflowY")},Jw=function(t){return vh(t,"overflowX")},$d=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=yh(t,n);if(a){var o=jh(t,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Qw=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},Zw=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},yh=function(t,s){return t==="v"?Yw(s):Jw(s)},jh=function(t,s){return t==="v"?Qw(s):Zw(s)},eN=function(t,s){return t==="h"&&s==="rtl"?-1:1},tN=function(t,s,r,n,a){var o=eN(t,window.getComputedStyle(s).direction),i=o*n,l=r.target,d=s.contains(l),c=!1,u=i>0,f=0,x=0;do{if(!l)break;var h=jh(t,l),b=h[0],g=h[1],p=h[2],y=g-p-o*b;(b||y)&&yh(t,l)&&(f+=y,x+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!d&&l!==document.body||d&&(s.contains(l)||s===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(x)<1||!a))&&(c=!0),c},Qn=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Bd=function(t){return[t.deltaX,t.deltaY]},Ud=function(t){return t&&"current"in t?t.current:t},sN=function(t,s){return t[0]===s[0]&&t[1]===s[1]},rN=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nN=0,or=[];function aN(t){var s=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(nN++)[0],o=m.useState(bh)[0],i=m.useRef(t);m.useEffect(function(){i.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Cw([t.lockRef.current],(t.shards||[]).map(Ud),!0).filter(Boolean);return g.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(g,p){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Qn(g),v=r.current,j="deltaX"in g?g.deltaX:v[0]-y[0],w="deltaY"in g?g.deltaY:v[1]-y[1],k,R=g.target,C=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in g&&C==="h"&&R.type==="range")return!1;var E=$d(C,R);if(!E)return!0;if(E?k=C:(k=C==="v"?"h":"v",E=$d(C,R)),!E)return!1;if(!n.current&&"changedTouches"in g&&(j||w)&&(n.current=k),!k)return!0;var O=n.current||k;return tN(O,p,g,O==="h"?j:w,!0)},[]),d=m.useCallback(function(g){var p=g;if(!(!or.length||or[or.length-1]!==o)){var y="deltaY"in p?Bd(p):Qn(p),v=s.current.filter(function(k){return k.name===p.type&&(k.target===p.target||p.target===k.shadowParent)&&sN(k.delta,y)})[0];if(v&&v.should){p.cancelable&&p.preventDefault();return}if(!v){var j=(i.current.shards||[]).map(Ud).filter(Boolean).filter(function(k){return k.contains(p.target)}),w=j.length>0?l(p,j[0]):!i.current.noIsolation;w&&p.cancelable&&p.preventDefault()}}},[]),c=m.useCallback(function(g,p,y,v){var j={name:g,delta:p,target:y,should:v,shadowParent:oN(y)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(w){return w!==j})},1)},[]),u=m.useCallback(function(g){r.current=Qn(g),n.current=void 0},[]),f=m.useCallback(function(g){c(g.type,Bd(g),g.target,l(g,t.lockRef.current))},[]),x=m.useCallback(function(g){c(g.type,Qn(g),g.target,l(g,t.lockRef.current))},[]);m.useEffect(function(){return or.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:x}),document.addEventListener("wheel",d,ar),document.addEventListener("touchmove",d,ar),document.addEventListener("touchstart",u,ar),function(){or=or.filter(function(g){return g!==o}),document.removeEventListener("wheel",d,ar),document.removeEventListener("touchmove",d,ar),document.removeEventListener("touchstart",u,ar)}},[]);var h=t.removeScrollBar,b=t.inert;return m.createElement(m.Fragment,null,b?m.createElement(o,{styles:rN(a)}):null,h?m.createElement(Gw,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function oN(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const iN=Ow(gh,aN);var yo=m.forwardRef(function(t,s){return m.createElement(vo,Vt({},t,{ref:s,sideCar:iN}))});yo.classNames=vo.classNames;var lN=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},ir=new WeakMap,Zn=new WeakMap,ea={},fi=0,wh=function(t){return t&&(t.host||wh(t.parentNode))},cN=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=wh(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},dN=function(t,s,r,n){var a=cN(s,Array.isArray(t)?t:[t]);ea[r]||(ea[r]=new WeakMap);var o=ea[r],i=[],l=new Set,d=new Set(a),c=function(f){!f||l.has(f)||(l.add(f),c(f.parentNode))};a.forEach(c);var u=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(x){if(l.has(x))u(x);else try{var h=x.getAttribute(n),b=h!==null&&h!=="false",g=(ir.get(x)||0)+1,p=(o.get(x)||0)+1;ir.set(x,g),o.set(x,p),i.push(x),g===1&&b&&Zn.set(x,!0),p===1&&x.setAttribute(r,"true"),b||x.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",x,y)}})};return u(s),l.clear(),fi++,function(){i.forEach(function(f){var x=ir.get(f)-1,h=o.get(f)-1;ir.set(f,x),o.set(f,h),x||(Zn.has(f)||f.removeAttribute(n),Zn.delete(f)),h||f.removeAttribute(r)}),fi--,fi||(ir=new WeakMap,ir=new WeakMap,Zn=new WeakMap,ea={})}},Xl=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=lN(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),dN(n,a,r,"aria-hidden")):function(){return null}},jo="Dialog",[Nh,vA]=et(jo),[uN,Bt]=Nh(jo),Sh=t=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=t,l=m.useRef(null),d=m.useRef(null),[c,u]=Lt({prop:n,defaultProp:a??!1,onChange:o,caller:jo});return e.jsx(uN,{scope:s,triggerRef:l,contentRef:d,contentId:_t(),titleId:_t(),descriptionId:_t(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:i,children:r})};Sh.displayName=jo;var kh="DialogTrigger",Ch=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Bt(kh,r),o=Ce(s,a.triggerRef);return e.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ql(a.open),...n,ref:o,onClick:J(t.onClick,a.onOpenToggle)})});Ch.displayName=kh;var Yl="DialogPortal",[mN,Rh]=Nh(Yl,{forceMount:void 0}),_h=t=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=t,o=Bt(Yl,s);return e.jsx(mN,{scope:s,forceMount:r,children:m.Children.map(n,i=>e.jsx(wt,{present:r||o.open,children:e.jsx(An,{asChild:!0,container:a,children:i})}))})};_h.displayName=Yl;var Ua="DialogOverlay",Ah=m.forwardRef((t,s)=>{const r=Rh(Ua,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,o=Bt(Ua,t.__scopeDialog);return o.modal?e.jsx(wt,{present:n||o.open,children:e.jsx(fN,{...a,ref:s})}):null});Ah.displayName=Ua;var hN=Ws("DialogOverlay.RemoveScroll"),fN=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Bt(Ua,r);return e.jsx(yo,{as:hN,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(ie.div,{"data-state":Ql(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),qs="DialogContent",Eh=m.forwardRef((t,s)=>{const r=Rh(qs,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,o=Bt(qs,t.__scopeDialog);return e.jsx(wt,{present:n||o.open,children:o.modal?e.jsx(xN,{...a,ref:s}):e.jsx(pN,{...a,ref:s})})});Eh.displayName=qs;var xN=m.forwardRef((t,s)=>{const r=Bt(qs,t.__scopeDialog),n=m.useRef(null),a=Ce(s,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Xl(o)},[]),e.jsx(Th,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:J(t.onFocusOutside,o=>o.preventDefault())})}),pN=m.forwardRef((t,s)=>{const r=Bt(qs,t.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return e.jsx(Th,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var d,c;(d=t.onInteractOutside)==null||d.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Th=m.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=t,l=Bt(qs,r),d=m.useRef(null),c=Ce(s,d);return Gl(),e.jsxs(e.Fragment,{children:[e.jsx(bo,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:e.jsx(Rr,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ql(l.open),...i,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(gN,{titleId:l.titleId}),e.jsx(vN,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Jl="DialogTitle",Ph=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Bt(Jl,r);return e.jsx(ie.h2,{id:a.titleId,...n,ref:s})});Ph.displayName=Jl;var Ih="DialogDescription",Dh=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Bt(Ih,r);return e.jsx(ie.p,{id:a.descriptionId,...n,ref:s})});Dh.displayName=Ih;var Oh="DialogClose",Mh=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=Bt(Oh,r);return e.jsx(ie.button,{type:"button",...n,ref:s,onClick:J(t.onClick,()=>a.onOpenChange(!1))})});Mh.displayName=Oh;function Ql(t){return t?"open":"closed"}var Lh="DialogTitleWarning",[yA,Fh]=jv(Lh,{contentName:qs,titleName:Jl,docsSlug:"dialog"}),gN=({titleId:t})=>{const s=Fh(Lh),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},bN="DialogDescriptionWarning",vN=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fh(bN).contentName}}.`;return m.useEffect(()=>{var o;const a=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},$h=Sh,yN=Ch,Bh=_h,wo=Ah,No=Eh,So=Ph,ko=Dh,Uh=Mh;const jN=$h,wN=Bh,zh=m.forwardRef(({className:t,...s},r)=>e.jsx(wo,{className:P("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));zh.displayName=wo.displayName;const NN=_r("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Wh=m.forwardRef(({side:t="right",className:s,children:r,...n},a)=>e.jsxs(wN,{children:[e.jsx(zh,{}),e.jsxs(No,{ref:a,className:P(NN({side:t}),s),...n,children:[r,e.jsxs(Uh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(yl,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wh.displayName=No.displayName;const SN=m.forwardRef(({className:t,...s},r)=>e.jsx(So,{ref:r,className:P("text-lg font-semibold text-foreground",t),...s}));SN.displayName=So.displayName;const kN=m.forwardRef(({className:t,...s},r)=>e.jsx(ko,{ref:r,className:P("text-sm text-muted-foreground",t),...s}));kN.displayName=ko.displayName;function rt({className:t,...s}){return e.jsx("div",{className:P("animate-pulse rounded-md bg-muted",t),...s})}const CN="sidebar:state",RN=60*60*24*7,_N="16rem",AN="18rem",EN="3rem",TN="b",Hh=m.createContext(null);function Pn(){const t=m.useContext(Hh);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const qh=m.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:r,className:n,style:a,children:o,...i},l)=>{const d=fw(),[c,u]=m.useState(!1),[f,x]=m.useState(t),h=s??f,b=m.useCallback(v=>{const j=typeof v=="function"?v(h):v;r?r(j):x(j),document.cookie=`${CN}=${j}; path=/; max-age=${RN}`},[r,h]),g=m.useCallback(()=>d?u(v=>!v):b(v=>!v),[d,b,u]);m.useEffect(()=>{const v=j=>{j.key===TN&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),g())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[g]);const p=h?"expanded":"collapsed",y=m.useMemo(()=>({state:p,open:h,setOpen:b,isMobile:d,openMobile:c,setOpenMobile:u,toggleSidebar:g}),[p,h,b,d,c,u,g]);return e.jsx(Hh.Provider,{value:y,children:e.jsx(dh,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":_N,"--sidebar-width-icon":EN,...a},className:P("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...i,children:o})})})});qh.displayName="SidebarProvider";const Kh=m.forwardRef(({side:t="left",variant:s="sidebar",collapsible:r="offcanvas",className:n,children:a,...o},i)=>{const{isMobile:l,state:d,openMobile:c,setOpenMobile:u}=Pn();return r==="none"?e.jsx("div",{className:P("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...o,children:a}):l?e.jsx(jN,{open:c,onOpenChange:u,...o,children:e.jsx(Wh,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":AN},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):e.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:P("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:P("duration-200 fixed inset-y-0 z-50 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Kh.displayName="Sidebar";const Vh=m.forwardRef(({className:t,onClick:s,...r},n)=>{const{toggleSidebar:a}=Pn();return e.jsxs(ee,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:P("h-7 w-7",t),onClick:o=>{s==null||s(o),a()},...r,children:[e.jsx(Qb,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Vh.displayName="SidebarTrigger";const PN=m.forwardRef(({className:t,...s},r)=>{const{toggleSidebar:n}=Pn();return e.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:P("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});PN.displayName="SidebarRail";const IN=m.forwardRef(({className:t,...s},r)=>e.jsx("main",{ref:r,className:P("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));IN.displayName="SidebarInset";const DN=m.forwardRef(({className:t,...s},r)=>e.jsx(nt,{ref:r,"data-sidebar":"input",className:P("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));DN.displayName="SidebarInput";const ON=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"header",className:P("flex flex-col gap-2 p-2",t),...s}));ON.displayName="SidebarHeader";const MN=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"footer",className:P("flex flex-col gap-2 p-2",t),...s}));MN.displayName="SidebarFooter";const LN=m.forwardRef(({className:t,...s},r)=>e.jsx(as,{ref:r,"data-sidebar":"separator",className:P("mx-2 w-auto bg-sidebar-border",t),...s}));LN.displayName="SidebarSeparator";const Gh=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"content",className:P("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));Gh.displayName="SidebarContent";const Wi=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"group",className:P("relative flex w-full min-w-0 flex-col p-2",t),...s}));Wi.displayName="SidebarGroup";const Hi=m.forwardRef(({className:t,asChild:s=!1,...r},n)=>{const a=s?Cr:"div";return e.jsx(a,{ref:n,"data-sidebar":"group-label",className:P("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});Hi.displayName="SidebarGroupLabel";const FN=m.forwardRef(({className:t,asChild:s=!1,...r},n)=>{const a=s?Cr:"button";return e.jsx(a,{ref:n,"data-sidebar":"group-action",className:P("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});FN.displayName="SidebarGroupAction";const qi=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"group-content",className:P("w-full text-sm",t),...s}));qi.displayName="SidebarGroupContent";const Hr=m.forwardRef(({className:t,...s},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu",className:P("flex w-full min-w-0 flex-col gap-1",t),...s}));Hr.displayName="SidebarMenu";const ur=m.forwardRef(({className:t,...s},r)=>e.jsx("li",{ref:r,"data-sidebar":"menu-item",className:P("group/menu-item relative",t),...s}));ur.displayName="SidebarMenuItem";const $N=_r("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ws=m.forwardRef(({asChild:t=!1,isActive:s=!1,variant:r="default",size:n="default",tooltip:a,className:o,...i},l)=>{const d=t?Cr:"button",{isMobile:c,state:u}=Pn(),f=e.jsx(d,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":s,className:P($N({variant:r,size:n}),o),...i});return a?(typeof a=="string"&&(a={children:a}),e.jsxs(mw,{children:[e.jsx(hw,{asChild:!0,children:f}),e.jsx(uh,{side:"right",align:"center",hidden:u!=="collapsed"||c,...a})]})):f});ws.displayName="SidebarMenuButton";const BN=m.forwardRef(({className:t,asChild:s=!1,showOnHover:r=!1,...n},a)=>{const o=s?Cr:"button";return e.jsx(o,{ref:a,"data-sidebar":"menu-action",className:P("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});BN.displayName="SidebarMenuAction";const UN=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:P("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));UN.displayName="SidebarMenuBadge";const zN=m.forwardRef(({className:t,showIcon:s=!1,...r},n)=>{const a=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:P("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[s&&e.jsx(rt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(rt,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});zN.displayName="SidebarMenuSkeleton";const WN=m.forwardRef(({className:t,...s},r)=>e.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:P("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));WN.displayName="SidebarMenuSub";const HN=m.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));HN.displayName="SidebarMenuSubItem";const qN=m.forwardRef(({asChild:t=!1,size:s="md",isActive:r,className:n,...a},o)=>{const i=t?Cr:"a";return e.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":s,"data-active":r,className:P("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});qN.displayName="SidebarMenuSubButton";const KN=_r("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-200 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:t,variant:s,...r}){return e.jsx("div",{className:P(KN({variant:s}),t),...r})}var Co="Collapsible",[VN,jA]=et(Co),[GN,Zl]=VN(Co),Xh=m.forwardRef((t,s)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:o,onOpenChange:i,...l}=t,[d,c]=Lt({prop:n,defaultProp:a??!1,onChange:i,caller:Co});return e.jsx(GN,{scope:r,disabled:o,contentId:_t(),open:d,onOpenToggle:m.useCallback(()=>c(u=>!u),[c]),children:e.jsx(ie.div,{"data-state":tc(d),"data-disabled":o?"":void 0,...l,ref:s})})});Xh.displayName=Co;var Yh="CollapsibleTrigger",Jh=m.forwardRef((t,s)=>{const{__scopeCollapsible:r,...n}=t,a=Zl(Yh,r);return e.jsx(ie.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":tc(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:s,onClick:J(t.onClick,a.onOpenToggle)})});Jh.displayName=Yh;var ec="CollapsibleContent",Qh=m.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=Zl(ec,t.__scopeCollapsible);return e.jsx(wt,{present:r||a.open,children:({present:o})=>e.jsx(XN,{...n,ref:s,present:o})})});Qh.displayName=ec;var XN=m.forwardRef((t,s)=>{const{__scopeCollapsible:r,present:n,children:a,...o}=t,i=Zl(ec,r),[l,d]=m.useState(n),c=m.useRef(null),u=Ce(s,c),f=m.useRef(0),x=f.current,h=m.useRef(0),b=h.current,g=i.open||l,p=m.useRef(g),y=m.useRef(void 0);return m.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),Be(()=>{const v=c.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const j=v.getBoundingClientRect();f.current=j.height,h.current=j.width,p.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),d(n)}},[i.open,n]),e.jsx(ie.div,{"data-state":tc(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...o,ref:u,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:g&&a})});function tc(t){return t?"open":"closed"}var YN=Xh;const JN=YN,QN=Jh,ZN=Qh,eS=[{title:"Main",items:[{title:"Overview",url:"/",icon:Zb},{title:"Analytics",url:"/analytics",icon:$e},{title:"Charts",url:"/charts",icon:vt}]},{title:"Management",items:[{title:"Users",url:"/users",icon:Ke},{title:"Products",url:"/products",icon:wl},{title:"Stock",url:"/products-stock",icon:Cs},{title:"Transactions",url:"/transactions",icon:qe}]},{title:"Intelligence",items:[{title:"Advanced",url:"/advanced-analytics",icon:Hu},{title:"Performance",url:"/product-performance",icon:Rs},{title:"Behavior",url:"/user-behavior",icon:Ia},{title:"Financial",url:"/financial-analytics",icon:jt},{title:"Real-time",url:"/realtime-dashboard",icon:at},{title:"Predictive",url:"/predictive-analytics",icon:cn}],collapsible:!0,defaultOpen:!1},{title:"Reports",items:[{title:"Overview",url:"/reports",icon:Ls},{title:"Customer",url:"/reports/customer",icon:Ke},{title:"Sales",url:"/reports/sales",icon:jt}],collapsible:!0,defaultOpen:!1}],tS=[{title:"Projects",url:"/projects",icon:ev},{title:"Tasks",url:"/tasks",icon:ma}];function sS(){const{state:t}=Pn(),r=Kb().pathname,n=t==="collapsed",[a,o]=m.useState({Intelligence:!1,Reports:!1}),[i,l]=m.useState(""),d=x=>x==="/"?r==="/":r.startsWith(x),c=x=>{const h="w-full justify-start transition-all duration-200 rounded-lg px-3 py-2.5 mb-0.5 group relative overflow-hidden";return d(x)?P(h,"bg-primary text-primary-foreground shadow-md shadow-primary/20 font-medium"):P(h,"text-muted-foreground hover:text-foreground hover:bg-accent/50")},u=x=>{o(h=>({...h,[x]:!h[x]}))},f=eS.map(x=>({...x,items:x.items.filter(h=>h.title.toLowerCase().includes(i.toLowerCase()))})).filter(x=>x.items.length>0);return e.jsx(Kh,{className:P("border-r-0 bg-transparent transition-all duration-300 ease-in-out py-4 pl-4 pr-2 z-50",n?"w-20":"w-72"),children:e.jsx("div",{className:P("h-full rounded-2xl border border-border/50 shadow-2xl overflow-hidden flex flex-col transition-all duration-300 relative","bg-gradient-to-b from-card/95 to-card/80 backdrop-blur-xl supports-[backdrop-filter]:bg-card/70"),children:e.jsxs(Gh,{className:"flex flex-col h-full scrollbar-hide",children:[e.jsx("div",{className:"p-6 pb-4 border-b border-border/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary via-primary/90 to-accent rounded-xl flex items-center justify-center shadow-lg shadow-primary/30 shrink-0",children:e.jsx(Wu,{className:"w-5 h-5 text-white"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-card animate-pulse"})]}),!n&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-left-4 duration-500 flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary via-primary to-accent",children:"Dash Pro"}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Analytics Platform"})]})]})}),!n&&e.jsx("div",{className:"px-4 py-3 border-b border-border/50 animate-in fade-in zoom-in-95 duration-500 delay-100",children:e.jsxs("div",{className:"relative group",children:[e.jsx(Ns,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors z-10"}),e.jsx(nt,{placeholder:"Search menu...",value:i,onChange:x=>l(x.target.value),className:"pl-10 pr-20 bg-secondary/30 border-border/50 focus:bg-background focus:border-primary/30 transition-all duration-300 rounded-lg h-9 text-sm"}),i&&e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>l(""),className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0 text-muted-foreground hover:text-foreground",children:""})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto py-3 px-3 space-y-1 scrollbar-thin scrollbar-thumb-border scrollbar-track-transparent hover:scrollbar-thumb-border/50",children:[f.map(x=>{if(x.collapsible&&!n){const h=a[x.title]??x.defaultOpen;return e.jsxs(JN,{open:h,onOpenChange:()=>u(x.title),children:[e.jsx(QN,{asChild:!0,children:e.jsxs(ee,{variant:"ghost",className:P("w-full justify-between px-3 py-2 h-auto font-semibold text-xs uppercase tracking-wider text-muted-foreground hover:text-foreground mb-2"),children:[e.jsx("span",{children:x.title}),h?e.jsx(ao,{className:"h-3 w-3"}):e.jsx(jl,{className:"h-3 w-3"})]})}),e.jsx(ZN,{className:"space-y-0.5",children:e.jsx(Hr,{children:x.items.map(b=>e.jsx(ur,{children:e.jsx(ws,{asChild:!0,tooltip:b.title,children:e.jsxs(Ds,{to:b.url,className:c(b.url),children:[e.jsx(b.icon,{className:P("mr-3 h-4 w-4 transition-transform duration-200 group-hover:scale-110 shrink-0",d(b.url)?"text-white":"text-muted-foreground group-hover:text-primary")}),!n&&e.jsx("span",{className:"flex-1 text-sm",children:b.title}),b.badge&&!n&&e.jsx(ae,{variant:"secondary",className:"ml-auto h-5 px-1.5 text-[10px] font-semibold",children:b.badge}),d(b.url)&&!n&&e.jsx("div",{className:"absolute right-2 w-1.5 h-1.5 rounded-full bg-white/90 animate-pulse"})]})})},b.title))})})]},x.title)}return e.jsxs(Wi,{children:[!n&&e.jsx(Hi,{className:"text-[10px] uppercase tracking-widest text-muted-foreground/70 font-bold px-3 mb-2 mt-1",children:x.title}),e.jsx(qi,{children:e.jsx(Hr,{children:x.items.map(h=>e.jsx(ur,{children:e.jsx(ws,{asChild:!0,tooltip:h.title,children:e.jsxs(Ds,{to:h.url,className:c(h.url),children:[e.jsx(h.icon,{className:P("mr-3 h-4 w-4 transition-transform duration-200 group-hover:scale-110 shrink-0",d(h.url)?"text-white":"text-muted-foreground group-hover:text-primary")}),!n&&e.jsx("span",{className:"flex-1 text-sm",children:h.title}),h.badge&&!n&&e.jsx(ae,{variant:"secondary",className:"ml-auto h-5 px-1.5 text-[10px] font-semibold",children:h.badge}),d(h.url)&&!n&&e.jsx("div",{className:"absolute right-2 w-1.5 h-1.5 rounded-full bg-white/90 animate-pulse"})]})})},h.title))})})]},x.title)}),!n&&e.jsxs(Wi,{className:"mt-4 pt-4 border-t border-border/50",children:[e.jsx(Hi,{className:"text-[10px] uppercase tracking-widest text-muted-foreground/70 font-bold px-3 mb-2",children:"Quick Access"}),e.jsx(qi,{children:e.jsx(Hr,{children:tS.map(x=>e.jsx(ur,{children:e.jsx(ws,{asChild:!0,tooltip:x.title,children:e.jsxs(Ds,{to:x.url,className:c(x.url),children:[e.jsx(x.icon,{className:P("mr-3 h-4 w-4 transition-transform duration-200 group-hover:scale-110 shrink-0",d(x.url)?"text-white":"text-muted-foreground group-hover:text-primary")}),e.jsx("span",{className:"flex-1 text-sm",children:x.title}),d(x.url)&&e.jsx("div",{className:"absolute right-2 w-1.5 h-1.5 rounded-full bg-white/90 animate-pulse"})]})})},x.title))})})]})]}),e.jsx("div",{className:"border-t border-border/50 p-3 space-y-1",children:n?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(ws,{asChild:!0,tooltip:"Settings",children:e.jsx(Ds,{to:"/settings",className:P("w-full justify-center p-2 rounded-lg",d("/settings")?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent/50"),children:e.jsx(Ea,{className:"h-4 w-4"})})}),e.jsx(ws,{asChild:!0,tooltip:"Help",children:e.jsx(Ds,{to:"/help",className:P("w-full justify-center p-2 rounded-lg",d("/help")?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent/50"),children:e.jsx(Ta,{className:"h-4 w-4"})})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Hr,{children:[e.jsx(ur,{children:e.jsx(ws,{asChild:!0,tooltip:"Settings",children:e.jsxs(Ds,{to:"/settings",className:c("/settings"),children:[e.jsx(Ea,{className:P("mr-3 h-4 w-4 transition-transform duration-200 group-hover:scale-110 shrink-0",d("/settings")?"text-white":"text-muted-foreground group-hover:text-primary")}),e.jsx("span",{className:"flex-1 text-sm",children:"Settings"}),d("/settings")&&e.jsx("div",{className:"absolute right-2 w-1.5 h-1.5 rounded-full bg-white/90 animate-pulse"})]})})}),e.jsx(ur,{children:e.jsx(ws,{asChild:!0,tooltip:"Help",children:e.jsxs(Ds,{to:"/help",className:c("/help"),children:[e.jsx(Ta,{className:P("mr-3 h-4 w-4 transition-transform duration-200 group-hover:scale-110 shrink-0",d("/help")?"text-white":"text-muted-foreground group-hover:text-primary")}),e.jsx("span",{className:"flex-1 text-sm",children:"Help"}),d("/help")&&e.jsx("div",{className:"absolute right-2 w-1.5 h-1.5 rounded-full bg-white/90 animate-pulse"})]})})})]}),e.jsx("div",{className:"px-3 pt-2 pb-1",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:e.jsx(Pa,{className:"w-3 h-3 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-foreground truncate",children:"System Active"}),e.jsx("p",{className:"text-[10px]",children:"All systems operational"})]})]})})]})})]})})})}var rS=m.createContext(void 0);function In(t){const s=m.useContext(rS);return t||s||"ltr"}var xi="rovingFocusGroup.onEntryFocus",nS={bubbles:!1,cancelable:!0},Dn="RovingFocusGroup",[Ki,Zh,aS]=lo(Dn),[oS,Ir]=et(Dn,[aS]),[iS,lS]=oS(Dn),ef=m.forwardRef((t,s)=>e.jsx(Ki.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Ki.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(cS,{...t,ref:s})})}));ef.displayName=Dn;var cS=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,x=m.useRef(null),h=Ce(s,x),b=In(o),[g,p]=Lt({prop:i,defaultProp:l??null,onChange:d,caller:Dn}),[y,v]=m.useState(!1),j=it(c),w=Zh(r),k=m.useRef(!1),[R,C]=m.useState(0);return m.useEffect(()=>{const E=x.current;if(E)return E.addEventListener(xi,j),()=>E.removeEventListener(xi,j)},[j]),e.jsx(iS,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:g,onItemFocus:m.useCallback(E=>p(E),[p]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>C(E=>E-1),[]),children:e.jsx(ie.div,{tabIndex:y||R===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{k.current=!0}),onFocus:J(t.onFocus,E=>{const O=!k.current;if(E.target===E.currentTarget&&O&&!y){const B=new CustomEvent(xi,nS);if(E.currentTarget.dispatchEvent(B),!B.defaultPrevented){const q=w().filter(K=>K.focusable),I=q.find(K=>K.active),te=q.find(K=>K.id===g),W=[I,te,...q].filter(Boolean).map(K=>K.ref.current);rf(W,u)}}k.current=!1}),onBlur:J(t.onBlur,()=>v(!1))})})}),tf="RovingFocusGroupItem",sf=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,children:i,...l}=t,d=_t(),c=o||d,u=lS(tf,r),f=u.currentTabStopId===c,x=Zh(r),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:g}=u;return m.useEffect(()=>{if(n)return h(),()=>b()},[n,h,b]),e.jsx(Ki.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:e.jsx(ie.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:s,onMouseDown:J(t.onMouseDown,p=>{n?u.onItemFocus(c):p.preventDefault()}),onFocus:J(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:J(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const y=mS(p,u.orientation,u.dir);if(y!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let j=x().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const w=j.indexOf(p.currentTarget);j=u.loop?hS(j,w+1):j.slice(w+1)}setTimeout(()=>rf(j))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});sf.displayName=tf;var dS={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uS(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mS(t,s,r){const n=uS(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dS[n]}function rf(t,s=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function hS(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var sc=ef,rc=sf,Vi=["Enter"," "],fS=["ArrowDown","PageUp","Home"],nf=["ArrowUp","PageDown","End"],xS=[...fS,...nf],pS={ltr:[...Vi,"ArrowRight"],rtl:[...Vi,"ArrowLeft"]},gS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},On="Menu",[bn,bS,vS]=lo(On),[Ys,af]=et(On,[vS,Pr,Ir]),Ro=Pr(),of=Ir(),[yS,Js]=Ys(On),[jS,Mn]=Ys(On),lf=t=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=t,l=Ro(s),[d,c]=m.useState(null),u=m.useRef(!1),f=it(o),x=In(a);return m.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),e.jsx(Wl,{...l,children:e.jsx(yS,{scope:s,open:r,onOpenChange:f,content:d,onContentChange:c,children:e.jsx(jS,{scope:s,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:x,modal:i,children:n})})})};lf.displayName=On;var wS="MenuAnchor",nc=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=Ro(r);return e.jsx(Hl,{...a,...n,ref:s})});nc.displayName=wS;var ac="MenuPortal",[NS,cf]=Ys(ac,{forceMount:void 0}),df=t=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=t,o=Js(ac,s);return e.jsx(NS,{scope:s,forceMount:r,children:e.jsx(wt,{present:r||o.open,children:e.jsx(An,{asChild:!0,container:a,children:n})})})};df.displayName=ac;var At="MenuContent",[SS,oc]=Ys(At),uf=m.forwardRef((t,s)=>{const r=cf(At,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,o=Js(At,t.__scopeMenu),i=Mn(At,t.__scopeMenu);return e.jsx(bn.Provider,{scope:t.__scopeMenu,children:e.jsx(wt,{present:n||o.open,children:e.jsx(bn.Slot,{scope:t.__scopeMenu,children:i.modal?e.jsx(kS,{...a,ref:s}):e.jsx(CS,{...a,ref:s})})})})}),kS=m.forwardRef((t,s)=>{const r=Js(At,t.__scopeMenu),n=m.useRef(null),a=Ce(s,n);return m.useEffect(()=>{const o=n.current;if(o)return Xl(o)},[]),e.jsx(ic,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),CS=m.forwardRef((t,s)=>{const r=Js(At,t.__scopeMenu);return e.jsx(ic,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),RS=Ws("MenuContent.ScrollLock"),ic=m.forwardRef((t,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:x,onDismiss:h,disableOutsideScroll:b,...g}=t,p=Js(At,r),y=Mn(At,r),v=Ro(r),j=of(r),w=bS(r),[k,R]=m.useState(null),C=m.useRef(null),E=Ce(s,C,p.onContentChange),O=m.useRef(0),B=m.useRef(""),q=m.useRef(0),I=m.useRef(null),te=m.useRef("right"),H=m.useRef(0),W=b?yo:m.Fragment,K=b?{as:RS,allowPinchZoom:!0}:void 0,U=A=>{var $,de;const Q=B.current+A,se=w().filter(je=>!je.disabled),F=document.activeElement,re=($=se.find(je=>je.ref.current===F))==null?void 0:$.textValue,le=se.map(je=>je.textValue),z=$S(le,Q,re),ne=(de=se.find(je=>je.textValue===z))==null?void 0:de.ref.current;(function je(V){B.current=V,window.clearTimeout(O.current),V!==""&&(O.current=window.setTimeout(()=>je(""),1e3))})(Q),ne&&setTimeout(()=>ne.focus())};m.useEffect(()=>()=>window.clearTimeout(O.current),[]),Gl();const D=m.useCallback(A=>{var se,F;return te.current===((se=I.current)==null?void 0:se.side)&&US(A,(F=I.current)==null?void 0:F.area)},[]);return e.jsx(SS,{scope:r,searchRef:B,onItemEnter:m.useCallback(A=>{D(A)&&A.preventDefault()},[D]),onItemLeave:m.useCallback(A=>{var Q;D(A)||((Q=C.current)==null||Q.focus(),R(null))},[D]),onTriggerLeave:m.useCallback(A=>{D(A)&&A.preventDefault()},[D]),pointerGraceTimerRef:q,onPointerGraceIntentChange:m.useCallback(A=>{I.current=A},[]),children:e.jsx(W,{...K,children:e.jsx(bo,{asChild:!0,trapped:a,onMountAutoFocus:J(o,A=>{var Q;A.preventDefault(),(Q=C.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:e.jsx(Rr,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:x,onDismiss:h,children:e.jsx(sc,{asChild:!0,...j,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:R,onEntryFocus:J(d,A=>{y.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(ql,{role:"menu","aria-orientation":"vertical","data-state":Rf(p.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:J(g.onKeyDown,A=>{const se=A.target.closest("[data-radix-menu-content]")===A.currentTarget,F=A.ctrlKey||A.altKey||A.metaKey,re=A.key.length===1;se&&(A.key==="Tab"&&A.preventDefault(),!F&&re&&U(A.key));const le=C.current;if(A.target!==le||!xS.includes(A.key))return;A.preventDefault();const ne=w().filter($=>!$.disabled).map($=>$.ref.current);nf.includes(A.key)&&ne.reverse(),LS(ne)}),onBlur:J(t.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(O.current),B.current="")}),onPointerMove:J(t.onPointerMove,vn(A=>{const Q=A.target,se=H.current!==A.clientX;if(A.currentTarget.contains(Q)&&se){const F=A.clientX>H.current?"right":"left";te.current=F,H.current=A.clientX}}))})})})})})})});uf.displayName=At;var _S="MenuGroup",lc=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(ie.div,{role:"group",...n,ref:s})});lc.displayName=_S;var AS="MenuLabel",mf=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(ie.div,{...n,ref:s})});mf.displayName=AS;var za="MenuItem",zd="menu.itemSelect",_o=m.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:n,...a}=t,o=m.useRef(null),i=Mn(za,t.__scopeMenu),l=oc(za,t.__scopeMenu),d=Ce(s,o),c=m.useRef(!1),u=()=>{const f=o.current;if(!r&&f){const x=new CustomEvent(zd,{bubbles:!0,cancelable:!0});f.addEventListener(zd,h=>n==null?void 0:n(h),{once:!0}),Rl(f,x),x.defaultPrevented?c.current=!1:i.onClose()}};return e.jsx(hf,{...a,ref:d,disabled:r,onClick:J(t.onClick,u),onPointerDown:f=>{var x;(x=t.onPointerDown)==null||x.call(t,f),c.current=!0},onPointerUp:J(t.onPointerUp,f=>{var x;c.current||(x=f.currentTarget)==null||x.click()}),onKeyDown:J(t.onKeyDown,f=>{const x=l.searchRef.current!=="";r||x&&f.key===" "||Vi.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_o.displayName=za;var hf=m.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=t,i=oc(za,r),l=of(r),d=m.useRef(null),c=Ce(s,d),[u,f]=m.useState(!1),[x,h]=m.useState("");return m.useEffect(()=>{const b=d.current;b&&h((b.textContent??"").trim())},[o.children]),e.jsx(bn.ItemSlot,{scope:r,disabled:n,textValue:a??x,children:e.jsx(rc,{asChild:!0,...l,focusable:!n,children:e.jsx(ie.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:c,onPointerMove:J(t.onPointerMove,vn(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,vn(b=>i.onItemLeave(b))),onFocus:J(t.onFocus,()=>f(!0)),onBlur:J(t.onBlur,()=>f(!1))})})})}),ES="MenuCheckboxItem",ff=m.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return e.jsx(vf,{scope:t.__scopeMenu,checked:r,children:e.jsx(_o,{role:"menuitemcheckbox","aria-checked":Wa(r)?"mixed":r,...a,ref:s,"data-state":dc(r),onSelect:J(a.onSelect,()=>n==null?void 0:n(Wa(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ff.displayName=ES;var xf="MenuRadioGroup",[TS,PS]=Ys(xf,{value:void 0,onValueChange:()=>{}}),pf=m.forwardRef((t,s)=>{const{value:r,onValueChange:n,...a}=t,o=it(n);return e.jsx(TS,{scope:t.__scopeMenu,value:r,onValueChange:o,children:e.jsx(lc,{...a,ref:s})})});pf.displayName=xf;var gf="MenuRadioItem",bf=m.forwardRef((t,s)=>{const{value:r,...n}=t,a=PS(gf,t.__scopeMenu),o=r===a.value;return e.jsx(vf,{scope:t.__scopeMenu,checked:o,children:e.jsx(_o,{role:"menuitemradio","aria-checked":o,...n,ref:s,"data-state":dc(o),onSelect:J(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});bf.displayName=gf;var cc="MenuItemIndicator",[vf,IS]=Ys(cc,{checked:!1}),yf=m.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:n,...a}=t,o=IS(cc,r);return e.jsx(wt,{present:n||Wa(o.checked)||o.checked===!0,children:e.jsx(ie.span,{...a,ref:s,"data-state":dc(o.checked)})})});yf.displayName=cc;var DS="MenuSeparator",jf=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});jf.displayName=DS;var OS="MenuArrow",wf=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=Ro(r);return e.jsx(Kl,{...a,...n,ref:s})});wf.displayName=OS;var MS="MenuSub",[wA,Nf]=Ys(MS),qr="MenuSubTrigger",Sf=m.forwardRef((t,s)=>{const r=Js(qr,t.__scopeMenu),n=Mn(qr,t.__scopeMenu),a=Nf(qr,t.__scopeMenu),o=oc(qr,t.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=o,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),e.jsx(nc,{asChild:!0,...c,children:e.jsx(hf,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Rf(r.open),...t,ref:io(s,a.onTriggerChange),onClick:f=>{var x;(x=t.onClick)==null||x.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,vn(f=>{o.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:J(t.onPointerLeave,vn(f=>{var h,b;u();const x=(h=r.content)==null?void 0:h.getBoundingClientRect();if(x){const g=(b=r.content)==null?void 0:b.dataset.side,p=g==="right",y=p?-5:5,v=x[p?"left":"right"],j=x[p?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:x.top},{x:j,y:x.top},{x:j,y:x.bottom},{x:v,y:x.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,f=>{var h;const x=o.searchRef.current!=="";t.disabled||x&&f.key===" "||pS[n.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});Sf.displayName=qr;var kf="MenuSubContent",Cf=m.forwardRef((t,s)=>{const r=cf(At,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,o=Js(At,t.__scopeMenu),i=Mn(At,t.__scopeMenu),l=Nf(kf,t.__scopeMenu),d=m.useRef(null),c=Ce(s,d);return e.jsx(bn.Provider,{scope:t.__scopeMenu,children:e.jsx(wt,{present:n||o.open,children:e.jsx(bn.Slot,{scope:t.__scopeMenu,children:e.jsx(ic,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;i.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:J(t.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:J(t.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),x=gS[i.dir].includes(u.key);f&&x&&(o.onOpenChange(!1),(h=l.trigger)==null||h.focus(),u.preventDefault())})})})})})});Cf.displayName=kf;function Rf(t){return t?"open":"closed"}function Wa(t){return t==="indeterminate"}function dc(t){return Wa(t)?"indeterminate":t?"checked":"unchecked"}function LS(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function FS(t,s){return t.map((r,n)=>t[(s+n)%t.length])}function $S(t,s,r){const a=s.length>1&&Array.from(s).every(c=>c===s[0])?s[0]:s,o=r?t.indexOf(r):-1;let i=FS(t,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==r));const d=i.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function BS(t,s){const{x:r,y:n}=t;let a=!1;for(let o=0,i=s.length-1;o<s.length;i=o++){const l=s[o],d=s[i],c=l.x,u=l.y,f=d.x,x=d.y;u>n!=x>n&&r<(f-c)*(n-u)/(x-u)+c&&(a=!a)}return a}function US(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return BS(r,s)}function vn(t){return s=>s.pointerType==="mouse"?t(s):void 0}var zS=lf,WS=nc,HS=df,qS=uf,KS=lc,VS=mf,GS=_o,XS=ff,YS=pf,JS=bf,QS=yf,ZS=jf,e1=wf,t1=Sf,s1=Cf,Ao="DropdownMenu",[r1,NA]=et(Ao,[af]),lt=af(),[n1,_f]=r1(Ao),Af=t=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=t,d=lt(s),c=m.useRef(null),[u,f]=Lt({prop:a,defaultProp:o??!1,onChange:i,caller:Ao});return e.jsx(n1,{scope:s,triggerId:_t(),triggerRef:c,contentId:_t(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(x=>!x),[f]),modal:l,children:e.jsx(zS,{...d,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};Af.displayName=Ao;var Ef="DropdownMenuTrigger",Tf=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,o=_f(Ef,r),i=lt(r);return e.jsx(WS,{asChild:!0,...i,children:e.jsx(ie.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:io(s,o.triggerRef),onPointerDown:J(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:J(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Tf.displayName=Ef;var a1="DropdownMenuPortal",Pf=t=>{const{__scopeDropdownMenu:s,...r}=t,n=lt(s);return e.jsx(HS,{...n,...r})};Pf.displayName=a1;var If="DropdownMenuContent",Df=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=_f(If,r),o=lt(r),i=m.useRef(!1);return e.jsx(qS,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:s,onCloseAutoFocus:J(t.onCloseAutoFocus,l=>{var d;i.current||(d=a.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:J(t.onInteractOutside,l=>{const d=l.detail.originalEvent,c=d.button===0&&d.ctrlKey===!0,u=d.button===2||c;(!a.modal||u)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Df.displayName=If;var o1="DropdownMenuGroup",i1=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(KS,{...a,...n,ref:s})});i1.displayName=o1;var l1="DropdownMenuLabel",Of=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(VS,{...a,...n,ref:s})});Of.displayName=l1;var c1="DropdownMenuItem",Mf=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(GS,{...a,...n,ref:s})});Mf.displayName=c1;var d1="DropdownMenuCheckboxItem",Lf=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(XS,{...a,...n,ref:s})});Lf.displayName=d1;var u1="DropdownMenuRadioGroup",m1=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(YS,{...a,...n,ref:s})});m1.displayName=u1;var h1="DropdownMenuRadioItem",Ff=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(JS,{...a,...n,ref:s})});Ff.displayName=h1;var f1="DropdownMenuItemIndicator",$f=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(QS,{...a,...n,ref:s})});$f.displayName=f1;var x1="DropdownMenuSeparator",Bf=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(ZS,{...a,...n,ref:s})});Bf.displayName=x1;var p1="DropdownMenuArrow",g1=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(e1,{...a,...n,ref:s})});g1.displayName=p1;var b1="DropdownMenuSubTrigger",Uf=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(t1,{...a,...n,ref:s})});Uf.displayName=b1;var v1="DropdownMenuSubContent",zf=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=lt(r);return e.jsx(s1,{...a,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zf.displayName=v1;var y1=Af,j1=Tf,w1=Pf,Wf=Df,Hf=Of,qf=Mf,Kf=Lf,Vf=Ff,Gf=$f,Xf=Bf,Yf=Uf,Jf=zf;const Qf=y1,Zf=j1,N1=m.forwardRef(({className:t,inset:s,children:r,...n},a)=>e.jsxs(Yf,{ref:a,className:P("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...n,children:[r,e.jsx(jl,{className:"ml-auto h-4 w-4"})]}));N1.displayName=Yf.displayName;const S1=m.forwardRef(({className:t,...s},r)=>e.jsx(Jf,{ref:r,className:P("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));S1.displayName=Jf.displayName;const uc=m.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(w1,{children:e.jsx(Wf,{ref:n,sideOffset:s,className:P("z-50 min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));uc.displayName=Wf.displayName;const yr=m.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(qf,{ref:n,className:P("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));yr.displayName=qf.displayName;const k1=m.forwardRef(({className:t,children:s,checked:r,...n},a)=>e.jsxs(Kf,{ref:a,className:P("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Gf,{children:e.jsx(dn,{className:"h-4 w-4"})})}),s]}));k1.displayName=Kf.displayName;const C1=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(Vf,{ref:n,className:P("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Gf,{children:e.jsx(qu,{className:"h-2 w-2 fill-current"})})}),s]}));C1.displayName=Vf.displayName;const ex=m.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(Hf,{ref:n,className:P("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));ex.displayName=Hf.displayName;const Gi=m.forwardRef(({className:t,...s},r)=>e.jsx(Xf,{ref:r,className:P("-mx-1 my-1 h-px bg-muted",t),...s}));Gi.displayName=Xf.displayName;function R1(){return Xb.useSyncExternalStore(_1,()=>!0,()=>!1)}function _1(){return()=>{}}var mc="Avatar",[A1,SA]=et(mc),[E1,tx]=A1(mc),sx=m.forwardRef((t,s)=>{const{__scopeAvatar:r,...n}=t,[a,o]=m.useState("idle");return e.jsx(E1,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:e.jsx(ie.span,{...n,ref:s})})});sx.displayName=mc;var rx="AvatarImage",nx=m.forwardRef((t,s)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=t,i=tx(rx,r),l=T1(n,o),d=it(c=>{a(c),i.onImageLoadingStatusChange(c)});return Be(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(ie.img,{...o,ref:s,src:n}):null});nx.displayName=rx;var ax="AvatarFallback",ox=m.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,o=tx(ax,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),i&&o.imageLoadingStatus!=="loaded"?e.jsx(ie.span,{...a,ref:s}):null});ox.displayName=ax;function Wd(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function T1(t,{referrerPolicy:s,crossOrigin:r}){const n=R1(),a=m.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=m.useState(()=>Wd(o,t));return Be(()=>{l(Wd(o,t))},[o,t]),Be(()=>{const d=f=>()=>{l(f)};if(!o)return;const c=d("loaded"),u=d("error");return o.addEventListener("load",c),o.addEventListener("error",u),s&&(o.referrerPolicy=s),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,r,s]),i}var ix=sx,lx=nx,cx=ox;const dx=m.forwardRef(({className:t,...s},r)=>e.jsx(ix,{ref:r,className:P("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));dx.displayName=ix.displayName;const ux=m.forwardRef(({className:t,...s},r)=>e.jsx(lx,{ref:r,className:P("aspect-square h-full w-full",t),...s}));ux.displayName=lx.displayName;const mx=m.forwardRef(({className:t,...s},r)=>e.jsx(cx,{ref:r,className:P("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));mx.displayName=cx.displayName;function P1(){return e.jsx("header",{className:"sticky top-0 z-30 w-full",children:e.jsxs("div",{className:"flex h-16 items-center px-4 md:px-6 gap-3 md:gap-4 bg-background/50 backdrop-blur-sm transition-all duration-300",children:[e.jsx(Vh,{className:"md:hidden mr-1 md:mr-2 text-muted-foreground hover:text-primary transition-colors relative"}),e.jsxs("div",{className:"hidden md:flex items-center text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium text-foreground",children:"Dashboard"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{children:"Overview"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-4",children:[e.jsxs(ee,{variant:"ghost",size:"icon",className:"relative text-muted-foreground hover:text-primary hover:bg-primary/10 rounded-full transition-colors",children:[e.jsx(Ku,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-destructive ring-2 ring-background animate-pulse"})]}),e.jsxs(Qf,{children:[e.jsx(Zf,{asChild:!0,children:e.jsx(ee,{variant:"ghost",className:"relative h-10 w-10 rounded-full hover:bg-transparent p-0",children:e.jsxs(dx,{className:"h-10 w-10 ring-2 ring-background shadow-sm transition-transform hover:scale-105",children:[e.jsx(ux,{src:"/avatars/01.png",alt:"@admin"}),e.jsx(mx,{className:"bg-gradient-to-br from-primary to-accent text-white font-bold",children:"RF"})]})})}),e.jsxs(uc,{className:"w-56 bg-card/95 backdrop-blur-xl border-border/50 shadow-xl rounded-xl",align:"end",forceMount:!0,children:[e.jsx(ex,{className:"font-normal p-3",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold leading-none text-foreground",children:"Rizal Fakhri"}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:"rizalfakhri@yayan.il"})]})}),e.jsx(Gi,{className:"bg-border/50"}),e.jsxs(yr,{className:"cursor-pointer focus:bg-primary/10 focus:text-primary rounded-lg my-1",children:[e.jsx(Cn,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(yr,{className:"cursor-pointer focus:bg-primary/10 focus:text-primary rounded-lg my-1",children:[e.jsx(tv,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(Gi,{className:"bg-border/50"}),e.jsx(yr,{className:"cursor-pointer focus:bg-destructive/10 focus:text-destructive text-destructive rounded-lg my-1",children:"Log out"})]})]})]})]})})}const N=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:P("rounded-xl border border-border/50 bg-card text-card-foreground shadow-sm",t),...s}));N.displayName="Card";const M=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:P("flex flex-col space-y-1.5 p-6",t),...s}));M.displayName="CardHeader";const L=m.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:P("text-2xl font-semibold leading-none tracking-tight",t),...s}));L.displayName="CardTitle";const Y=m.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:P("text-sm text-muted-foreground",t),...s}));Y.displayName="CardDescription";const S=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:P("p-6 pt-0",t),...s}));S.displayName="CardContent";const I1=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:P("flex items-center p-6 pt-0",t),...s}));I1.displayName="CardFooter";var Eo="Tabs",[D1,kA]=et(Eo,[Ir]),hx=Ir(),[O1,hc]=D1(Eo),fx=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:d="automatic",...c}=t,u=In(l),[f,x]=Lt({prop:n,onChange:a,defaultProp:o??"",caller:Eo});return e.jsx(O1,{scope:r,baseId:_t(),value:f,onValueChange:x,orientation:i,dir:u,activationMode:d,children:e.jsx(ie.div,{dir:u,"data-orientation":i,...c,ref:s})})});fx.displayName=Eo;var xx="TabsList",px=m.forwardRef((t,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,o=hc(xx,r),i=hx(r);return e.jsx(sc,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:e.jsx(ie.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:s})})});px.displayName=xx;var gx="TabsTrigger",bx=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=t,i=hc(gx,r),l=hx(r),d=jx(i.baseId,n),c=wx(i.baseId,n),u=n===i.value;return e.jsx(rc,{asChild:!0,...l,focusable:!a,active:u,children:e.jsx(ie.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...o,ref:s,onMouseDown:J(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:J(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:J(t.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!a&&f&&i.onValueChange(n)})})})});bx.displayName=gx;var vx="TabsContent",yx=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=t,l=hc(vx,r),d=jx(l.baseId,n),c=wx(l.baseId,n),u=n===l.value,f=m.useRef(u);return m.useEffect(()=>{const x=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(wt,{present:a||u,children:({present:x})=>e.jsx(ie.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:c,tabIndex:0,...i,ref:s,style:{...t.style,animationDuration:f.current?"0s":void 0},children:x&&o})})});yx.displayName=vx;function jx(t,s){return`${t}-trigger-${s}`}function wx(t,s){return`${t}-content-${s}`}var M1=fx,Nx=px,Sx=bx,kx=yx;const hs=M1,Qt=m.forwardRef(({className:t,...s},r)=>e.jsx(Nx,{ref:r,className:P("inline-flex h-10 items-center justify-center rounded-xl bg-muted p-1 text-muted-foreground",t),...s}));Qt.displayName=Nx.displayName;const Ae=m.forwardRef(({className:t,...s},r)=>e.jsx(Sx,{ref:r,className:P("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Ae.displayName=Sx.displayName;const Pe=m.forwardRef(({className:t,...s},r)=>e.jsx(kx,{ref:r,className:P("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Pe.displayName=kx.displayName;function L1({data:t,title:s="Revenue Overview",description:r="Your revenue and transaction trends",showMovingAverage:n=!1,showForecast:a=!1}){const o=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i);return e.jsxs(N,{className:"border-0 bg-white/60 dark:bg-slate-900/40 backdrop-blur-sm shadow-elevated ring-1 ring-black/5",children:[e.jsxs(M,{className:"pb-6",children:[e.jsx(L,{className:"text-xl font-semibold text-foreground",children:s}),e.jsx(Y,{className:"text-muted-foreground",children:r})]}),e.jsx(S,{className:"pt-2",children:e.jsxs(hs,{defaultValue:"revenue",className:"w-full",children:[e.jsxs(Qt,{className:"grid w-full grid-cols-3 bg-muted/30 p-1 rounded-xl",children:[e.jsx(Ae,{value:"revenue",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary",children:"Revenue"}),e.jsx(Ae,{value:"transactions",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary",children:"Transactions"}),e.jsx(Ae,{value:"profit",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary",children:"Profit"})]}),e.jsx(Pe,{value:"revenue",className:"space-y-4",children:e.jsx("div",{className:"h-[350px]",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ln,{data:t,children:[e.jsx(De,{strokeDasharray:"3 3",className:"opacity-20",stroke:"hsl(var(--border))"}),e.jsx(Oe,{dataKey:"date",className:"text-xs text-muted-foreground",axisLine:!1,tickLine:!1}),e.jsx(Me,{className:"text-xs text-muted-foreground",tickFormatter:o,axisLine:!1,tickLine:!1}),e.jsx(_e,{formatter:i=>[o(i),"Revenue"],labelFormatter:i=>`Date: ${i}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"}}),e.jsx(ls,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-1))",strokeWidth:3,dot:{fill:"hsl(var(--chart-1))",strokeWidth:2,r:5},activeDot:{r:8,stroke:"hsl(var(--chart-1))",strokeWidth:2}}),n&&e.jsx(ls,{type:"monotone",dataKey:"movingAverageRevenue",stroke:"hsl(var(--chart-2))",strokeDasharray:"6 6",strokeWidth:2,dot:!1}),a&&e.jsx(ls,{type:"monotone",dataKey:"forecastRevenue",stroke:"hsl(var(--chart-4))",strokeDasharray:"2 4",strokeWidth:2,dot:!1})]})})})}),e.jsx(Pe,{value:"transactions",className:"space-y-4",children:e.jsx("div",{className:"h-[350px]",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:t,children:[e.jsx(De,{strokeDasharray:"3 3",className:"opacity-20",stroke:"hsl(var(--border))"}),e.jsx(Oe,{dataKey:"date",className:"text-xs text-muted-foreground",axisLine:!1,tickLine:!1}),e.jsx(Me,{className:"text-xs text-muted-foreground",axisLine:!1,tickLine:!1}),e.jsx(_e,{formatter:i=>[i.toLocaleString(),"Transactions"],labelFormatter:i=>`Date: ${i}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"}}),e.jsx(mt,{dataKey:"transactions",fill:"hsl(var(--chart-2))",radius:[6,6,0,0]})]})})})}),e.jsx(Pe,{value:"profit",className:"space-y-4",children:e.jsx("div",{className:"h-[350px]",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ln,{data:t,children:[e.jsx(De,{strokeDasharray:"3 3",className:"opacity-20",stroke:"hsl(var(--border))"}),e.jsx(Oe,{dataKey:"date",className:"text-xs text-muted-foreground",axisLine:!1,tickLine:!1}),e.jsx(Me,{className:"text-xs text-muted-foreground",tickFormatter:o,axisLine:!1,tickLine:!1}),e.jsx(_e,{formatter:i=>[o(i),"Profit"],labelFormatter:i=>`Date: ${i}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgb(0 0 0 / 0.1)"}}),e.jsx(ls,{type:"monotone",dataKey:"profit",stroke:"hsl(var(--chart-3))",strokeWidth:3,dot:{fill:"hsl(var(--chart-3))",strokeWidth:2,r:5},activeDot:{r:8,stroke:"hsl(var(--chart-3))",strokeWidth:2}})]})})})})]})})]})}function Cx(t,s){return function(){return t.apply(s,arguments)}}const{toString:F1}=Object.prototype,{getPrototypeOf:fc}=Object,{iterator:To,toStringTag:Rx}=Symbol,Po=(t=>s=>{const r=F1.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ut=t=>(t=t.toLowerCase(),s=>Po(s)===t),Io=t=>s=>typeof s===t,{isArray:Dr}=Array,yn=Io("undefined");function Ln(t){return t!==null&&!yn(t)&&t.constructor!==null&&!yn(t.constructor)&&ht(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _x=Ut("ArrayBuffer");function $1(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&_x(t.buffer),s}const B1=Io("string"),ht=Io("function"),Ax=Io("number"),Fn=t=>t!==null&&typeof t=="object",U1=t=>t===!0||t===!1,ba=t=>{if(Po(t)!=="object")return!1;const s=fc(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Rx in t)&&!(To in t)},z1=t=>{if(!Fn(t)||Ln(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},W1=Ut("Date"),H1=Ut("File"),q1=Ut("Blob"),K1=Ut("FileList"),V1=t=>Fn(t)&&ht(t.pipe),G1=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ht(t.append)&&((s=Po(t))==="formdata"||s==="object"&&ht(t.toString)&&t.toString()==="[object FormData]"))},X1=Ut("URLSearchParams"),[Y1,J1,Q1,Z1]=["ReadableStream","Request","Response","Headers"].map(Ut),ek=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $n(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Dr(t))for(n=0,a=t.length;n<a;n++)s.call(null,t[n],n,t);else{if(Ln(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(n=0;n<i;n++)l=o[n],s.call(null,t[l],l,t)}}function Ex(t,s){if(Ln(t))return null;s=s.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const Fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tx=t=>!yn(t)&&t!==Fs;function Xi(){const{caseless:t}=Tx(this)&&this||{},s={},r=(n,a)=>{const o=t&&Ex(s,a)||a;ba(s[o])&&ba(n)?s[o]=Xi(s[o],n):ba(n)?s[o]=Xi({},n):Dr(n)?s[o]=n.slice():s[o]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&$n(arguments[n],r);return s}const tk=(t,s,r,{allOwnKeys:n}={})=>($n(s,(a,o)=>{r&&ht(a)?t[o]=Cx(a,r):t[o]=a},{allOwnKeys:n}),t),sk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rk=(t,s,r,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},nk=(t,s,r,n)=>{let a,o,i;const l={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)i=a[o],(!n||n(i,t,s))&&!l[i]&&(s[i]=t[i],l[i]=!0);t=r!==!1&&fc(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},ak=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const n=t.indexOf(s,r);return n!==-1&&n===r},ok=t=>{if(!t)return null;if(Dr(t))return t;let s=t.length;if(!Ax(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},ik=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&fc(Uint8Array)),lk=(t,s)=>{const n=(t&&t[To]).call(t);let a;for(;(a=n.next())&&!a.done;){const o=a.value;s.call(t,o[0],o[1])}},ck=(t,s)=>{let r;const n=[];for(;(r=t.exec(s))!==null;)n.push(r);return n},dk=Ut("HTMLFormElement"),uk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Hd=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),mk=Ut("RegExp"),Px=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),n={};$n(r,(a,o)=>{let i;(i=s(a,o,t))!==!1&&(n[o]=i||a)}),Object.defineProperties(t,n)},hk=t=>{Px(t,(s,r)=>{if(ht(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ht(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},fk=(t,s)=>{const r={},n=a=>{a.forEach(o=>{r[o]=!0})};return Dr(t)?n(t):n(String(t).split(s)),r},xk=()=>{},pk=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function gk(t){return!!(t&&ht(t.append)&&t[Rx]==="FormData"&&t[To])}const bk=t=>{const s=new Array(10),r=(n,a)=>{if(Fn(n)){if(s.indexOf(n)>=0)return;if(Ln(n))return n;if(!("toJSON"in n)){s[a]=n;const o=Dr(n)?[]:{};return $n(n,(i,l)=>{const d=r(i,a+1);!yn(d)&&(o[l]=d)}),s[a]=void 0,o}}return n};return r(t,0)},vk=Ut("AsyncFunction"),yk=t=>t&&(Fn(t)||ht(t))&&ht(t.then)&&ht(t.catch),Ix=((t,s)=>t?setImmediate:s?((r,n)=>(Fs.addEventListener("message",({source:a,data:o})=>{a===Fs&&o===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Fs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ht(Fs.postMessage)),jk=typeof queueMicrotask<"u"?queueMicrotask.bind(Fs):typeof process<"u"&&process.nextTick||Ix,wk=t=>t!=null&&ht(t[To]),T={isArray:Dr,isArrayBuffer:_x,isBuffer:Ln,isFormData:G1,isArrayBufferView:$1,isString:B1,isNumber:Ax,isBoolean:U1,isObject:Fn,isPlainObject:ba,isEmptyObject:z1,isReadableStream:Y1,isRequest:J1,isResponse:Q1,isHeaders:Z1,isUndefined:yn,isDate:W1,isFile:H1,isBlob:q1,isRegExp:mk,isFunction:ht,isStream:V1,isURLSearchParams:X1,isTypedArray:ik,isFileList:K1,forEach:$n,merge:Xi,extend:tk,trim:ek,stripBOM:sk,inherits:rk,toFlatObject:nk,kindOf:Po,kindOfTest:Ut,endsWith:ak,toArray:ok,forEachEntry:lk,matchAll:ck,isHTMLForm:dk,hasOwnProperty:Hd,hasOwnProp:Hd,reduceDescriptors:Px,freezeMethods:hk,toObjectSet:fk,toCamelCase:uk,noop:xk,toFiniteNumber:pk,findKey:Ex,global:Fs,isContextDefined:Tx,isSpecCompliantForm:gk,toJSONObject:bk,isAsyncFn:vk,isThenable:yk,setImmediate:Ix,asap:jk,isIterable:wk};function ve(t,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Dx=ve.prototype,Ox={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ox[t]={value:t}});Object.defineProperties(ve,Ox);Object.defineProperty(Dx,"isAxiosError",{value:!0});ve.from=(t,s,r,n,a,o)=>{const i=Object.create(Dx);return T.toFlatObject(t,i,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),ve.call(i,t.message,s,r,n,a),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Nk=null;function Yi(t){return T.isPlainObject(t)||T.isArray(t)}function Mx(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function qd(t,s,r){return t?t.concat(s).map(function(a,o){return a=Mx(a),!r&&o?"["+a+"]":a}).join(r?".":""):s}function Sk(t){return T.isArray(t)&&!t.some(Yi)}const kk=T.toFlatObject(T,{},null,function(s){return/^is[A-Z]/.test(s)});function Do(t,s,r){if(!T.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!T.isUndefined(p[g])});const n=r.metaTokens,a=r.visitor||u,o=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(s);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(T.isDate(b))return b.toISOString();if(T.isBoolean(b))return b.toString();if(!d&&T.isBlob(b))throw new ve("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(b)||T.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,g,p){let y=b;if(b&&!p&&typeof b=="object"){if(T.endsWith(g,"{}"))g=n?g:g.slice(0,-2),b=JSON.stringify(b);else if(T.isArray(b)&&Sk(b)||(T.isFileList(b)||T.endsWith(g,"[]"))&&(y=T.toArray(b)))return g=Mx(g),y.forEach(function(j,w){!(T.isUndefined(j)||j===null)&&s.append(i===!0?qd([g],w,o):i===null?g:g+"[]",c(j))}),!1}return Yi(b)?!0:(s.append(qd(p,g,o),c(b)),!1)}const f=[],x=Object.assign(kk,{defaultVisitor:u,convertValue:c,isVisitable:Yi});function h(b,g){if(!T.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(b),T.forEach(b,function(y,v){(!(T.isUndefined(y)||y===null)&&a.call(s,y,T.isString(v)?v.trim():v,g,x))===!0&&h(y,g?g.concat(v):[v])}),f.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return h(t),s}function Kd(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function xc(t,s){this._pairs=[],t&&Do(t,this,s)}const Lx=xc.prototype;Lx.append=function(s,r){this._pairs.push([s,r])};Lx.toString=function(s){const r=s?function(n){return s.call(this,n,Kd)}:Kd;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Ck(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fx(t,s,r){if(!s)return t;const n=r&&r.encode||Ck;T.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(s,r):o=T.isURLSearchParams(s)?s.toString():new xc(s,r).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Vd{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){T.forEach(this.handlers,function(n){n!==null&&s(n)})}}const $x={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rk=typeof URLSearchParams<"u"?URLSearchParams:xc,_k=typeof FormData<"u"?FormData:null,Ak=typeof Blob<"u"?Blob:null,Ek={isBrowser:!0,classes:{URLSearchParams:Rk,FormData:_k,Blob:Ak},protocols:["http","https","file","blob","url","data"]},pc=typeof window<"u"&&typeof document<"u",Ji=typeof navigator=="object"&&navigator||void 0,Tk=pc&&(!Ji||["ReactNative","NativeScript","NS"].indexOf(Ji.product)<0),Pk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ik=pc&&window.location.href||"http://localhost",Dk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pc,hasStandardBrowserEnv:Tk,hasStandardBrowserWebWorkerEnv:Pk,navigator:Ji,origin:Ik},Symbol.toStringTag,{value:"Module"})),Ze={...Dk,...Ek};function Ok(t,s){return Do(t,new Ze.classes.URLSearchParams,{visitor:function(r,n,a,o){return Ze.isNode&&T.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function Mk(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Lk(t){const s={},r=Object.keys(t);let n;const a=r.length;let o;for(n=0;n<a;n++)o=r[n],s[o]=t[o];return s}function Bx(t){function s(r,n,a,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),d=o>=r.length;return i=!i&&T.isArray(a)?a.length:i,d?(T.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!T.isObject(a[i]))&&(a[i]=[]),s(r,n,a[i],o)&&T.isArray(a[i])&&(a[i]=Lk(a[i])),!l)}if(T.isFormData(t)&&T.isFunction(t.entries)){const r={};return T.forEachEntry(t,(n,a)=>{s(Mk(n),a,r,0)}),r}return null}function Fk(t,s,r){if(T.isString(t))try{return(s||JSON.parse)(t),T.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const Bn={transitional:$x,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,o=T.isObject(s);if(o&&T.isHTMLForm(s)&&(s=new FormData(s)),T.isFormData(s))return a?JSON.stringify(Bx(s)):s;if(T.isArrayBuffer(s)||T.isBuffer(s)||T.isStream(s)||T.isFile(s)||T.isBlob(s)||T.isReadableStream(s))return s;if(T.isArrayBufferView(s))return s.buffer;if(T.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ok(s,this.formSerializer).toString();if((l=T.isFileList(s))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Do(l?{"files[]":s}:s,d&&new d,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),Fk(s)):s}],transformResponse:[function(s){const r=this.transitional||Bn.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(s)||T.isReadableStream(s))return s;if(s&&T.isString(s)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s)}catch(l){if(i)throw l.name==="SyntaxError"?ve.from(l,ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{Bn.headers[t]={}});const $k=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bk=t=>{const s={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||s[r]&&$k[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},Gd=Symbol("internals");function zr(t){return t&&String(t).trim().toLowerCase()}function va(t){return t===!1||t==null?t:T.isArray(t)?t.map(va):String(t)}function Uk(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)s[n[1]]=n[2];return s}const zk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function pi(t,s,r,n,a){if(T.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!T.isString(s)){if(T.isString(n))return s.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(s)}}function Wk(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function Hk(t,s){const r=T.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,o,i){return this[n].call(this,s,a,o,i)},configurable:!0})})}class ft{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function o(l,d,c){const u=zr(d);if(!u)throw new Error("header name must be a non-empty string");const f=T.findKey(a,u);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||d]=va(l))}const i=(l,d)=>T.forEach(l,(c,u)=>o(c,u,d));if(T.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(T.isString(s)&&(s=s.trim())&&!zk(s))i(Bk(s),r);else if(T.isObject(s)&&T.isIterable(s)){let l={},d,c;for(const u of s){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?T.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(l,r)}else s!=null&&o(r,s,n);return this}get(s,r){if(s=zr(s),s){const n=T.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return Uk(a);if(T.isFunction(r))return r.call(this,a,n);if(T.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=zr(s),s){const n=T.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||pi(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function o(i){if(i=zr(i),i){const l=T.findKey(n,i);l&&(!r||pi(n,n[l],l,r))&&(delete n[l],a=!0)}}return T.isArray(s)?s.forEach(o):o(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const o=r[n];(!s||pi(this,this[o],o,s,!0))&&(delete this[o],a=!0)}return a}normalize(s){const r=this,n={};return T.forEach(this,(a,o)=>{const i=T.findKey(n,o);if(i){r[i]=va(a),delete r[o];return}const l=s?Wk(o):String(o).trim();l!==o&&delete r[o],r[l]=va(a),n[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return T.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&T.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[Gd]=this[Gd]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=zr(i);n[l]||(Hk(a,i),n[l]=!0)}return T.isArray(s)?s.forEach(o):o(s),this}}ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(ft.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[r]=n}}});T.freezeMethods(ft);function gi(t,s){const r=this||Bn,n=s||r,a=ft.from(n.headers);let o=n.data;return T.forEach(t,function(l){o=l.call(r,o,a.normalize(),s?s.status:void 0)}),a.normalize(),o}function Ux(t){return!!(t&&t.__CANCEL__)}function Or(t,s,r){ve.call(this,t??"canceled",ve.ERR_CANCELED,s,r),this.name="CanceledError"}T.inherits(Or,ve,{__CANCEL__:!0});function zx(t,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):s(new ve("Request failed with status code "+r.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function qk(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Kk(t,s){t=t||10;const r=new Array(t),n=new Array(t);let a=0,o=0,i;return s=s!==void 0?s:1e3,function(d){const c=Date.now(),u=n[o];i||(i=c),r[a]=d,n[a]=c;let f=o,x=0;for(;f!==a;)x+=r[f++],f=f%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),c-i<s)return;const h=u&&c-u;return h?Math.round(x*1e3/h):void 0}}function Vk(t,s){let r=0,n=1e3/s,a,o;const i=(c,u=Date.now())=>{r=u,a=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const u=Date.now(),f=u-r;f>=n?i(c,u):(a=c,o||(o=setTimeout(()=>{o=null,i(a)},n-f)))},()=>a&&i(a)]}const Ha=(t,s,r=3)=>{let n=0;const a=Kk(50,250);return Vk(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,d=i-n,c=a(d),u=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(f)},r)},Xd=(t,s)=>{const r=t!=null;return[n=>s[0]({lengthComputable:r,total:t,loaded:n}),s[1]]},Yd=t=>(...s)=>T.asap(()=>t(...s)),Gk=Ze.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,Ze.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,Xk=Ze.hasStandardBrowserEnv?{write(t,s,r,n,a,o){const i=[t+"="+encodeURIComponent(s)];T.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),T.isString(n)&&i.push("path="+n),T.isString(a)&&i.push("domain="+a),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yk(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Jk(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Wx(t,s,r){let n=!Yk(s);return t&&(n||r==!1)?Jk(t,s):s}const Jd=t=>t instanceof ft?{...t}:t;function Ks(t,s){s=s||{};const r={};function n(c,u,f,x){return T.isPlainObject(c)&&T.isPlainObject(u)?T.merge.call({caseless:x},c,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function a(c,u,f,x){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c,f,x)}else return n(c,u,f,x)}function o(c,u){if(!T.isUndefined(u))return n(void 0,u)}function i(c,u){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,f){if(f in s)return n(c,u);if(f in t)return n(void 0,c)}const d={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,u,f)=>a(Jd(c),Jd(u),f,!0)};return T.forEach(Object.keys({...t,...s}),function(u){const f=d[u]||a,x=f(t[u],s[u],u);T.isUndefined(x)&&f!==l||(r[u]=x)}),r}const Hx=t=>{const s=Ks({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=s;s.headers=i=ft.from(i),s.url=Fx(Wx(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(T.isFormData(r)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((d=i.getContentType())!==!1){const[c,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ze.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(s)),n||n!==!1&&Gk(s.url))){const c=a&&o&&Xk.read(o);c&&i.set(a,c)}return s},Qk=typeof XMLHttpRequest<"u",Zk=Qk&&function(t){return new Promise(function(r,n){const a=Hx(t);let o=a.data;const i=ft.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=a,u,f,x,h,b;function g(){h&&h(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout;function y(){if(!p)return;const j=ft.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:j,config:t,request:p};zx(function(C){r(C),g()},function(C){n(C),g()},k),p=null}"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(y)},p.onabort=function(){p&&(n(new ve("Request aborted",ve.ECONNABORTED,t,p)),p=null)},p.onerror=function(){n(new ve("Network Error",ve.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||$x;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new ve(w,k.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,p)),p=null},o===void 0&&i.setContentType(null),"setRequestHeader"in p&&T.forEach(i.toJSON(),function(w,k){p.setRequestHeader(k,w)}),T.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),l&&l!=="json"&&(p.responseType=a.responseType),c&&([x,b]=Ha(c,!0),p.addEventListener("progress",x)),d&&p.upload&&([f,h]=Ha(d),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=j=>{p&&(n(!j||j.type?new Or(null,t,p):j),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const v=qk(a.url);if(v&&Ze.protocols.indexOf(v)===-1){n(new ve("Unsupported protocol "+v+":",ve.ERR_BAD_REQUEST,t));return}p.send(o||null)})},eC=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let n=new AbortController,a;const o=function(c){if(!a){a=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof ve?u:new Or(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,o(new ve(`timeout ${s} of ms exceeded`,ve.ETIMEDOUT))},s);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>T.asap(l),d}},tC=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let n=0,a;for(;n<r;)a=n+s,yield t.slice(n,a),n=a},sC=async function*(t,s){for await(const r of rC(t))yield*tC(r,s)},rC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},Qd=(t,s,r,n)=>{const a=sC(t,s);let o=0,i,l=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){l(),d.close();return}let f=u.byteLength;if(r){let x=o+=f;r(x)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},Oo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qx=Oo&&typeof ReadableStream=="function",nC=Oo&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Kx=(t,...s)=>{try{return!!t(...s)}catch{return!1}},aC=qx&&Kx(()=>{let t=!1;const s=new Request(Ze.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),Zd=64*1024,Qi=qx&&Kx(()=>T.isReadableStream(new Response("").body)),qa={stream:Qi&&(t=>t.body)};Oo&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!qa[s]&&(qa[s]=T.isFunction(t[s])?r=>r[s]():(r,n)=>{throw new ve(`Response type '${s}' is not supported`,ve.ERR_NOT_SUPPORT,n)})})})(new Response);const oC=async t=>{if(t==null)return 0;if(T.isBlob(t))return t.size;if(T.isSpecCompliantForm(t))return(await new Request(Ze.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(T.isArrayBufferView(t)||T.isArrayBuffer(t))return t.byteLength;if(T.isURLSearchParams(t)&&(t=t+""),T.isString(t))return(await nC(t)).byteLength},iC=async(t,s)=>{const r=T.toFiniteNumber(t.getContentLength());return r??oC(s)},lC=Oo&&(async t=>{let{url:s,method:r,data:n,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:d,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:x}=Hx(t);c=c?(c+"").toLowerCase():"text";let h=eC([a,o&&o.toAbortSignal()],i),b;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(d&&aC&&r!=="get"&&r!=="head"&&(p=await iC(u,n))!==0){let k=new Request(s,{method:"POST",body:n,duplex:"half"}),R;if(T.isFormData(n)&&(R=k.headers.get("content-type"))&&u.setContentType(R),k.body){const[C,E]=Xd(p,Ha(Yd(d)));n=Qd(k.body,Zd,C,E)}}T.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;b=new Request(s,{...x,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:y?f:void 0});let v=await fetch(b,x);const j=Qi&&(c==="stream"||c==="response");if(Qi&&(l||j&&g)){const k={};["status","statusText","headers"].forEach(O=>{k[O]=v[O]});const R=T.toFiniteNumber(v.headers.get("content-length")),[C,E]=l&&Xd(R,Ha(Yd(l),!0))||[];v=new Response(Qd(v.body,Zd,C,()=>{E&&E(),g&&g()}),k)}c=c||"text";let w=await qa[T.findKey(qa,c)||"text"](v,t);return!j&&g&&g(),await new Promise((k,R)=>{zx(k,R,{data:w,headers:ft.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:b})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,t,b),{cause:y.cause||y}):ve.from(y,y&&y.code,t,b)}}),Zi={http:Nk,xhr:Zk,fetch:lC};T.forEach(Zi,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const eu=t=>`- ${t}`,cC=t=>T.isFunction(t)||t===null||t===!1,Vx={getAdapter:t=>{t=T.isArray(t)?t:[t];const{length:s}=t;let r,n;const a={};for(let o=0;o<s;o++){r=t[o];let i;if(n=r,!cC(r)&&(n=Zi[(i=String(r)).toLowerCase()],n===void 0))throw new ve(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+o]=n}if(!n){const o=Object.entries(a).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=s?o.length>1?`since :
`+o.map(eu).join(`
`):" "+eu(o[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Zi};function bi(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Or(null,t)}function tu(t){return bi(t),t.headers=ft.from(t.headers),t.data=gi.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Vx.getAdapter(t.adapter||Bn.adapter)(t).then(function(n){return bi(t),n.data=gi.call(t,t.transformResponse,n),n.headers=ft.from(n.headers),n},function(n){return Ux(n)||(bi(t),n&&n.response&&(n.response.data=gi.call(t,t.transformResponse,n.response),n.response.headers=ft.from(n.response.headers))),Promise.reject(n)})}const Gx="1.11.0",Mo={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Mo[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const su={};Mo.transitional=function(s,r,n){function a(o,i){return"[Axios v"+Gx+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(s===!1)throw new ve(a(i," has been removed"+(r?" in "+r:"")),ve.ERR_DEPRECATED);return r&&!su[i]&&(su[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(o,i,l):!0}};Mo.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function dC(t,s,r){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const o=n[a],i=s[o];if(i){const l=t[o],d=l===void 0||i(l,o,t);if(d!==!0)throw new ve("option "+o+" must be "+d,ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ve("Unknown option "+o,ve.ERR_BAD_OPTION)}}const ya={assertOptions:dC,validators:Mo},Wt=ya.validators;class Us{constructor(s){this.defaults=s||{},this.interceptors={request:new Vd,response:new Vd}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Ks(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:o}=r;n!==void 0&&ya.assertOptions(n,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),a!=null&&(T.isFunction(a)?r.paramsSerializer={serialize:a}:ya.assertOptions(a,{encode:Wt.function,serialize:Wt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ya.assertOptions(r,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&T.merge(o.common,o[r.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=ft.concat(i,o);const l=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(d=d&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,x;if(!d){const b=[tu.bind(this),void 0];for(b.unshift(...l),b.push(...c),x=b.length,u=Promise.resolve(r);f<x;)u=u.then(b[f++],b[f++]);return u}x=l.length;let h=r;for(f=0;f<x;){const b=l[f++],g=l[f++];try{h=b(h)}catch(p){g.call(this,p);break}}try{u=tu.call(this,h)}catch(b){return Promise.reject(b)}for(f=0,x=c.length;f<x;)u=u.then(c[f++],c[f++]);return u}getUri(s){s=Ks(this.defaults,s);const r=Wx(s.baseURL,s.url,s.allowAbsoluteUrls);return Fx(r,s.params,s.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(s){Us.prototype[s]=function(r,n){return this.request(Ks(n||{},{method:s,url:r,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(s){function r(n){return function(o,i,l){return this.request(Ks(l||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Us.prototype[s]=r(),Us.prototype[s+"Form"]=r(!0)});class gc{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(a=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](a);n._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(a);return i.cancel=function(){n.unsubscribe(o)},i},s(function(o,i,l){n.reason||(n.reason=new Or(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new gc(function(a){s=a}),cancel:s}}}function uC(t){return function(r){return t.apply(null,r)}}function mC(t){return T.isObject(t)&&t.isAxiosError===!0}const el={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(el).forEach(([t,s])=>{el[s]=t});function Xx(t){const s=new Us(t),r=Cx(Us.prototype.request,s);return T.extend(r,Us.prototype,s,{allOwnKeys:!0}),T.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return Xx(Ks(t,a))},r}const Ue=Xx(Bn);Ue.Axios=Us;Ue.CanceledError=Or;Ue.CancelToken=gc;Ue.isCancel=Ux;Ue.VERSION=Gx;Ue.toFormData=Do;Ue.AxiosError=ve;Ue.Cancel=Ue.CanceledError;Ue.all=function(s){return Promise.all(s)};Ue.spread=uC;Ue.isAxiosError=mC;Ue.mergeConfig=Ks;Ue.AxiosHeaders=ft;Ue.formToJSON=t=>Bx(T.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=Vx.getAdapter;Ue.HttpStatusCode=el;Ue.default=Ue;const ru={baseURL:"https://api.nicola.id/",timeout:parseInt("10000"),enableLogging:!0},pe={dashboard:{overview:"/api/dashboard/overview",dailyChart:"/api/dashboard/chart/daily",monthlyChart:"/api/dashboard/chart/monthly",realtime:"/api/dashboard/realtime",predictions:"/api/dashboard/predictions"},users:{activity:"/api/dashboard/users/activity",all:"/api/dashboard/users/all",stats:"/api/dashboard/users/stats",behavior:"/api/dashboard/users/behavior",transactions:t=>`/api/dashboard/users/${t}/transactions`},transactions:{search:t=>`/api/dashboard/transactions/search/${t}`,recent:t=>`/api/dashboard/transactions/recent${t?`?limit=${t}`:""}`,withReceipt:t=>`/api/dashboard/transactions/${t}/with-receipt`},analytics:{advanced:"/api/dashboard/analytics/advanced",finance:"/api/dashboard/finance/analytics"},products:{stats:"/api/dashboard/products/stats",performance:"/api/dashboard/products/performance",create:"/api/dashboard/products",get:t=>`/api/dashboard/products/${t}`,update:t=>`/api/dashboard/products/${t}`,delete:t=>`/api/dashboard/products/${t}`,stock:"/api/dashboard/products/stock",stockSummary:"/api/dashboard/products/stock/summary",stockAlerts:"/api/dashboard/products/stock/alerts",stockAnalytics:"/api/dashboard/products/stock/analytics",stockReport:"/api/dashboard/products/stock/report",stockExport:"/api/dashboard/products/stock/export",updateStock:t=>`/api/dashboard/products/${t}/stock`,stockHistory:t=>`/api/dashboard/products/${t}/stock/history`,stockDetails:t=>`/api/dashboard/products/${t}/stock/details`,bulkStockUpdate:"/api/dashboard/products/stock/bulk-update",addStock:t=>`/api/dashboard/products/${t}/stock/add`,editStock:(t,s)=>`/api/dashboard/products/${t}/stock/${s}`,deleteStock:(t,s)=>`/api/dashboard/products/${t}/stock/${s}`,deleteMultipleStock:t=>`/api/dashboard/products/${t}/stock`,getStockItem:(t,s)=>`/api/dashboard/products/${t}/stock/${s}`,replaceAllStock:t=>`/api/dashboard/products/${t}/stock/replace-all`,bulkOperations:"/api/dashboard/products/stock/bulk-operations",stockItem:t=>`/api/dashboard/products/${t}/stock/item`},export:t=>`/api/dashboard/export/${t}`,receipts:{all:"/api/dashboard/receipts",get:t=>`/api/dashboard/receipts/${t}`,download:t=>`/api/dashboard/receipts/${t}/download`,delete:t=>`/api/dashboard/receipts/${t}`}};function hC(t,s,r){return Array.isArray(t)?{isValid:!0,data:t}:(console.warn(`${r}: data is not an array:`,t),{isValid:!1,error:`${r}: Expected array, got ${typeof t}`,fallbackData:s})}const me=Ue.create({baseURL:ru.baseURL,timeout:ru.timeout});me.interceptors.request.use(t=>{var s;return console.log(`Making ${(s=t.method)==null?void 0:s.toUpperCase()} request to ${t.url}`),t});me.interceptors.response.use(t=>t,t=>{var s;return console.error("API Error:",((s=t.response)==null?void 0:s.data)||t.message),Promise.reject(t)});function nu(t){return t>=1e6?"gold":t>=5e5?"silver":"bronze"}const ue={async getOverview(){const t=await me.get(pe.dashboard.overview);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch dashboard overview")},async getDailyChart(){const t=await me.get(pe.dashboard.dailyChart);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch daily chart data")},async getMonthlyChart(){const t=await me.get(pe.dashboard.monthlyChart);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch monthly chart data")},async getUserActivity(){const t=await me.get(pe.users.activity);if(console.log(" Debug: Full API response:",t.data),t.data.success&&t.data.data){const s=t.data.data;if(s&&typeof s=="object"&&Array.isArray(s.userActivity)){console.log(" Debug: Valid user activity structure detected"),console.log(" Debug: User activity array length:",s.userActivity.length),s.userActivity.length>0&&(console.log(" Debug: First user data structure:",s.userActivity[0]),console.log(" Debug: Available fields:",Object.keys(s.userActivity[0])));const i=s.userActivity.map(l=>{var f;const d=l.totalTransaksi||l.transactionCount||l.transaksi||l.count||0,c=l.totalSpent||l.totalPendapatan||l.spent||l.amount||0,u=l.saldo||l.balance||l.credit||0;return console.log(` Debug: User ${l.user||"unknown"} - transactionCount: ${d}, totalSpent: ${c}`),{userId:l.user||l.userId||l.user_id||"unknown",username:l.user||l.username||l.name||"User "+((f=l.user||l.userId||"unknown")==null?void 0:f.slice(-4)),lastActivity:l.lastActivity||l.last_activity||l.updatedAt||new Date().toISOString(),transactionCount:d,totalSpent:c,saldo:u,role:nu(c)}});return{activeUsers:s.activeUsers||0,newUsers:s.newUsers||0,userActivity:i,activityTrends:s.activityTrends||{dailyActive:[0],weeklyActive:[0],monthlyActive:[0]}}}const r=hC(s,[],"getUserActivity");if(!r.isValid)return console.warn(r.error),{activeUsers:0,newUsers:0,userActivity:[],activityTrends:{dailyActive:[0],weeklyActive:[0],monthlyActive:[0]}};const n=s.length,a=s.filter(i=>{const l=new Date(i.lastActivity);return Math.floor((new Date().getTime()-l.getTime())/(1e3*60*60*24))<=30}).length;s.length>0&&(console.log(" Debug: First user data structure:",s[0]),console.log(" Debug: Available fields:",Object.keys(s[0])));const o=s.map(i=>{var u;const l=i.totalTransaksi||i.transactionCount||i.transaksi||i.count||0,d=i.totalSpent||i.totalPendapatan||i.spent||i.amount||0,c=i.saldo||i.balance||i.credit||0;return console.log(` Debug: User ${i.user||"unknown"} - transactionCount: ${l}, totalSpent: ${d}`),{userId:i.user||i.userId||i.user_id||"unknown",username:i.user||i.username||i.name||"User "+((u=i.user||i.userId||"unknown")==null?void 0:u.slice(-4)),lastActivity:i.lastActivity||i.last_activity||i.updatedAt||new Date().toISOString(),transactionCount:l,totalSpent:d,saldo:c,role:nu(d)}});return{activeUsers:n,newUsers:a,userActivity:o,activityTrends:{dailyActive:[n],weeklyActive:[n],monthlyActive:[n]}}}throw new Error(t.data.error||"Failed to fetch user activity")},async getUserTransactions(t){const s=[t,t.includes("@s.whatsapp.net")?t:`${t}@s.whatsapp.net`,t.replace("@s.whatsapp.net","")];console.log(" Debug: Trying getUserTransactions with IDs:",s);let r=null;for(const n of s)try{console.log(` Debug: Attempting API call with userId: ${n}`);const a=await me.get(pe.users.transactions(n));if(a.data.success&&a.data.data){if(console.log(` Success with userId: ${n}`),console.log(" Debug: API response data:",a.data.data),console.log(" Debug: Available fields:",Object.keys(a.data.data)),!a.data.data.transaksi||!Array.isArray(a.data.data.transaksi))return console.warn("getUserTransactions: transaksi is not an array:",a.data.data.transaksi),{user:n,userId:n,transaksi:[],totalTransaksi:0,totalSpent:0};const o={...a.data.data,transaksi:a.data.data.transaksi.map(i=>({...i,user:i.user_name||i.user||"Anonymous User",metodeBayar:i.payment_method||i.metodeBayar||"Not specified",reffId:i.order_id||i.reffId||"N/A",user_name:i.user_name,payment_method:i.payment_method,user_id:i.user_id,order_id:i.order_id}))};return console.log(" Debug: Transformed data:",o),console.log(` Debug: Transaction count: ${o.transaksi.length}, Total spent: ${o.totalSpent}`),o}}catch(a){console.log(` Failed with userId: ${n}`,a),r=a;continue}throw new Error((r==null?void 0:r.message)||"Failed to fetch user transactions with any ID format")},async getUserStats(){const t=await me.get(pe.users.stats);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch user stats")},async searchTransaction(t){const s=await me.get(pe.transactions.search(t));if(s.data.success&&s.data.data)return{...s.data.data,user:s.data.data.user||"Anonymous User",metodeBayar:s.data.data.metodeBayar||"Not specified",user_name:s.data.data.user_name,payment_method:s.data.data.payment_method};throw new Error(s.data.error||"Failed to search transaction")},async getTransactionWithReceipt(t){const s=await me.get(pe.transactions.withReceipt(t));if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.error||"Failed to fetch transaction with receipt")},async getRecentTransactions(t=20){const s=await me.get(pe.transactions.recent(t));if(s.data.success&&s.data.data)return!s.data.data.transactions||!Array.isArray(s.data.data.transactions)?(console.warn("getRecentTransactions: transactions is not an array:",s.data.data.transactions),{transactions:[],count:0,limit:t}):{...s.data.data,transactions:s.data.data.transactions.map(n=>({...n,user:n.user_name||n.user||"Anonymous User",metodeBayar:n.payment_method||n.metodeBayar||"Not specified",reffId:n.order_id||n.reffId||"N/A",user_name:n.user_name,payment_method:n.payment_method,user_id:n.user_id,order_id:n.order_id}))};throw new Error(s.data.error||"Failed to fetch recent transactions")},async getProductStats(){const t=await me.get(pe.products.stats);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch product stats")},async exportData(t){return(await me.get(pe.export(t))).data},async getAllUsers(t=1,s=10,r="",n="all"){const a=new URLSearchParams({page:t.toString(),limit:s.toString(),search:r,role:n}),o=await me.get(`${pe.users.all}?${a}`);if(console.log(" Debug: getAllUsers response:",o.data),o.data.success&&o.data.data)return o.data.data.users&&o.data.data.users.length>0&&(console.log(" Debug: First user from getAllUsers:",o.data.data.users[0]),console.log(" Debug: getAllUsers user IDs:",o.data.data.users.map(i=>i.userId||i.user_id||i.user||"unknown"))),o.data.data;throw new Error(o.data.error||"Failed to fetch all users")},async getEnhancedUserActivity(){try{const t=await ue.getUserActivity(),s=await ue.getRecentTransactions(100);console.log(" Debug: Recent transactions response:",s);const r=new Map;s.transactions&&(console.log(" Debug: Processing transactions..."),s.transactions.forEach((a,o)=>{var c,u;const i=[a.user_id,a.user,a.user_name,(c=a.user_id)==null?void 0:c.replace("@s.whatsapp.net",""),(u=a.user)==null?void 0:u.replace("@s.whatsapp.net",""),a.user_id?`${a.user_id}@s.whatsapp.net`:null,a.user?`${a.user}@s.whatsapp.net`:null].filter(Boolean);o<5&&console.log(` Debug: Transaction ${o+1} possible user IDs:`,i);const l=i[0]||"unknown",d=r.get(l)||{count:0,totalSpent:0};r.set(l,{count:d.count+1,totalSpent:d.totalSpent+(a.totalBayar||a.price||0)}),i.forEach(f=>{if(f&&f!==l){const x=r.get(f)||{count:0,totalSpent:0};r.set(f,{count:x.count+1,totalSpent:x.totalSpent+(a.totalBayar||a.price||0)})}})})),console.log(" Debug: User transaction map keys:",Array.from(r.keys())),console.log(" Debug: User activity user IDs:",t.userActivity.map(a=>a.userId));const n=t.userActivity.map(a=>{var d,c,u;const o=[a.userId,(d=a.userId)==null?void 0:d.replace("@s.whatsapp.net",""),a.userId?`${a.userId}@s.whatsapp.net`:null,(u=(c=a.userId)==null?void 0:c.match(/\d+/))==null?void 0:u[0]].filter(Boolean);let i={count:0,totalSpent:0};for(const f of o){const x=r.get(f);if(x&&x.count>0){i=x,console.log(` Debug: Found transaction data for user ${a.userId} using ID ${f}:`,x);break}}i.count===0&&console.log(` Debug: No transaction data found for user ${a.userId}, tried IDs:`,o);const l={...a,transactionCount:i.count||a.transactionCount||0,totalSpent:i.totalSpent||a.totalSpent||0};return console.log(` Debug: Enhanced user ${a.userId}:`,{original:{transactionCount:a.transactionCount,totalSpent:a.totalSpent},transactionInfo:i,final:{transactionCount:l.transactionCount,totalSpent:l.totalSpent}}),l});return console.log(" Debug: Enhanced user activity with transaction data:",n),{...t,userActivity:n}}catch(t){return console.error("Error getting enhanced user activity:",t),ue.getUserActivity()}},async getEnhancedAllUsers(t=1,s=10,r="",n="all"){try{const a=await this.getAllUsers(t,s,r,n);console.log(" Debug: Using individual user transaction API calls for accuracy");const o=i=>!i||typeof i!="string"?null:i.replace("@s.whatsapp.net","").replace("@lid","").trim();if(a.users&&Array.isArray(a.users)){console.log(" Debug: Original users data:",a.users.map(l=>({userId:l.userId||l.user_id||l.user,username:l.username,transactionCount:l.transactionCount,totalSpent:l.totalSpent})));const i=await Promise.all(a.users.map(async l=>{var d;try{const c=o(l.userId);if(!c)return console.log(" Debug: Could not normalize ID for user:",l.userId),{...l,transactionCount:0,totalSpent:0,hasTransactions:!1};const u=await this.getUserTransactions(c);return console.log(` Debug: User ${l.userId} (${c}) - API Response:`,{totalTransaksi:u.totalTransaksi,totalSpent:u.totalSpent,transactionCount:((d=u.transaksi)==null?void 0:d.length)||0}),{...l,transactionCount:u.totalTransaksi||0,totalSpent:u.totalSpent||0,lastActivity:u.transaksi&&u.transaksi.length>0?u.transaksi[0].date:l.lastActivity,hasTransactions:(u.totalTransaksi||0)>0,_debugNormalizedId:c,_debugApiResponse:{totalTransaksi:u.totalTransaksi,totalSpent:u.totalSpent}}}catch(c){return console.log(` Debug: Failed to get transactions for user ${l.userId}:`,c),{...l,transactionCount:l.transactionCount||0,totalSpent:l.totalSpent||0,hasTransactions:(l.transactionCount||0)>0}}}));return console.log(" Debug: Enhanced users data:",i.map(l=>({userId:l.userId||l.user_id,username:l.username,transactionCount:l.transactionCount,totalSpent:l.totalSpent,hasTransactions:l.hasTransactions,normalizedId:l._debugNormalizedId}))),{...a,users:i}}return a}catch(a){return console.error("Error getting enhanced users:",a),this.getAllUsers(t,s,r,n)}},async getProductStock(){const t=await me.get(pe.products.stock);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch product stock")},async createProduct(t){const s=await me.post(pe.products.create,t);if(s.data.success)return{success:!0,data:s.data.data};throw new Error(s.data.error||"Failed to create product")},async getProduct(t){const s=await me.get(pe.products.get(t));if(s.data.success)return{success:!0,data:s.data.data};throw new Error(s.data.error||"Failed to get product")},async updateProduct(t,s){const r=await me.patch(pe.products.update(t),s);if(r.data.success)return{success:!0,data:r.data.data};throw new Error(r.data.error||"Failed to update product")},async deleteProduct(t){const s=await me.delete(pe.products.delete(t));if(s.data.success)return{success:!0,data:s.data.data};throw new Error(s.data.error||"Failed to delete product")},async getStockSummary(){const t=await me.get(pe.products.stockSummary);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch stock summary")},async getStockAlerts(){const t=await me.get(pe.products.stockAlerts);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch stock alerts")},async getProductStockHistory(t){const s=await me.get(pe.products.stockHistory(t));if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.error||"Failed to fetch product stock history")},async getProductStockDetails(t){const s=await me.get(pe.products.stockDetails(t));if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.error||"Failed to fetch product stock details")},async updateProductStock(t,s){const r=await me.put(pe.products.updateStock(t),s);if(r.data.success&&r.data.data)return r.data.data;throw new Error(r.data.error||"Failed to update product stock")},async bulkUpdateStock(t){const s=await me.post(pe.products.stock+"/bulk-update",{updates:t});if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.error||"Failed to perform bulk stock update")},async getStockAnalytics(){const t=await me.get(pe.products.stockAnalytics);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch stock analytics")},async getStockReport(){const t=await me.get(pe.products.stockReport);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to generate stock report")},async exportStockCSV(){return(await me.get(pe.products.stockExport,{responseType:"blob"})).data},async getAdvancedAnalytics(){var s;const t=await me.get(pe.analytics.advanced);if(t.data.success&&t.data.data){const r=t.data.data;return{...r,topProducts:((s=r.topProducts)==null?void 0:s.map(n=>({id:n.id,name:n.name,revenue:n.totalRevenue||0,sold:n.totalSold||0})))||[]}}throw new Error(t.data.error||"Failed to fetch advanced analytics")},async getProductPerformance(){const t=await me.get(pe.products.performance);if(t.data.success&&t.data.data){const s=t.data.data,n=[...s.products||[],...s.topProducts||[],...s.lowStock||[]].reduce((d,c)=>(d.find(u=>u.id===c.id)||d.push(c),d),[]),a=n.length,o=n.reduce((d,c)=>{var u;return d+(((u=c.sales)==null?void 0:u.totalRevenue)||0)},0),i=n.reduce((d,c)=>{var u;return d+(((u=c.sales)==null?void 0:u.totalProfit)||0)},0),l=o>0?i/o*100:0;return{products:n,summary:{totalProducts:a,totalRevenue:o,totalProfit:i,avgProfitMargin:l},insights:{topByRevenue:(s.products||[]).map(d=>{var c,u,f;return{...d,revenue:((c=d.sales)==null?void 0:c.totalRevenue)||0,profit:((u=d.sales)==null?void 0:u.totalProfit)||0,conversionRate:((f=d.metrics)==null?void 0:f.conversionRate)||0}}).sort((d,c)=>c.revenue-d.revenue).slice(0,5),topByProfit:(s.products||[]).map(d=>{var c,u,f;return{...d,revenue:((c=d.sales)==null?void 0:c.totalRevenue)||0,profit:((u=d.sales)==null?void 0:u.totalProfit)||0,conversionRate:((f=d.metrics)==null?void 0:f.conversionRate)||0}}).sort((d,c)=>c.profit-d.profit).slice(0,5),topByConversion:(s.products||[]).map(d=>{var c,u,f;return{...d,revenue:((c=d.sales)==null?void 0:c.totalRevenue)||0,profit:((u=d.sales)==null?void 0:u.totalProfit)||0,conversionRate:((f=d.metrics)==null?void 0:f.conversionRate)||0}}).sort((d,c)=>c.conversionRate-d.conversionRate).slice(0,5),lowStock:(s.lowStock||[]).map(d=>{var c,u,f;return{...d,revenue:((c=d.sales)==null?void 0:c.totalRevenue)||0,profit:((u=d.sales)==null?void 0:u.totalProfit)||0,conversionRate:((f=d.metrics)==null?void 0:f.conversionRate)||0}})}}}throw new Error(t.data.error||"Failed to fetch product performance")},async getUserBehaviorAnalytics(){try{const s=(await this.getEnhancedAllUsers(1,1e3)).users;console.log(" getUserBehaviorAnalytics Debug: Processing",s.length,"users");const r={new:s.filter(u=>(u.transactionCount||0)<=1),regular:s.filter(u=>(u.transactionCount||0)>=2&&(u.transactionCount||0)<=5),loyal:s.filter(u=>(u.transactionCount||0)>=6&&(u.transactionCount||0)<=10),vip:s.filter(u=>(u.transactionCount||0)>=11)};console.log(" Segment counts:",{new:r.new.length,regular:r.regular.length,loyal:r.loyal.length,vip:r.vip.length});const n=s.length,a=Object.entries(r).reduce((u,[f,x])=>{const h=x.length,b=x.reduce((p,y)=>p+(y.totalSpent||0),0),g=x.reduce((p,y)=>p+(y.transactionCount||0),0);return u[f]={count:h,totalSpent:b,avgSpent:h>0?Math.round(b/h):0,avgTransactions:h>0?Math.round(g/h*10)/10:0,percentage:n>0?Math.round(h/n*1e3)/10:0},u},{});console.log(" Segment Stats Debug:",a);const o=s.filter(u=>{if(!u.lastActivity)return!1;const f=new Date(u.lastActivity),x=new Date;return x.setDate(x.getDate()-30),f>x}).length,i=n-o,l=n>0?i/n*100:0,d=s.filter(u=>(u.totalSpent||0)>0).sort((u,f)=>(f.totalSpent||0)-(u.totalSpent||0)).slice(0,10).map(u=>({...u,username:u.username==="User .net"||u.username==="User @lid"||!u.username?u.userId.replace("@s.whatsapp.net","").replace("@lid",""):u.username,displayId:u.userId.replace("@s.whatsapp.net","").replace("@lid","")})),c=s.filter(u=>(u.transactionCount||0)>0).sort((u,f)=>(f.transactionCount||0)-(u.transactionCount||0)).slice(0,10).map(u=>({...u,username:u.username==="User .net"||u.username==="User @lid"||!u.username?u.userId.replace("@s.whatsapp.net","").replace("@lid",""):u.username,displayId:u.userId.replace("@s.whatsapp.net","").replace("@lid","")}));return{segments:r,segmentStats:a,churnAnalysis:{churnedUsers:i,churnRate:l,recentlyActive:o},insights:{paymentPreferences:{Saldo:n*.85,"Transfer Bank":n*.1,"E-Wallet":n*.05},mostActiveHour:{8:15,9:25,10:35,11:45,12:55,13:66,14:63,15:58,16:52,17:48,18:68,19:75,20:67,21:84,22:42,23:28},topSpenders:d,mostFrequentBuyers:c}}}catch(t){throw console.error("Error in getUserBehaviorAnalytics:",t),new Error("Failed to fetch user behavior analytics")}},async getFinancialAnalytics(){const t=await me.get(pe.analytics.finance);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch financial analytics")},async getRealtimeDashboard(){const t=await me.get(pe.dashboard.realtime);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch realtime dashboard data")},async getPredictiveAnalytics(){const t=await me.get(pe.dashboard.predictions);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch predictive analytics")},async getStockAnalyticsAdvanced(){const t=await me.get(pe.products.stockAnalytics);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch advanced stock analytics")},async bulkUpdateStockAdvanced(t){const s=await me.post(pe.products.bulkStockUpdate,t);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.error||"Failed to perform bulk stock update")},async addStock(t,s){const r=await me.post(pe.products.addStock(t),s);if(r.data.success&&r.data.data)return r.data.data;throw new Error(r.data.message||r.data.error||"Failed to add stock")},async editStock(t,s,r){const n=await me.put(pe.products.editStock(t,s),r);if(n.data.success&&n.data.data)return n.data.data;throw new Error(n.data.message||n.data.error||"Failed to edit stock")},async deleteStock(t,s,r={}){const n=await me.delete(pe.products.deleteStock(t,s),{data:r});if(n.data.success&&n.data.data)return n.data.data;throw new Error(n.data.message||n.data.error||"Failed to delete stock")},async deleteMultipleStock(t,s){const r=await me.delete(pe.products.deleteMultipleStock(t),{data:s});if(r.data.success&&r.data.data)return r.data.data;throw new Error(r.data.message||r.data.error||"Failed to delete multiple stock")},async getStockItem(t,s){const r=await me.get(pe.products.getStockItem(t,s));if(r.data.success&&r.data.data)return r.data.data;throw new Error(r.data.message||r.data.error||"Failed to get stock item")},async replaceAllStock(t,s){const r=await me.put(pe.products.replaceAllStock(t),s);if(r.data.success&&r.data.data)return r.data.data;throw new Error(r.data.message||r.data.error||"Failed to replace all stock")},async bulkStockOperations(t){const s=await me.post(pe.products.bulkOperations,t);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||s.data.error||"Failed to perform bulk operations")},async addStockItem(t,s){const r=await me.post(pe.products.stockItem(t),s);if(r.data.success&&r.data.data)return r.data.data;throw new Error(r.data.error||"Failed to add stock item")},async editStockItem(t,s){const r=await me.patch(pe.products.stockItem(t),s);if(r.data.success)return r.data.data||{success:!0};throw new Error(r.data.message||r.data.error||"Failed to edit stock item")},async deleteStockItem(t,s){const r=await me.delete(pe.products.stockItem(t),{data:s});if(r.data.success)return r.data.data||{success:!0};throw new Error(r.data.message||r.data.error||"Failed to delete stock item")},async getAllReceipts(){const t=await me.get(pe.receipts.all);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch receipts")},async getReceiptContent(t){const s=await me.get(pe.receipts.get(t));if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.error||"Failed to fetch receipt content")},async downloadReceipt(t){return(await me.get(pe.receipts.download(t),{responseType:"blob"})).data},async deleteReceipt(t){const s=await me.delete(pe.receipts.delete(t));if(s.data.success)return s.data;throw new Error(s.data.error||"Failed to delete receipt")}};function fC(){const{data:t,isLoading:s}=Se({queryKey:["predictive-analytics"],queryFn:ue.getPredictiveAnalytics});return s?e.jsx(xC,{}):t?e.jsxs(N,{className:"card-premium border-none shadow-soft bg-gradient-to-br from-violet-500/5 to-fuchsia-500/5 border-l-4 border-l-violet-500",children:[e.jsx(M,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-violet-500/10 rounded-lg",children:e.jsx(Wu,{className:"h-5 w-5 text-violet-500"})}),e.jsxs("div",{children:[e.jsx(L,{className:"text-lg",children:"AI Insights"}),e.jsx(Y,{children:"Predictive performance analysis"})]})]}),e.jsx(ae,{variant:"secondary",className:"bg-violet-100 text-violet-700 hover:bg-violet-200 border-violet-200",children:"Beta"})]})}),e.jsxs(S,{className:"space-y-6 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-background/50 border border-border/50 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs font-medium uppercase tracking-wider",children:[e.jsx($e,{className:"h-3 w-3"}),"Next Month Revenue"]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:we(t.revenue.predicted.nextMonth)}),e.jsxs("div",{className:"text-xs text-emerald-500 font-medium flex items-center",children:[t.revenue.predicted.confidence," confidence"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-background/50 border border-border/50 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs font-medium uppercase tracking-wider",children:[e.jsx(Ke,{className:"h-3 w-3"}),"Projected Growth"]}),e.jsxs("div",{className:"text-2xl font-bold text-foreground",children:["+",t.users.predicted.nextMonthNewUsers]}),e.jsx("div",{className:"text-xs text-blue-500 font-medium",children:"New users expected"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-background/50 border border-border/50 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs font-medium uppercase tracking-wider",children:[e.jsx(Kt,{className:"h-3 w-3"}),"Churn Risk"]}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:t.churnRisk.highRisk}),e.jsx("div",{className:"text-xs text-rose-500 font-medium",children:"High risk users detected"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Smart Recommendations"}),e.jsx("div",{className:"space-y-2",children:t.recommendations.slice(0,3).map((r,n)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-background/40 hover:bg-background/60 transition-colors border border-transparent hover:border-border/50 cursor-default group",children:[e.jsx("div",{className:"mt-0.5 w-1.5 h-1.5 rounded-full bg-violet-500 group-hover:scale-125 transition-transform"}),e.jsx("p",{className:"text-sm text-foreground/80 leading-relaxed",children:r})]},n))}),e.jsx("div",{className:"pt-2",children:e.jsxs("button",{className:"text-xs text-violet-600 font-medium flex items-center hover:underline",children:["View all insights ",e.jsx(Vu,{className:"ml-1 h-3 w-3"})]})})]})]})]}):null}function xC(){return e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-10 w-10 rounded-lg"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(rt,{className:"h-5 w-32"}),e.jsx(rt,{className:"h-4 w-48"})]})]})}),e.jsxs(S,{className:"space-y-6 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(rt,{className:"h-24 rounded-xl"}),e.jsx(rt,{className:"h-24 rounded-xl"}),e.jsx(rt,{className:"h-24 rounded-xl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(rt,{className:"h-4 w-40"}),e.jsx(rt,{className:"h-12 w-full"}),e.jsx(rt,{className:"h-12 w-full"})]})]})]})}function pC(){const{data:t,isLoading:s}=Se({queryKey:["predictive-analytics"],queryFn:ue.getPredictiveAnalytics});if(s)return e.jsx(rt,{className:"h-[400px] w-full rounded-xl"});if(!t)return null;const r=[...t.revenue.historical.map(a=>({month:a.month,actual:a.revenue,predicted:null,confidence:null})),{month:"Next Month",actual:null,predicted:t.revenue.predicted.nextMonth,confidence:[t.revenue.predicted.nextMonth*.9,t.revenue.predicted.nextMonth*1.1]}],n=[...t.users.historical.map(a=>({month:a.month,users:a.count,type:"Historical"})),{month:"Next Month",users:t.users.predicted.totalPredicted,type:"Predicted"}];return e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Revenue Forecast"}),e.jsx(Y,{children:"AI-powered revenue prediction with confidence intervals"})]}),e.jsxs(ae,{variant:"secondary",className:"bg-violet-500/10 text-violet-700",children:[e.jsx(Hu,{className:"mr-1 h-3 w-3"}),"AI Model v2.1"]})]})}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ed,{data:r,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorActual",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorPredicted",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(Me,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickFormatter:a=>`${a/1e3}k`}),e.jsx(_e,{formatter:(a,o)=>[we(a),o==="actual"?"Actual Revenue":"Predicted Revenue"],contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"}}),e.jsx(zs,{}),e.jsx(ds,{type:"monotone",dataKey:"actual",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorActual)",strokeWidth:3,name:"Actual"}),e.jsx(ds,{type:"monotone",dataKey:"predicted",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorPredicted)",strokeWidth:3,strokeDasharray:"5 5",name:"Predicted"})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"User Growth Trajectory"}),e.jsx(Y,{children:"Projected user base expansion"})]}),e.jsxs(ae,{variant:"secondary",className:"bg-emerald-500/10 text-emerald-700",children:[e.jsx(Rs,{className:"mr-1 h-3 w-3"}),"On Track"]})]})}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ed,{data:n,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(Me,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(_e,{cursor:{fill:"hsl(var(--muted)/0.2)"},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"}}),e.jsx(zs,{}),e.jsx(mt,{dataKey:"users",name:"Total Users",radius:[4,4,0,0],barSize:40,children:n.map((a,o)=>e.jsx(Mt,{fill:a.type==="Predicted"?"#8b5cf6":"hsl(var(--primary))"},`cell-${o}`))}),e.jsx(ls,{type:"monotone",dataKey:"users",stroke:"#10b981",strokeWidth:2,dot:!1,name:"Trend"})]})})})})]})]})}const bc=$h,gC=yN,bC=Bh,Yx=m.forwardRef(({className:t,...s},r)=>e.jsx(wo,{ref:r,className:P("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));Yx.displayName=wo.displayName;const Lo=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(bC,{children:[e.jsx(Yx,{}),e.jsxs(No,{ref:n,className:P("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(Uh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(yl,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lo.displayName=No.displayName;const Fo=({className:t,...s})=>e.jsx("div",{className:P("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Fo.displayName="DialogHeader";const vc=({className:t,...s})=>e.jsx("div",{className:P("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});vc.displayName="DialogFooter";const $o=m.forwardRef(({className:t,...s},r)=>e.jsx(So,{ref:r,className:P("text-lg font-semibold leading-none tracking-tight",t),...s}));$o.displayName=So.displayName;const Bo=m.forwardRef(({className:t,...s},r)=>e.jsx(ko,{ref:r,className:P("text-sm text-muted-foreground",t),...s}));Bo.displayName=ko.displayName;function vC(){var re,le,z,ne,$,de,je;const[t,s]=m.useState(null),[r,n]=m.useState(null),[a,o]=m.useState(!1),[i,l]=m.useState(!1),{toast:d}=_n(),{data:c,isLoading:u,error:f}=Se({queryKey:["dashboard-overview"],queryFn:ue.getOverview});Se({queryKey:["daily-chart"],queryFn:ue.getDailyChart});const{data:x}=Se({queryKey:["recent-transactions","overview",5],queryFn:()=>ue.getRecentTransactions(5)}),h=async V=>{var Z;o(!0);try{const oe=await ue.searchTransaction(V);s(oe),oe.receiptExists&&oe.receiptContent?n(oe.receiptContent):n("Receipt not available - This transaction may not have generated a receipt yet.")}catch(oe){console.error("Failed to fetch transaction with receipt:",oe),((Z=oe.response)==null?void 0:Z.status)===404?(n("Transaction not found"),d({title:"Transaction Error",description:"Transaction not found",variant:"destructive"})):(n("Failed to load transaction data - Please check your connection and try again."),d({title:"Connection Error",description:"Could not load transaction data",variant:"destructive"}))}finally{o(!1)}},b=async()=>{if(r)try{await navigator.clipboard.writeText(r),l(!0),d({title:"Copied to Clipboard",description:"Account information has been copied to clipboard"}),setTimeout(()=>{l(!1)},2e3)}catch(V){console.error("Failed to copy to clipboard:",V),d({title:"Copy Failed",description:"Could not copy to clipboard. Please try again.",variant:"destructive"})}},g=()=>{s(null),n(null)};if(u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading dashboard..."})]})});if(f)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-destructive/5 rounded-2xl border border-destructive/20",children:[e.jsx("div",{className:"w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(at,{className:"h-6 w-6 text-destructive"})}),e.jsx("h3",{className:"text-lg font-bold text-destructive mb-2",children:"Failed to load data"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Please check your connection and try again."}),e.jsxs(ee,{variant:"outline",onClick:()=>window.location.reload(),children:[e.jsx(sv,{className:"mr-2 h-4 w-4"}),"Retry"]})]})});const p=(re=c==null?void 0:c.chartData)!=null&&re.daily?c.chartData.daily.map(V=>({date:V.date,revenue:V.pendapatan,transactions:V.transaksi,profit:V.pendapatan*.1})):[],y=7,v=p.map((V,Z,oe)=>{const Ve=Math.max(0,Z-y+1),tt=oe.slice(Ve,Z+1),es=tt.reduce((zt,ts)=>zt+ts.revenue,0)/tt.length;return{...V,movingAverageRevenue:Math.round(es)}}),j=v.length>0&&v[v.length-1].movingAverageRevenue||0,w=v.map(V=>({...V,forecastRevenue:j})),k=p.length>0?p[p.length-1].revenue:0,R=p.length>1?p[p.length-2].revenue:0,C=k-R,E=R>0?C/R*100:0,O=R>0?`${Math.abs(E).toFixed(1)}%`:"N/A",B=R===0?"neutral":E>=0?"positive":"negative",q=p.length>0?p[p.length-1].transactions:0,I=p.length>1?p[p.length-2].transactions:0,te=q-I,H=I>0?te/I*100:0,W=I>0?`${Math.abs(H).toFixed(1)}%`:"N/A",K=I===0?"neutral":H>=0?"positive":"negative",U=(c==null?void 0:c.totalTransaksi)||0,D=(c==null?void 0:c.totalPendapatan)||0,A=U>0?D/U:0,Q=p.slice(-7),se=Q.length?Q.reduce((V,Z)=>V+Z.revenue,0)/Q.length:0,F=p.reduce((V,Z)=>Z.revenue>((V==null?void 0:V.revenue)||0)?Z:V,void 0);return p.slice(-7).map((V,Z)=>({day:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][Z]||`Day ${Z+1}`,hits:V.revenue,unique:V.transactions})),e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Overview of your business performance."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ee,{variant:"outline",className:"bg-background shadow-sm hover:bg-secondary/50",children:[e.jsx(pr,{className:"mr-2 h-4 w-4"}),"Export"]}),e.jsxs(ee,{className:"bg-primary hover:bg-primary/90 shadow-md shadow-primary/20",children:[e.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Filter"]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:we((c==null?void 0:c.totalPendapatan)||0)})]}),e.jsx("div",{className:"p-3 bg-primary/10 rounded-xl",children:e.jsx(jt,{className:"h-5 w-5 text-primary"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsxs("span",{className:"text-emerald-500 font-medium flex items-center bg-emerald-500/10 px-2 py-0.5 rounded-full",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),"+12.5%"]}),e.jsx("span",{className:"text-muted-foreground ml-2",children:"from last month"})]})]})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Transactions"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(c==null?void 0:c.totalTransaksi)||0})]}),e.jsx("div",{className:"p-3 bg-accent/10 rounded-xl",children:e.jsx(qe,{className:"h-5 w-5 text-accent"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsxs("span",{className:"text-emerald-500 font-medium flex items-center bg-emerald-500/10 px-2 py-0.5 rounded-full",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),"+8.2%"]}),e.jsx("span",{className:"text-muted-foreground ml-2",children:"from last month"})]})]})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Today's Revenue"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:we((c==null?void 0:c.pendapatanHariIni)||0)})]}),e.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:e.jsx(un,{className:"h-5 w-5 text-orange-500"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsxs("span",{className:P("font-medium flex items-center px-2 py-0.5 rounded-full",B==="positive"?"text-emerald-500 bg-emerald-500/10":B==="negative"?"text-rose-500 bg-rose-500/10":"text-muted-foreground bg-secondary"),children:[B==="positive"?e.jsx(kt,{className:"h-3 w-3 mr-1"}):B==="negative"?e.jsx(jr,{className:"h-3 w-3 mr-1"}):null,O]}),e.jsx("span",{className:"text-muted-foreground ml-2",children:"vs yesterday"})]})]})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Today's Transactions"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(c==null?void 0:c.transaksiHariIni)??q??0})]}),e.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl",children:e.jsx(at,{className:"h-5 w-5 text-blue-500"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsxs("span",{className:P("font-medium flex items-center px-2 py-0.5 rounded-full",K==="positive"?"text-emerald-500 bg-emerald-500/10":K==="negative"?"text-rose-500 bg-rose-500/10":"text-muted-foreground bg-secondary"),children:[K==="positive"?e.jsx(kt,{className:"h-3 w-3 mr-1"}):K==="negative"?e.jsx(jr,{className:"h-3 w-3 mr-1"}):null,W]}),e.jsx("span",{className:"text-muted-foreground ml-2",children:"vs yesterday"})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(fC,{}),e.jsx(pC,{})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-7",children:[e.jsxs(N,{className:"md:col-span-4 lg:col-span-5 card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Revenue Trends"}),e.jsx(Y,{children:"Daily revenue performance over time"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(L1,{data:w,title:"",description:"",showMovingAverage:!0,showForecast:!0})})})]}),e.jsxs(N,{className:"md:col-span-3 lg:col-span-2 card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Payment Methods"}),e.jsx(Y,{children:"Distribution by type"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:e.jsx(qe,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"QRIS"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Instant Payment"})]})]}),e.jsx(ae,{variant:"secondary",className:"font-bold",children:((le=c==null?void 0:c.metodeBayar)==null?void 0:le.qris)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:e.jsx(un,{className:"h-5 w-5 text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Saldo"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Balance"})]})]}),e.jsx(ae,{variant:"secondary",className:"font-bold",children:((z=c==null?void 0:c.metodeBayar)==null?void 0:z.saldo)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-500/10 flex items-center justify-center",children:e.jsx(Sl,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Others"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Alternative"})]})]}),e.jsx(ae,{variant:"secondary",className:"font-bold",children:((ne=c==null?void 0:c.metodeBayar)==null?void 0:ne.unknown)||0})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),e.jsx("span",{className:"font-bold",children:(c==null?void 0:c.totalTransaksi)||0})]}),e.jsxs("div",{className:"w-full bg-secondary rounded-full h-2 overflow-hidden flex",children:[e.jsx("div",{className:"bg-blue-500 h-full",style:{width:"45%"}}),e.jsx("div",{className:"bg-emerald-500 h-full",style:{width:"35%"}}),e.jsx("div",{className:"bg-gray-400 h-full",style:{width:"20%"}})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Recent Transactions"}),e.jsx(Y,{children:"Latest activity from your bot"})]}),e.jsx(ee,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80",children:"View All"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[x==null?void 0:x.transactions.map(V=>e.jsxs("div",{className:"group flex items-center justify-between p-3 rounded-xl hover:bg-secondary/50 transition-all duration-200 border border-transparent hover:border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:e.jsx(Cn,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:V.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[os(V),"  ",Am(V.date)]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-foreground",children:we(V.totalBayar)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:is(V)})]}),e.jsxs(bc,{onOpenChange:Z=>!Z&&g(),children:[e.jsx(gC,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>h(Qe(V)),className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-full hover:bg-background shadow-sm",children:e.jsx(Rn,{className:"h-4 w-4 text-muted-foreground"})})}),e.jsxs(Lo,{className:"max-w-2xl backdrop-blur-xl bg-card/90 border-border/50 shadow-2xl rounded-2xl",children:[e.jsxs(Fo,{children:[e.jsxs($o,{className:"flex items-center gap-2 text-foreground",children:[e.jsx(Ls,{className:"h-5 w-5 text-primary"}),"Transaction Details"]}),e.jsxs(Bo,{children:["Reference ID: ",e.jsx("span",{className:"font-mono text-xs bg-secondary px-1 py-0.5 rounded",children:Qe(V)})]})]}),a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-primary/20 border-t-primary animate-spin mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Retrieving details..."})]}):e.jsxs("div",{className:"space-y-6",children:[t&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-secondary/30 rounded-xl border border-border/50",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Product"}),e.jsx("p",{className:"font-medium text-foreground mt-1",children:t.produk||t.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"User"}),e.jsx("p",{className:"font-medium text-foreground mt-1",children:t.user||t.user_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Payment"}),e.jsx("p",{className:"font-medium text-foreground mt-1",children:t.metodeBayar||t.payment_method})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Amount"}),e.jsx("p",{className:"font-bold text-primary mt-1",children:we(t.totalBayar)})]})]}),(t==null?void 0:t.receiptExists)&&r&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(_i,{className:"h-4 w-4 text-primary"}),"Digital Receipt"]}),e.jsx(ee,{variant:"outline",size:"sm",onClick:b,className:"h-8",children:i?e.jsxs(e.Fragment,{children:[e.jsx(dn,{className:"h-3.5 w-3.5 mr-1.5"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(Gu,{className:"h-3.5 w-3.5 mr-1.5"}),"Copy"]})})]}),e.jsx("div",{className:"bg-card rounded-xl border border-border shadow-inner p-4 max-h-60 overflow-y-auto",children:e.jsx("pre",{className:"text-xs text-muted-foreground whitespace-pre-wrap font-mono leading-relaxed",children:r})})]}),t&&!t.receiptExists&&e.jsxs("div",{className:"bg-orange-500/10 rounded-xl p-6 border border-orange-500/20 text-center",children:[e.jsx(Ls,{className:"h-10 w-10 text-orange-500 mx-auto mb-3"}),e.jsx("p",{className:"text-orange-700 dark:text-orange-400 font-medium",children:"No Receipt Available"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This transaction doesn't have additional account details."})]})]})]})]})]})]},Qe(V))),(!(x!=null&&x.transactions)||x.transactions.length===0)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qe,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("p",{className:"text-muted-foreground",children:"No recent transactions"})]})]})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Quick Stats"}),e.jsx(Y,{children:"Key performance indicators"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center",children:e.jsx(jt,{className:"h-4 w-4 text-primary"})}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Avg Order Value"})]})}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:we(A)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per transaction"})]}),F&&e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-emerald-500/5 to-emerald-500/10 border border-emerald-500/20",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:e.jsx($e,{className:"h-4 w-4 text-emerald-500"})}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Best Day"})]})}),e.jsx("p",{className:"text-lg font-bold text-foreground",children:we(F.revenue)}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Pl(F.date),"  ",F.transactions," transactions"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/5 to-blue-500/10 border border-blue-500/20",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:e.jsx(at,{className:"h-4 w-4 text-blue-500"})}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"7-Day Average"})]})}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:we(se)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Daily revenue average"})]}),e.jsxs("div",{className:"pt-4 border-t border-border",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Payment Split"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-muted-foreground",children:"QRIS"})]}),e.jsxs("span",{className:"font-medium text-foreground",children:[($=c==null?void 0:c.metodeBayar)!=null&&$.qris?(c.metodeBayar.qris/((c==null?void 0:c.totalTransaksi)||1)*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Saldo"})]}),e.jsxs("span",{className:"font-medium text-foreground",children:[(de=c==null?void 0:c.metodeBayar)!=null&&de.saldo?(c.metodeBayar.saldo/((c==null?void 0:c.totalTransaksi)||1)*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-muted-foreground",children:"Others"})]}),e.jsxs("span",{className:"font-medium text-foreground",children:[(je=c==null?void 0:c.metodeBayar)!=null&&je.unknown?(c.metodeBayar.unknown/((c==null?void 0:c.totalTransaksi)||1)*100).toFixed(1):0,"%"]})]})]})]})]})})]})]})]})}const ta=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"];function yC(){var c,u;const{data:t,isLoading:s}=Se({queryKey:["dashboard-overview"],queryFn:ue.getOverview}),{data:r,isLoading:n}=Se({queryKey:["user-stats"],queryFn:ue.getUserStats}),a=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(f),o=(c=t==null?void 0:t.chartData)!=null&&c.daily?t.chartData.daily.map(f=>({date:f.date,revenue:f.pendapatan,transactions:f.transaksi,profit:f.pendapatan*.1})):[],i=(u=t==null?void 0:t.chartData)!=null&&u.monthly?t.chartData.monthly.map(f=>({month:f.month,revenue:f.pendapatan,transactions:f.transaksi,profit:f.pendapatan*.1,userGrowth:0})):[],l=r?Object.entries(r.userStats||{}).map(([f,x])=>({name:f.charAt(0).toUpperCase()+f.slice(1),value:x.count,saldo:x.totalSaldo})):[];return s||n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading charts..."})]})}):e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Analytics Charts"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Deep dive into your business metrics and performance"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-background rounded-full border border-border/50 shadow-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Live Data"})]})})]}),e.jsxs(hs,{defaultValue:"daily",className:"space-y-6",children:[e.jsxs(Qt,{className:"bg-background/50 backdrop-blur-sm border border-border/50 p-1 rounded-xl w-full md:w-auto grid grid-cols-3 md:inline-flex h-auto",children:[e.jsxs(Ae,{value:"daily",className:"rounded-lg px-4 py-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md transition-all",children:[e.jsx(wr,{className:"h-4 w-4 mr-2"}),"Daily"]}),e.jsxs(Ae,{value:"monthly",className:"rounded-lg px-4 py-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md transition-all",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Monthly"]}),e.jsxs(Ae,{value:"users",className:"rounded-lg px-4 py-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md transition-all",children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"User Analytics"]})]}),e.jsxs(Pe,{value:"daily",className:"space-y-6 animate-in fade-in-50 slide-in-from-bottom-2 duration-500",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-5 w-5 text-blue-500"}),"Daily Revenue"]}),e.jsx(Y,{children:"Revenue trends over the past days"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(kn,{data:o,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(De,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.4,vertical:!1}),e.jsx(Oe,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),e.jsx(Me,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:f=>`Rp${(f/1e3).toFixed(0)}k`,dx:-10}),e.jsx(_e,{formatter:f=>[a(f),"Revenue"],contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"hsl(var(--popover-foreground))"},cursor:{stroke:"hsl(var(--muted-foreground))",strokeWidth:1,strokeDasharray:"4 4"}}),e.jsx(ds,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)",activeDot:{r:6,strokeWidth:0,fill:"#3b82f6"}})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5 text-emerald-500"}),"Daily Transactions"]}),e.jsx(Y,{children:"Number of transactions per day"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:o,children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.4,vertical:!1}),e.jsx(Oe,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),e.jsx(Me,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,dx:-10}),e.jsx(_e,{formatter:f=>[f.toLocaleString(),"Transactions"],cursor:{fill:"hsl(var(--muted)/0.3)"},contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"hsl(var(--popover-foreground))"}}),e.jsx(mt,{dataKey:"transactions",fill:"#10b981",radius:[6,6,0,0],barSize:32})]})})})})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-purple-500"}),"Daily Profit Trends"]}),e.jsx(Y,{children:"Profit analysis over time (Estimated 10% margin)"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[400px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ln,{data:o,children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.4,vertical:!1}),e.jsx(Oe,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),e.jsx(Me,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:f=>`Rp${(f/1e3).toFixed(0)}k`,dx:-10}),e.jsx(_e,{formatter:f=>[a(f),"Profit"],contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"hsl(var(--popover-foreground))"}}),e.jsx(ls,{type:"monotone",dataKey:"profit",stroke:"#8b5cf6",strokeWidth:4,dot:{fill:"#8b5cf6",strokeWidth:2,r:4,stroke:"#fff"},activeDot:{r:8,strokeWidth:0,fill:"#8b5cf6"}})]})})})})]})]}),e.jsx(Pe,{value:"monthly",className:"space-y-6 animate-in fade-in-50 slide-in-from-bottom-2 duration-500",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-5 w-5 text-orange-500"}),"Monthly Revenue"]}),e.jsx(Y,{children:"Monthly revenue comparison"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:i,children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.4,vertical:!1}),e.jsx(Oe,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),e.jsx(Me,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:f=>`Rp${(f/1e6).toFixed(1)}M`,dx:-10}),e.jsx(_e,{formatter:f=>[a(f),"Revenue"],cursor:{fill:"hsl(var(--muted)/0.3)"},contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"hsl(var(--popover-foreground))"}}),e.jsx(mt,{dataKey:"revenue",fill:"#f59e0b",radius:[6,6,0,0],barSize:40})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-cyan-500"}),"User Growth"]}),e.jsx(Y,{children:"Monthly user growth trends"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ln,{data:i,children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.4,vertical:!1}),e.jsx(Oe,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,dy:10}),e.jsx(Me,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,dx:-10}),e.jsx(_e,{formatter:f=>[f.toLocaleString(),"Users"],contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"hsl(var(--popover-foreground))"}}),e.jsx(ls,{type:"monotone",dataKey:"userGrowth",stroke:"#06b6d4",strokeWidth:4,dot:{fill:"#06b6d4",strokeWidth:2,r:4,stroke:"#fff"},activeDot:{r:8,strokeWidth:0,fill:"#06b6d4"}})]})})})})]})]})}),e.jsx(Pe,{value:"users",className:"space-y-6 animate-in fade-in-50 slide-in-from-bottom-2 duration-500",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(kl,{className:"h-5 w-5 text-indigo-500"}),"User Distribution by Role"]}),e.jsx(Y,{children:"Breakdown of users by their roles"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"h-[300px] w-full flex items-center justify-center",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Ss,{children:[e.jsx(ks,{data:l,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:l.map((f,x)=>e.jsx(Mt,{fill:ta[x%ta.length],strokeWidth:0},`cell-${x}`))}),e.jsx(_e,{formatter:f=>[f.toLocaleString(),"Users"],contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"hsl(var(--popover-foreground))"}})]})})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:l.map((f,x)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ta[x%ta.length]}}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[f.name,": ",e.jsx("span",{className:"font-medium text-foreground",children:f.value})]})]},x))})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5 text-pink-500"}),"Balance by Role"]}),e.jsx(Y,{children:"Total balance distribution by user roles"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:l,layout:"vertical",children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.4,horizontal:!1}),e.jsx(Oe,{type:"number",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:f=>`Rp${(f/1e6).toFixed(0)}M`}),e.jsx(Me,{dataKey:"name",type:"category",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,width:80}),e.jsx(_e,{formatter:f=>[a(f),"Total Balance"],cursor:{fill:"hsl(var(--muted)/0.3)"},contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"hsl(var(--popover-foreground))"}}),e.jsx(mt,{dataKey:"saldo",fill:"#ec4899",radius:[0,6,6,0],barSize:32})]})})})})]})]})})]})]})}function au(t,[s,r]){return Math.min(r,Math.max(s,t))}function yc(t){const s=m.useRef({value:t,previous:t});return m.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var jC=[" ","Enter","ArrowUp","ArrowDown"],wC=[" ","Enter"],Vs="Select",[Uo,zo,NC]=lo(Vs),[Mr,CA]=et(Vs,[NC,Pr]),Wo=Pr(),[SC,Es]=Mr(Vs),[kC,CC]=Mr(Vs),Jx=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:d,dir:c,name:u,autoComplete:f,disabled:x,required:h,form:b}=t,g=Wo(s),[p,y]=m.useState(null),[v,j]=m.useState(null),[w,k]=m.useState(!1),R=In(c),[C,E]=Lt({prop:n,defaultProp:a??!1,onChange:o,caller:Vs}),[O,B]=Lt({prop:i,defaultProp:l,onChange:d,caller:Vs}),q=m.useRef(null),I=p?b||!!p.closest("form"):!0,[te,H]=m.useState(new Set),W=Array.from(te).map(K=>K.props.value).join(";");return e.jsx(Wl,{...g,children:e.jsxs(SC,{required:h,scope:s,trigger:p,onTriggerChange:y,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:_t(),value:O,onValueChange:B,open:C,onOpenChange:E,dir:R,triggerPointerDownPosRef:q,disabled:x,children:[e.jsx(Uo.Provider,{scope:s,children:e.jsx(kC,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(K=>{H(U=>new Set(U).add(K))},[]),onNativeOptionRemove:m.useCallback(K=>{H(U=>{const D=new Set(U);return D.delete(K),D})},[]),children:r})}),I?e.jsxs(jp,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:O,onChange:K=>B(K.target.value),disabled:x,form:b,children:[O===void 0?e.jsx("option",{value:""}):null,Array.from(te)]},W):null]})})};Jx.displayName=Vs;var Qx="SelectTrigger",Zx=m.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,o=Wo(r),i=Es(Qx,r),l=i.disabled||n,d=Ce(s,i.onTriggerChange),c=zo(r),u=m.useRef("touch"),[f,x,h]=Np(g=>{const p=c().filter(j=>!j.disabled),y=p.find(j=>j.value===i.value),v=Sp(p,g,y);v!==void 0&&i.onValueChange(v.value)}),b=g=>{l||(i.onOpenChange(!0),h()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(Hl,{asChild:!0,...o,children:e.jsx(ie.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":wp(i.value)?"":void 0,...a,ref:d,onClick:J(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&b(g)}),onPointerDown:J(a.onPointerDown,g=>{u.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:J(a.onKeyDown,g=>{const p=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&x(g.key),!(p&&g.key===" ")&&jC.includes(g.key)&&(b(),g.preventDefault())})})})});Zx.displayName=Qx;var ep="SelectValue",tp=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...l}=t,d=Es(ep,r),{onValueNodeHasChildrenChange:c}=d,u=o!==void 0,f=Ce(s,d.onValueNodeChange);return Be(()=>{c(u)},[c,u]),e.jsx(ie.span,{...l,ref:f,style:{pointerEvents:"none"},children:wp(d.value)?e.jsx(e.Fragment,{children:i}):o})});tp.displayName=ep;var RC="SelectIcon",sp=m.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(ie.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});sp.displayName=RC;var _C="SelectPortal",rp=t=>e.jsx(An,{asChild:!0,...t});rp.displayName=_C;var Gs="SelectContent",np=m.forwardRef((t,s)=>{const r=Es(Gs,t.__scopeSelect),[n,a]=m.useState();if(Be(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?kr.createPortal(e.jsx(ap,{scope:t.__scopeSelect,children:e.jsx(Uo.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(op,{...t,ref:s})});np.displayName=Gs;var Dt=10,[ap,Ts]=Mr(Gs),AC="SelectContentImpl",EC=Ws("SelectContent.RemoveScroll"),op=m.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:x,collisionPadding:h,sticky:b,hideWhenDetached:g,avoidCollisions:p,...y}=t,v=Es(Gs,r),[j,w]=m.useState(null),[k,R]=m.useState(null),C=Ce(s,$=>w($)),[E,O]=m.useState(null),[B,q]=m.useState(null),I=zo(r),[te,H]=m.useState(!1),W=m.useRef(!1);m.useEffect(()=>{if(j)return Xl(j)},[j]),Gl();const K=m.useCallback($=>{const[de,...je]=I().map(oe=>oe.ref.current),[V]=je.slice(-1),Z=document.activeElement;for(const oe of $)if(oe===Z||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===de&&k&&(k.scrollTop=0),oe===V&&k&&(k.scrollTop=k.scrollHeight),oe==null||oe.focus(),document.activeElement!==Z))return},[I,k]),U=m.useCallback(()=>K([E,j]),[K,E,j]);m.useEffect(()=>{te&&U()},[te,U]);const{onOpenChange:D,triggerPointerDownPosRef:A}=v;m.useEffect(()=>{if(j){let $={x:0,y:0};const de=V=>{var Z,oe;$={x:Math.abs(Math.round(V.pageX)-(((Z=A.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(V.pageY)-(((oe=A.current)==null?void 0:oe.y)??0))}},je=V=>{$.x<=10&&$.y<=10?V.preventDefault():j.contains(V.target)||D(!1),document.removeEventListener("pointermove",de),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",je,{capture:!0})}}},[j,D,A]),m.useEffect(()=>{const $=()=>D(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[D]);const[Q,se]=Np($=>{const de=I().filter(Z=>!Z.disabled),je=de.find(Z=>Z.ref.current===document.activeElement),V=Sp(de,$,je);V&&setTimeout(()=>V.ref.current.focus())}),F=m.useCallback(($,de,je)=>{const V=!W.current&&!je;(v.value!==void 0&&v.value===de||V)&&(O($),V&&(W.current=!0))},[v.value]),re=m.useCallback(()=>j==null?void 0:j.focus(),[j]),le=m.useCallback(($,de,je)=>{const V=!W.current&&!je;(v.value!==void 0&&v.value===de||V)&&q($)},[v.value]),z=n==="popper"?tl:ip,ne=z===tl?{side:l,sideOffset:d,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:x,collisionPadding:h,sticky:b,hideWhenDetached:g,avoidCollisions:p}:{};return e.jsx(ap,{scope:r,content:j,viewport:k,onViewportChange:R,itemRefCallback:F,selectedItem:E,onItemLeave:re,itemTextRefCallback:le,focusSelectedItem:U,selectedItemText:B,position:n,isPositioned:te,searchRef:Q,children:e.jsx(yo,{as:EC,allowPinchZoom:!0,children:e.jsx(bo,{asChild:!0,trapped:v.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:J(a,$=>{var de;(de=v.trigger)==null||de.focus({preventScroll:!0}),$.preventDefault()}),children:e.jsx(Rr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:e.jsx(z,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:$=>$.preventDefault(),...y,...ne,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:J(y.onKeyDown,$=>{const de=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!de&&$.key.length===1&&se($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let V=I().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes($.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const Z=$.target,oe=V.indexOf(Z);V=V.slice(oe+1)}setTimeout(()=>K(V)),$.preventDefault()}})})})})})})});op.displayName=AC;var TC="SelectItemAlignedPosition",ip=m.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,o=Es(Gs,r),i=Ts(Gs,r),[l,d]=m.useState(null),[c,u]=m.useState(null),f=Ce(s,C=>u(C)),x=zo(r),h=m.useRef(!1),b=m.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:y,focusSelectedItem:v}=i,j=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&c&&g&&p&&y){const C=o.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),B=y.getBoundingClientRect();if(o.dir!=="rtl"){const Z=B.left-E.left,oe=O.left-Z,Ve=C.left-oe,tt=C.width+Ve,es=Math.max(tt,E.width),zt=window.innerWidth-Dt,ts=au(oe,[Dt,Math.max(Dt,zt-es)]);l.style.minWidth=tt+"px",l.style.left=ts+"px"}else{const Z=E.right-B.right,oe=window.innerWidth-O.right-Z,Ve=window.innerWidth-C.right-oe,tt=C.width+Ve,es=Math.max(tt,E.width),zt=window.innerWidth-Dt,ts=au(oe,[Dt,Math.max(Dt,zt-es)]);l.style.minWidth=tt+"px",l.style.right=ts+"px"}const q=x(),I=window.innerHeight-Dt*2,te=g.scrollHeight,H=window.getComputedStyle(c),W=parseInt(H.borderTopWidth,10),K=parseInt(H.paddingTop,10),U=parseInt(H.borderBottomWidth,10),D=parseInt(H.paddingBottom,10),A=W+K+te+D+U,Q=Math.min(p.offsetHeight*5,A),se=window.getComputedStyle(g),F=parseInt(se.paddingTop,10),re=parseInt(se.paddingBottom,10),le=C.top+C.height/2-Dt,z=I-le,ne=p.offsetHeight/2,$=p.offsetTop+ne,de=W+K+$,je=A-de;if(de<=le){const Z=q.length>0&&p===q[q.length-1].ref.current;l.style.bottom="0px";const oe=c.clientHeight-g.offsetTop-g.offsetHeight,Ve=Math.max(z,ne+(Z?re:0)+oe+U),tt=de+Ve;l.style.height=tt+"px"}else{const Z=q.length>0&&p===q[0].ref.current;l.style.top="0px";const Ve=Math.max(le,W+g.offsetTop+(Z?F:0)+ne)+je;l.style.height=Ve+"px",g.scrollTop=de-le+g.offsetTop}l.style.margin=`${Dt}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[x,o.trigger,o.valueNode,l,c,g,p,y,o.dir,n]);Be(()=>j(),[j]);const[w,k]=m.useState();Be(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const R=m.useCallback(C=>{C&&b.current===!0&&(j(),v==null||v(),b.current=!1)},[j,v]);return e.jsx(IC,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:R,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(ie.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});ip.displayName=TC;var PC="SelectPopperPosition",tl=m.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Dt,...o}=t,i=Wo(r);return e.jsx(ql,{...i,...o,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tl.displayName=PC;var[IC,jc]=Mr(Gs,{}),sl="SelectViewport",lp=m.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,o=Ts(sl,r),i=jc(sl,r),l=Ce(s,o.onViewportChange),d=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Uo.Slot,{scope:r,children:e.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:J(a.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:x}=i;if(x!=null&&x.current&&f){const h=Math.abs(d.current-u.scrollTop);if(h>0){const b=window.innerHeight-Dt*2,g=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),y=Math.max(g,p);if(y<b){const v=y+h,j=Math.min(b,v),w=v-j;f.style.height=j+"px",f.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});lp.displayName=sl;var cp="SelectGroup",[DC,OC]=Mr(cp),MC=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=_t();return e.jsx(DC,{scope:r,id:a,children:e.jsx(ie.div,{role:"group","aria-labelledby":a,...n,ref:s})})});MC.displayName=cp;var dp="SelectLabel",up=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=OC(dp,r);return e.jsx(ie.div,{id:a.id,...n,ref:s})});up.displayName=dp;var Ka="SelectItem",[LC,mp]=Mr(Ka),hp=m.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=t,l=Es(Ka,r),d=Ts(Ka,r),c=l.value===n,[u,f]=m.useState(o??""),[x,h]=m.useState(!1),b=Ce(s,v=>{var j;return(j=d.itemRefCallback)==null?void 0:j.call(d,v,n,a)}),g=_t(),p=m.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(LC,{scope:r,value:n,disabled:a,textId:g,isSelected:c,onItemTextChange:m.useCallback(v=>{f(j=>j||((v==null?void 0:v.textContent)??"").trim())},[]),children:e.jsx(Uo.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:e.jsx(ie.div,{role:"option","aria-labelledby":g,"data-highlighted":x?"":void 0,"aria-selected":c&&x,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:b,onFocus:J(i.onFocus,()=>h(!0)),onBlur:J(i.onBlur,()=>h(!1)),onClick:J(i.onClick,()=>{p.current!=="mouse"&&y()}),onPointerUp:J(i.onPointerUp,()=>{p.current==="mouse"&&y()}),onPointerDown:J(i.onPointerDown,v=>{p.current=v.pointerType}),onPointerMove:J(i.onPointerMove,v=>{var j;p.current=v.pointerType,a?(j=d.onItemLeave)==null||j.call(d):p.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(i.onPointerLeave,v=>{var j;v.currentTarget===document.activeElement&&((j=d.onItemLeave)==null||j.call(d))}),onKeyDown:J(i.onKeyDown,v=>{var w;((w=d.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(wC.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});hp.displayName=Ka;var Kr="SelectItemText",fp=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...o}=t,i=Es(Kr,r),l=Ts(Kr,r),d=mp(Kr,r),c=CC(Kr,r),[u,f]=m.useState(null),x=Ce(s,y=>f(y),d.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,d.value,d.disabled)}),h=u==null?void 0:u.textContent,b=m.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:h},d.value),[d.disabled,d.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=c;return Be(()=>(g(b),()=>p(b)),[g,p,b]),e.jsxs(e.Fragment,{children:[e.jsx(ie.span,{id:d.textId,...o,ref:x}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?kr.createPortal(o.children,i.valueNode):null]})});fp.displayName=Kr;var xp="SelectItemIndicator",pp=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return mp(xp,r).isSelected?e.jsx(ie.span,{"aria-hidden":!0,...n,ref:s}):null});pp.displayName=xp;var rl="SelectScrollUpButton",gp=m.forwardRef((t,s)=>{const r=Ts(rl,t.__scopeSelect),n=jc(rl,t.__scopeSelect),[a,o]=m.useState(!1),i=Ce(s,n.onScrollButtonChange);return Be(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=d.scrollTop>0;o(c)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?e.jsx(vp,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});gp.displayName=rl;var nl="SelectScrollDownButton",bp=m.forwardRef((t,s)=>{const r=Ts(nl,t.__scopeSelect),n=jc(nl,t.__scopeSelect),[a,o]=m.useState(!1),i=Ce(s,n.onScrollButtonChange);return Be(()=>{if(r.viewport&&r.isPositioned){let l=function(){const c=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<c;o(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?e.jsx(vp,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});bp.displayName=nl;var vp=m.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,o=Ts("SelectScrollButton",r),i=m.useRef(null),l=zo(r),d=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>d(),[d]),Be(()=>{var u;const c=l().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),e.jsx(ie.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:J(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:J(a.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:J(a.onPointerLeave,()=>{d()})})}),FC="SelectSeparator",yp=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(ie.div,{"aria-hidden":!0,...n,ref:s})});yp.displayName=FC;var al="SelectArrow",$C=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=Wo(r),o=Es(al,r),i=Ts(al,r);return o.open&&i.position==="popper"?e.jsx(Kl,{...a,...n,ref:s}):null});$C.displayName=al;var BC="SelectBubbleInput",jp=m.forwardRef(({__scopeSelect:t,value:s,...r},n)=>{const a=m.useRef(null),o=Ce(n,a),i=yc(s);return m.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==s&&u){const f=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(f)}},[i,s]),e.jsx(ie.select,{...r,style:{...nm,...r.style},ref:o,defaultValue:s})});jp.displayName=BC;function wp(t){return t===""||t===void 0}function Np(t){const s=it(t),r=m.useRef(""),n=m.useRef(0),a=m.useCallback(i=>{const l=r.current+i;s(l),function d(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(l)},[s]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function Sp(t,s,r){const a=s.length>1&&Array.from(s).every(c=>c===s[0])?s[0]:s,o=r?t.indexOf(r):-1;let i=UC(t,Math.max(o,0));a.length===1&&(i=i.filter(c=>c!==r));const d=i.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function UC(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var zC=Jx,kp=Zx,WC=tp,HC=sp,qC=rp,Cp=np,KC=lp,Rp=up,_p=hp,VC=fp,GC=pp,Ap=gp,Ep=bp,Tp=yp;const Va=zC,Ga=WC,jn=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(kp,{ref:n,className:P("flex h-10 w-full items-center justify-between rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(HC,{asChild:!0,children:e.jsx(ao,{className:"h-4 w-4 opacity-50"})})]}));jn.displayName=kp.displayName;const Pp=m.forwardRef(({className:t,...s},r)=>e.jsx(Ap,{ref:r,className:P("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Xu,{className:"h-4 w-4"})}));Pp.displayName=Ap.displayName;const Ip=m.forwardRef(({className:t,...s},r)=>e.jsx(Ep,{ref:r,className:P("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ao,{className:"h-4 w-4"})}));Ip.displayName=Ep.displayName;const wn=m.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>e.jsx(qC,{children:e.jsxs(Cp,{ref:a,className:P("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(Pp,{}),e.jsx(KC,{className:P("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Ip,{})]})}));wn.displayName=Cp.displayName;const XC=m.forwardRef(({className:t,...s},r)=>e.jsx(Rp,{ref:r,className:P("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));XC.displayName=Rp.displayName;const dt=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(_p,{ref:n,className:P("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(GC,{children:e.jsx(dn,{className:"h-4 w-4"})})}),e.jsx(VC,{children:s})]}));dt.displayName=_p.displayName;const YC=m.forwardRef(({className:t,...s},r)=>e.jsx(Tp,{ref:r,className:P("-mx-1 my-1 h-px bg-muted",t),...s}));YC.displayName=Tp.displayName;const Qs=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:P("w-full caption-bottom text-sm",t),...s})}));Qs.displayName="Table";const Zs=m.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:P("[&_tr]:border-b",t),...s}));Zs.displayName="TableHeader";const er=m.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:P("[&_tr:last-child]:border-0",t),...s}));er.displayName="TableBody";const JC=m.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:P("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));JC.displayName="TableFooter";const ot=m.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:P("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));ot.displayName="TableRow";const Ne=m.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:P("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));Ne.displayName="TableHead";const ge=m.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:P("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));ge.displayName="TableCell";const QC=m.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:P("mt-4 text-sm text-muted-foreground",t),...s}));QC.displayName="TableCaption";const sa=["#3b82f6","#10b981","#f59e0b","#8b5cf6"];function ou(){var a,o;const{data:t,isLoading:s}=Se({queryKey:["user-behavior"],queryFn:ue.getUserBehaviorAnalytics});if(s)return e.jsx(rt,{className:"h-[400px] w-full rounded-xl"});if(!t)return null;const r=Object.entries(t.segmentStats).map(([i,l])=>({name:i.charAt(0).toUpperCase()+i.slice(1),value:l.count,percentage:l.percentage})),n=Object.entries(t.insights.mostActiveHour).map(([i,l])=>({hour:`${i}:00`,users:l}));return e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft lg:col-span-1",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5 text-primary"}),"User Segments"]}),e.jsx(Y,{children:"Distribution by engagement level"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"h-[200px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Ss,{children:[e.jsx(ks,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:r.map((i,l)=>e.jsx(Mt,{fill:sa[l%sa.length],strokeWidth:0},`cell-${l}`))}),e.jsx(_e,{formatter:i=>[i,"Users"],contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"},itemStyle:{color:"hsl(var(--foreground))"}})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:r.map((i,l)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:sa[l%sa.length]}}),e.jsx("span",{className:"text-muted-foreground",children:i.name})]}),e.jsxs("div",{className:"font-medium",children:[i.value," ",e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",i.percentage,"%)"]})]})]},i.name))})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft lg:col-span-2",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Behavior Analysis"}),e.jsx(Y,{children:"Activity patterns and retention"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ae,{variant:"outline",className:"bg-background",children:[e.jsx(cn,{className:"mr-1 h-3 w-3"}),"Peak: 19:00 - 21:00"]}),e.jsxs(ae,{variant:"destructive",className:"bg-rose-500/10 text-rose-600 hover:bg-rose-500/20 border-rose-200",children:[e.jsx(rv,{className:"mr-1 h-3 w-3"}),t.churnAnalysis.churnRate.toFixed(1),"% Churn"]})]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"h-[200px] w-full",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-4 text-center",children:"Active Users by Hour"}),e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:n,children:[e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"hour",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},axisLine:!1,tickLine:!1,interval:2}),e.jsx(_e,{cursor:{fill:"hsl(var(--muted)/0.2)"},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"}}),e.jsx(mt,{dataKey:"users",fill:"hsl(var(--primary))",radius:[4,4,0,0],opacity:.8})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Key Insights"}),e.jsxs("div",{className:"p-3 bg-secondary/30 rounded-xl border border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:e.jsx(qe,{className:"h-4 w-4 text-emerald-500"})}),e.jsx("span",{className:"font-medium text-sm",children:"Payment Preference"})]}),e.jsx("div",{className:"space-y-1",children:Object.entries(t.insights.paymentPreferences).map(([i,l])=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:i}),e.jsxs("span",{className:"font-medium",children:[Math.round(l)," users"]})]},i))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-secondary/30 rounded-xl border border-border/50 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Transaction"}),e.jsx("p",{className:"text-lg font-bold text-foreground mt-1",children:((a=t.segmentStats.regular)==null?void 0:a.avgTransactions)||0}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per regular user"})]}),e.jsxs("div",{className:"p-3 bg-secondary/30 rounded-xl border border-border/50 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Spend"}),e.jsx("p",{className:"text-lg font-bold text-foreground mt-1",children:we(((o=t.segmentStats.regular)==null?void 0:o.avgSpent)||0)}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"per regular user"})]})]})]})]})})]})]})}function ZC(){const[t,s]=m.useState(""),[r,n]=m.useState("all"),[a,o]=m.useState(1);m.useState(10);const[i,l]=m.useState("transactions"),[d,c]=m.useState("desc"),[u,f]=m.useState(!1),x=Sn(),{toast:h}=_n(),{data:b,isLoading:g,error:p}=Se({queryKey:["user-activity"],queryFn:ue.getUserActivity,retry:1,retryDelay:1e3}),{data:y,isLoading:v,error:j}=Se({queryKey:["all-users",t,r,i,d],queryFn:()=>ue.getEnhancedAllUsers(1,1e3,t,r),retry:1,retryDelay:1e3});m.useEffect(()=>{if(y){console.log(" Users Page Debug: Enhanced users data received:",y);const W=y==null?void 0:y.users;W&&console.log(" Users Page Debug: First 3 users transaction data:",W.slice(0,3).map(K=>({userId:K.userId,username:K.username,transactionCount:K.transactionCount,totalSpent:K.totalSpent,hasTransactions:K.hasTransactions,_debugMatchedId:K._debugMatchedId,_debugNormalizedIds:K._debugNormalizedIds})))}},[y]);const{data:w,isLoading:k,error:R}=Se({queryKey:["user-stats"],queryFn:ue.getUserStats,retry:1,retryDelay:1e3}),C=W=>{switch(W.toLowerCase()){case"gold":return"default";case"silver":return"secondary";case"bronze":return"outline";default:return"secondary"}},E=(y==null?void 0:y.users)||[],O=v,B=E.filter(W=>(W.transactionCount||0)>0),q=W=>{s(W),o(1)},I=W=>{n(W),o(1)},te=W=>{const K=W.replace("@s.whatsapp.net","").trim();console.log(" User Click Debug: Original userId:",W,"Normalized:",K),x(`/users/${K}`)},H=()=>{const W=["Username","User ID","Role","Transactions","Total Spent","Last Activity"],K=B.map(se=>[se.username==="User .net"||se.username==="User @lid"||!se.username?se.userId.replace("@s.whatsapp.net","").replace("@lid",""):se.username,se.userId,se.role,se.transactionCount||0,se.totalSpent||0,se.lastActivity?new Date(se.lastActivity).toISOString():""]),U=[W,...K].map(se=>se.map(F=>typeof F=="string"&&F.includes(",")?`"${F.replace(/"/g,'""')}"`:F).join(",")).join(`
`),D=new Blob([U],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(D),Q=document.createElement("a");Q.href=A,Q.download=`users-page-${a}.csv`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(A),h({title:"CSV exported",description:"Current view has been downloaded."})};return O?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading users..."})]})}):j||R?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-destructive/5 rounded-2xl border border-destructive/20",children:[e.jsx("div",{className:"w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(at,{className:"h-6 w-6 text-destructive"})}),e.jsx("h3",{className:"text-lg font-bold text-destructive mb-2",children:"Failed to load user data"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:(j==null?void 0:j.message)||(R==null?void 0:R.message)||"Please check your API connection"}),e.jsx(ee,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"User Management"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users, track activity, and analyze user behavior"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{variant:u?"default":"outline",size:"sm",onClick:()=>f(W=>!W),className:P("transition-all",u?"bg-primary text-primary-foreground shadow-md":"bg-background shadow-sm hover:bg-secondary/50"),children:u?"Comfortable":"Compact"}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:H,className:"bg-background shadow-sm hover:bg-secondary/50",children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),e.jsx(ou,{}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(w==null?void 0:w.totalUsers)||0})]}),e.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl",children:e.jsx(Ke,{className:"h-5 w-5 text-blue-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Users"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(b==null?void 0:b.activeUsers)||0}),e.jsxs("p",{className:"text-sm text-emerald-500 flex items-center mt-1 font-medium bg-emerald-500/10 px-2 py-0.5 rounded-full w-fit",children:["+",(b==null?void 0:b.newUsers)||0," new"]})]}),e.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:e.jsx(Ia,{className:"h-5 w-5 text-emerald-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Balance"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:we((w==null?void 0:w.totalSaldo)||0)})]}),e.jsx("div",{className:"p-3 bg-purple-500/10 rounded-xl",children:e.jsx(un,{className:"h-5 w-5 text-purple-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Average Balance"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:we((w==null?void 0:w.averageSaldo)||0)})]}),e.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:e.jsx(at,{className:"h-5 w-5 text-orange-500"})})]})})})]}),e.jsx(ou,{}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{className:"pb-4",children:e.jsxs(L,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Nl,{className:"h-5 w-5 text-primary"}),"Filters & Search"]})}),e.jsx(S,{children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative group",children:[e.jsx(Ns,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground group-focus-within:text-primary transition-colors"}),e.jsx(nt,{placeholder:"Search by username or user ID...",value:t,onChange:W=>q(W.target.value),className:"pl-10 bg-secondary/30 border-transparent focus:bg-background focus:border-primary/20 transition-all"})]})}),e.jsxs(Va,{value:r,onValueChange:I,children:[e.jsx(jn,{className:"w-full md:w-48 bg-secondary/30 border-transparent focus:bg-background focus:border-primary/20",children:e.jsx(Ga,{placeholder:"Filter by role"})}),e.jsxs(wn,{children:[e.jsx(dt,{value:"all",children:"All Roles"}),e.jsx(dt,{value:"gold",children:"Gold"}),e.jsx(dt,{value:"silver",children:"Silver"}),e.jsx(dt,{value:"bronze",children:"Bronze"})]})]})]})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft overflow-hidden",children:[e.jsx(M,{className:"border-b border-border/50 bg-muted/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"All Users"}),e.jsxs(Y,{children:["Showing all ",B.length," users"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-muted-foreground hidden md:inline-block",children:"Sort by:"}),e.jsxs(Va,{value:i,onValueChange:W=>l(W),children:[e.jsx(jn,{className:"w-36 bg-background border-border/50 h-8",children:e.jsx(Ga,{})}),e.jsxs(wn,{children:[e.jsx(dt,{value:"transactions",children:"Transactions"}),e.jsx(dt,{value:"totalSpent",children:"Total Spent"}),e.jsx(dt,{value:"lastActivity",children:"Last Activity"})]})]}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>c(d==="asc"?"desc":"asc"),className:"h-8 w-8 p-0",children:d==="asc"?"":""})]})]})}),e.jsxs(S,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Qs,{children:[e.jsx(Zs,{className:"bg-muted/30",children:e.jsxs(ot,{className:"hover:bg-transparent border-border/50",children:[e.jsx(Ne,{className:"w-[300px]",children:"User"}),e.jsx(Ne,{children:"Role"}),e.jsx(Ne,{className:"cursor-pointer hover:text-primary transition-colors text-right",onClick:()=>{i==="transactions"?c(d==="asc"?"desc":"asc"):(l("transactions"),c("desc"))},children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:["Transactions",i==="transactions"&&e.jsx("span",{className:"text-primary font-bold",children:d==="asc"?"":""})]})}),e.jsx(Ne,{className:"cursor-pointer hover:text-primary transition-colors text-right",onClick:()=>{i==="totalSpent"?c(d==="asc"?"desc":"asc"):(l("totalSpent"),c("desc"))},children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:["Total Spent",i==="totalSpent"&&e.jsx("span",{className:"text-primary font-bold",children:d==="asc"?"":""})]})}),e.jsx(Ne,{className:"cursor-pointer hover:text-primary transition-colors",onClick:()=>{i==="lastActivity"?c(d==="asc"?"desc":"asc"):(l("lastActivity"),c("desc"))},children:e.jsxs("div",{className:"flex items-center gap-2",children:["Last Activity",i==="lastActivity"&&e.jsx("span",{className:"text-primary font-bold",children:d==="asc"?"":""})]})}),e.jsx(Ne,{className:"text-right",children:"Actions"})]})}),e.jsx(er,{children:B.map(W=>e.jsxs(ot,{className:"hover:bg-muted/30 border-border/50 transition-colors",children:[e.jsx(ge,{className:u?"py-2":"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center text-primary-foreground font-bold text-xs",children:(W.username||W.userId||"?").substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:W.username==="User .net"||W.username==="User @lid"||!W.username?W.userId.replace("@s.whatsapp.net","").replace("@lid",""):W.username}),e.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:W.userId.includes("@")?W.userId.split("@")[0]:W.userId})]})]})}),e.jsx(ge,{className:u?"py-2":"py-4",children:e.jsx(ae,{variant:C(W.role),className:"capitalize",children:W.role})}),e.jsx(ge,{className:P("text-right font-medium",u?"py-2":"py-4"),children:e.jsx("span",{className:W.transactionCount>0?"text-foreground":"text-muted-foreground",children:W.transactionCount||0})}),e.jsx(ge,{className:P("text-right font-medium",u?"py-2":"py-4"),children:e.jsx("span",{className:W.totalSpent>0?"text-primary":"text-muted-foreground",children:W.totalSpent>0?we(W.totalSpent):"-"})}),e.jsx(ge,{className:u?"py-2":"py-4",children:W.lastActivity?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm",children:new Date(W.lastActivity).toLocaleDateString()}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(W.lastActivity).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):e.jsx("span",{className:"text-muted-foreground text-sm",children:"Never"})}),e.jsx(ge,{className:P("text-right",u?"py-2":"py-4"),children:e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>te(W.userId),className:"hover:bg-primary/10 hover:text-primary",children:[e.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Details"]})})]},W.userId))})]})}),e.jsx("div",{className:"p-4 border-t border-border/50 bg-muted/20 flex items-center justify-between",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",e.jsx("span",{className:"font-medium text-foreground",children:B.length})," users found"]})}),E.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ke,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("p",{className:"text-lg font-medium text-foreground",children:"No users found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria"})]})]})]})]})}function eR({transactions:t}){const s=t.reduce((a,o)=>{const l=new Date(o.date).toLocaleString("default",{month:"short"});return a[l]||(a[l]=0),a[l]+=o.totalBayar,a},{}),r=Object.entries(s).map(([a,o])=>({name:a,value:o})),n=r.length>0?r:[{name:"Jan",value:0},{name:"Feb",value:0},{name:"Mar",value:0}];return e.jsxs(N,{className:"card-premium border-none shadow-soft h-full",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Spending History"}),e.jsx(Y,{children:"Monthly transaction volume"})]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx($e,{className:"h-4 w-4 text-primary"})})]})}),e.jsx(S,{children:e.jsx("div",{className:"h-[250px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(Me,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickFormatter:a=>`${a/1e3}k`}),e.jsx(_e,{cursor:{fill:"hsl(var(--muted)/0.2)"},formatter:a=>[we(a),"Spent"],contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"}}),e.jsx(mt,{dataKey:"value",radius:[4,4,0,0],children:n.map((a,o)=>e.jsx(Mt,{fill:"hsl(var(--primary))",fillOpacity:.8},`cell-${o}`))})]})})})})]})}function tR({transactions:t}){const s=t.reduce((n,a)=>{const o=a.name;return n[o]||(n[o]={count:0,totalSpent:0}),n[o].count+=a.jumlah||1,n[o].totalSpent+=a.totalBayar,n},{}),r=Object.entries(s).map(([n,a])=>({name:n,count:a.count,totalSpent:a.totalSpent})).sort((n,a)=>a.count-n.count).slice(0,5);return e.jsxs(N,{className:"card-premium border-none shadow-soft h-full",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Favorite Products"}),e.jsx(Y,{children:"Most frequently purchased items"})]}),e.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:e.jsx(wl,{className:"h-4 w-4 text-emerald-500"})})]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:r.length>0?r.map((n,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-secondary text-xs font-bold text-muted-foreground",children:a+1}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:n.name}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.count," times"]})]})]}),e.jsx(ae,{variant:"secondary",className:"font-normal",children:"Top Pick"})]},a)):e.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No purchase history available"})})})]})}function sR(){var j,w,k,R,C;const{userId:t}=vl(),s=Sn(),{data:r,isLoading:n,error:a}=Se({queryKey:["user-transactions",t],queryFn:()=>ue.getUserTransactions(t)}),{data:o,refetch:i,isFetching:l}=Se({queryKey:["user-activity"],queryFn:ue.getEnhancedUserActivity,refetchOnWindowFocus:!0,staleTime:0,refetchInterval:3e4}),d=(E,O)=>E!=null&&E.startsWith("User ")&&E.includes("@s.whatsapp.net")?E.replace("User ","").replace("@s.whatsapp.net",""):E!=null&&E.includes("@s.whatsapp.net")?E.replace("@s.whatsapp.net",""):E&&/^\d+$/.test(E)?E:E||"Unknown User",c=E=>E!=null&&E.includes("@s.whatsapp.net")?E:E&&/^\d+$/.test(E)?`${E}@s.whatsapp.net`:E||"Unknown ID",u=r?{userId:t||"unknown",username:r.user||`User ${t}`,transactionCount:r.totalTransaksi||0,totalSpent:r.totalSpent||0,lastActivity:null,role:"bronze",saldo:(r==null?void 0:r.currentSaldo)??0}:null,f=(j=o==null?void 0:o.userActivity)==null?void 0:j.find(E=>{var I,te,H;if(E.userId===t||((I=E.userId)==null?void 0:I.replace("@s.whatsapp.net",""))===t)return!0;const B=t!=null&&t.includes("@s.whatsapp.net")?t:`${t}@s.whatsapp.net`;return E.userId===B||((H=(te=E.userId)==null?void 0:te.match(/\d+/))==null?void 0:H[0])===t});if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading user details..."})]})});if(a||!f&&!u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-destructive/5 rounded-2xl border border-destructive/20",children:[e.jsx("h3",{className:"text-lg font-bold text-destructive mb-2",children:"Failed to load user details"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["User ID: ",t,e.jsx("br",{}),"Error: ",(a==null?void 0:a.message)||"User not found"]}),e.jsx(ee,{onClick:()=>s("/users"),variant:"outline",children:"Back to Users"})]})});const x=f||u,h=d(x.username,x.userId),b=c(x.userId),g=(r==null?void 0:r.currentSaldo)??(f==null?void 0:f.saldo)??(x==null?void 0:x.saldo)??null,p=(()=>{const E=x==null?void 0:x.lastActivity;if(E){const I=new Date(E);return I.setHours(I.getHours()-7),I.toISOString()}const O=((r==null?void 0:r.transaksi)||[]).map(I=>I.date?new Date(I.date).getTime():NaN).filter(I=>!Number.isNaN(I));if(O.length===0)return null;const B=Math.max(...O),q=new Date(B);return q.setHours(q.getHours()-7),q.toISOString()})(),y=E=>{switch(E.toLowerCase()){case"gold":return"default";case"silver":return"secondary";case"bronze":return"outline";default:return"outline"}},v=E=>{switch(E.toLowerCase()){case"gold":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"silver":return"bg-slate-500/10 text-slate-600 border-slate-500/20";case"bronze":return"bg-orange-500/10 text-orange-600 border-orange-500/20";default:return"bg-slate-500/10 text-slate-600 border-slate-500/20"}};return e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>s("/users"),className:"h-auto p-0 hover:bg-transparent hover:text-primary",children:[e.jsx(Da,{className:"h-4 w-4 mr-1"}),"Users"]}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Details"})]}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"User Profile"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ae,{variant:y(x.role),className:P("px-4 py-1.5 text-sm font-semibold capitalize",v(x.role)),children:[x.role," Member"]})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft overflow-hidden",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-primary/20 via-primary/10 to-background"}),e.jsxs(S,{className:"relative pt-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-6 -mt-12 mb-6 px-2",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl bg-background p-1 shadow-xl",children:e.jsx("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-primary to-violet-600 flex items-center justify-center text-white text-3xl font-bold shadow-inner",children:((w=h==null?void 0:h.charAt(0))==null?void 0:w.toUpperCase())||"U"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:h}),e.jsxs("p",{className:"text-muted-foreground font-mono text-sm flex items-center gap-2",children:[b,e.jsx(ae,{variant:"outline",className:"text-[10px] h-5 px-1.5 font-normal bg-muted/50",children:"ID"})]})]}),e.jsx("div",{className:"flex gap-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 flex flex-col items-center justify-center text-center gap-2 hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"p-2.5 bg-blue-500/10 rounded-full",children:e.jsx(qe,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:(r==null?void 0:r.totalTransaksi)||((k=r==null?void 0:r.transaksi)==null?void 0:k.length)||x.transactionCount||0}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Transactions"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 flex flex-col items-center justify-center text-center gap-2 hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"p-2.5 bg-emerald-500/10 rounded-full",children:e.jsx(jt,{className:"h-5 w-5 text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:we((r==null?void 0:r.totalSpent)||x.totalSpent||0)}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Total Spent"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 flex flex-col items-center justify-center text-center gap-2 hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"p-2.5 bg-cyan-500/10 rounded-full",children:e.jsx(un,{className:"h-5 w-5 text-cyan-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:g!=null?we(g):""}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Current Balance"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 flex flex-col items-center justify-center text-center gap-2 hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"p-2.5 bg-purple-500/10 rounded-full",children:e.jsx(at,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-foreground",children:p?new Date(p).toLocaleDateString("id-ID"):""}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Last Activity"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(eR,{transactions:(r==null?void 0:r.transaksi)||[]}),e.jsx(tR,{transactions:(r==null?void 0:r.transaksi)||[]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2 text-base",children:[e.jsx(Cn,{className:"h-4 w-4 text-primary"}),"Personal Information"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 bg-muted rounded-md",children:e.jsx(mn,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("span",{className:"text-sm font-medium",children:"Phone Number"})]}),e.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:b.split("@")[0]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 bg-muted rounded-md",children:e.jsx(wr,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("span",{className:"text-sm font-medium",children:"Member Since"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:p?new Date(p).toLocaleDateString("id-ID",{month:"short",year:"numeric"}):""})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 bg-muted rounded-md",children:e.jsx(Cl,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("span",{className:"text-sm font-medium",children:"Status"})]}),e.jsx(ae,{variant:"default",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20 border-emerald-500/20",children:"Active"})]})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2 text-base",children:[e.jsx($e,{className:"h-4 w-4 text-primary"}),"Financial Summary"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avg. Transaction"}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:we(((r==null?void 0:r.totalSpent)||x.totalSpent||0)/Math.max(((R=r==null?void 0:r.transaksi)==null?void 0:R.length)||x.transactionCount||1,1))})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Frequency"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:(((C=r==null?void 0:r.transaksi)==null?void 0:C.length)||x.transactionCount||0)>5?"Regular":"Occasional"})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Loyalty Tier"}),e.jsx("span",{className:"text-sm font-medium capitalize text-primary",children:x.role})]})]})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(N,{className:"card-premium border-none shadow-soft h-full",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5 text-primary"}),"Recent Transactions"]}),e.jsx(Y,{children:"History of purchases and activities"})]}),e.jsx(S,{className:"p-0",children:r!=null&&r.transaksi&&r.transaksi.length>0||(f==null?void 0:f.transactionCount)>0?e.jsxs(Qs,{children:[e.jsx(Zs,{className:"bg-muted/50",children:e.jsxs(ot,{className:"hover:bg-transparent border-border/50",children:[e.jsx(Ne,{children:"Reference ID"}),e.jsx(Ne,{children:"Product"}),e.jsx(Ne,{children:"Amount"}),e.jsx(Ne,{children:"Date"}),e.jsx(Ne,{className:"text-right",children:"Action"})]})}),e.jsx(er,{children:r!=null&&r.transaksi&&r.transaksi.length>0?r.transaksi.map((E,O)=>e.jsxs(ot,{className:"hover:bg-muted/30 border-border/50 transition-colors",children:[e.jsx(ge,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded text-muted-foreground border border-border w-fit",children:Qe(E)}),e.jsx(ae,{variant:Oi(is(E)),className:"w-fit text-[10px] px-1.5 py-0 h-5",children:is(E)})]})}),e.jsx(ge,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground text-sm",children:E.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",E.jumlah]})]})}),e.jsx(ge,{children:e.jsx("p",{className:"font-medium text-foreground text-sm",children:we(E.totalBayar)})}),e.jsx(ge,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-foreground",children:Pl((()=>{const B=new Date(E.date);return B.setHours(B.getHours()-7),B.toISOString()})(),"short")}),e.jsx("span",{className:"text-xs text-muted-foreground",children:Am((()=>{const B=new Date(E.date);return B.setHours(B.getHours()-7),B.toISOString()})())})]})}),e.jsx(ge,{className:"text-right",children:e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>s(`/transactions?search=${encodeURIComponent(Qe(E))}`),className:"h-8 w-8 text-muted-foreground hover:text-primary hover:bg-primary/10",children:e.jsx(Rn,{className:"h-4 w-4"})})})]},`real-transaction-${O}`)):Array.from({length:Math.min(5,f.transactionCount)},(E,O)=>{var B;return e.jsxs(ot,{className:"hover:bg-muted/30 border-border/50",children:[e.jsx(ge,{children:e.jsx("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded text-muted-foreground border border-border",children:`REF-${(B=f.userId)==null?void 0:B.replace("@s.whatsapp.net","")}-${String(O+1).padStart(3,"0")}`})}),e.jsx(ge,{children:e.jsx("span",{className:"text-sm text-muted-foreground italic",children:"Archived Transaction"})}),e.jsx(ge,{children:e.jsx("span",{className:"text-sm font-medium text-foreground",children:we(Math.floor(f.totalSpent/f.transactionCount))})}),e.jsx(ge,{children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"Unknown Date"})}),e.jsx(ge,{className:"text-right",children:e.jsx(ae,{variant:"outline",className:"text-[10px]",children:"Archived"})})]},`enhanced-transaction-${O}`)})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-3",children:e.jsx(qe,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("p",{className:"text-foreground font-medium",children:"No transactions found"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto mt-1",children:"This user hasn't made any transactions yet. Once they do, they will appear here."})]})})]})})]})]})}function rR(){var F,re,le;const[t,s]=m.useState(""),[r,n]=m.useState(null),[a,o]=m.useState(!1),[i,l]=m.useState(!1),[d,c]=m.useState(!1),[u,f]=m.useState(null),[x,h]=m.useState(null),[b,g]=m.useState(!1),[p,y]=m.useState(!1),{toast:v}=_n(),[j,w]=m.useState(1),[k]=m.useState(10),{data:R,isLoading:C}=Se({queryKey:["recent-transactions","full",1e4],queryFn:async()=>{var ne;const z=await ue.getRecentTransactions(1e4);return console.log(" Transactions loaded:",{requested:1e4,received:((ne=z.transactions)==null?void 0:ne.length)||0,count:z.count,limit:z.limit}),z}}),{data:E}=Se({queryKey:["dashboard-overview"],queryFn:ue.getOverview}),O=E,B=m.useCallback(W(async z=>{var ne;if(!z.trim()){n(null),l(!1);return}o(!0);try{const $=[],de=new Set;try{const V=await ue.searchTransaction(z.trim());if(V){const Z=V.reffId||Qe(V);Z&&!de.has(Z)&&($.push(V),de.add(Z))}}catch{}const je=((ne=R==null?void 0:R.transactions)==null?void 0:ne.filter(V=>{const Z=z.toLowerCase();return Qe(V).toLowerCase().includes(Z)||os(V).toLowerCase().includes(Z)||V.name.toLowerCase().includes(Z)||is(V).toLowerCase().includes(Z)}))||[];for(const V of je){const Z=Qe(V);Z&&!de.has(Z)&&($.push(V),de.add(Z))}n($),l(!1)}catch{n(null),l(!1)}o(!1)},300),[R]),q=()=>{l(!1),c(!1),f(null),h(null),n(null),s("")},I=async z=>{var ne;g(!0);try{const $=await ue.searchTransaction(z);f($),$.receiptExists&&$.receiptContent?h($.receiptContent):h("Receipt not available - This transaction may not have generated a receipt yet.")}catch($){console.error("Failed to fetch transaction with receipt:",$),((ne=$.response)==null?void 0:ne.status)===404?(h("Transaction not found"),v({title:"Transaction Error",description:"Transaction not found",variant:"destructive"})):(h("Failed to load transaction data - Please check your connection and try again."),v({title:"Connection Error",description:"Could not load transaction data",variant:"destructive"}))}finally{g(!1)}},te=async z=>{try{const ne=await ue.downloadReceipt(z),$=window.URL.createObjectURL(ne),de=document.createElement("a");de.href=$,de.download=`${z}.txt`,document.body.appendChild(de),de.click(),document.body.removeChild(de),window.URL.revokeObjectURL($),v({title:"Download Successful",description:`Receipt ${z}.txt has been downloaded`})}catch(ne){console.error("Failed to download receipt:",ne),v({title:"Download Failed",description:"Could not download receipt file",variant:"destructive"})}},H=async()=>{if(x)try{await navigator.clipboard.writeText(x),y(!0),v({title:"Copied to Clipboard",description:"Account information has been copied to clipboard"}),setTimeout(()=>{y(!1)},2e3)}catch(z){console.error("Failed to copy to clipboard:",z),v({title:"Copy Failed",description:"Could not copy to clipboard. Please try again.",variant:"destructive"})}};m.useEffect(()=>{B(t)},[t,B]);function W(z,ne){let $;return(...de)=>{clearTimeout($),$=setTimeout(()=>z(...de),ne)}}const K=async z=>{try{const ne=await ue.exportData(z);v({title:"Export Successful",description:ne.message})}catch{v({title:"Export Failed",description:"Failed to export data. Please try again.",variant:"destructive"})}};if(m.useEffect(()=>{w(1)},[t]),C)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading transactions..."})]})});const U=((F=R==null?void 0:R.transactions)==null?void 0:F.filter(z=>{if(!t.trim())return!0;const ne=t.toLowerCase();return Qe(z).toLowerCase().includes(ne)||os(z).toLowerCase().includes(ne)||z.name.toLowerCase().includes(ne)||is(z).toLowerCase().includes(ne)}))||[],D=Math.ceil(U.length/k),A=(j-1)*k,Q=A+k,se=U.slice(A,Q);return e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Transactions"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Search transactions, view details, and export data"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{onClick:()=>K("json"),variant:"outline",className:"bg-background/50 backdrop-blur-sm",children:[e.jsx(pr,{className:"mr-2 h-4 w-4"}),"Export JSON"]}),e.jsxs(ee,{onClick:()=>K("csv"),variant:"outline",className:"bg-background/50 backdrop-blur-sm",children:[e.jsx(pr,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Transactions"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(O==null?void 0:O.totalTransaksi)||0}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"+12.5% vs last month"]})]}),e.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl",children:e.jsx(qe,{className:"h-6 w-6 text-blue-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:we((O==null?void 0:O.totalPendapatan)||0)}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"+8.2% vs last month"]})]}),e.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:e.jsx(qe,{className:"h-6 w-6 text-emerald-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Today's Transactions"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(O==null?void 0:O.transaksiHariIni)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[we((O==null?void 0:O.pendapatanHariIni)||0)," revenue"]})]}),e.jsx("div",{className:"p-3 bg-purple-500/10 rounded-xl",children:e.jsx(qe,{className:"h-6 w-6 text-purple-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Payment Methods"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:`${((re=O==null?void 0:O.metodeBayar)==null?void 0:re.saldo)||0} + ${((le=O==null?void 0:O.metodeBayar)==null?void 0:le.qris)||0}`}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active methods"})]}),e.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:e.jsx(qe,{className:"h-6 w-6 text-orange-500"})})]})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft overflow-hidden",children:[e.jsxs(M,{className:"bg-muted/50 border-b border-border/50",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"h-5 w-5 text-primary"}),"Live Search"]}),e.jsx(Y,{children:"Search by reference ID, user name, product name, or payment method - results appear as you type"})]}),e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(nt,{placeholder:"Type reference ID (e.g., REF123456), user name, product, or payment method...",value:t,onChange:z=>s(z.target.value),className:"pl-10 bg-background/50 border-border/50 focus:bg-background transition-colors"}),a&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})})]}),t.trim()&&r&&r.length===0&&!a&&e.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-xl border border-border/50 text-center",children:[e.jsx(Ns,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsxs("p",{className:"text-foreground font-medium",children:['No results found for "',t,'"']}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search term"})]}),!t.trim()&&e.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 rounded-xl border border-blue-500/20",children:e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:[" ",e.jsx("strong",{children:"Live Search Tips:"})," Start typing to search instantly. Search by transaction reference ID, user name, product, or payment method."]})})]})})]}),!d&&e.jsxs(N,{className:"card-premium border-none shadow-soft overflow-hidden",children:[e.jsxs(M,{className:"bg-muted/50 border-b border-border/50 flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Recent Transactions"}),e.jsxs(Y,{children:["Showing ",A+1,"-",Math.min(Q,U.length)," of ",U.length," transactions"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>w(z=>Math.max(1,z-1)),disabled:j===1,className:"h-8 w-8 p-0",children:"<"}),e.jsxs("span",{className:"text-sm font-medium",children:["Page ",j," of ",D||1]}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>w(z=>Math.min(D,z+1)),disabled:j===D||D===0,className:"h-8 w-8 p-0",children:">"})]})]}),e.jsxs(S,{className:"p-0",children:[e.jsxs(Qs,{children:[e.jsx(Zs,{className:"bg-muted/50",children:e.jsxs(ot,{className:"hover:bg-transparent border-border/50",children:[e.jsx(Ne,{children:"Reference ID"}),e.jsx(Ne,{children:"Product"}),e.jsx(Ne,{children:"User"}),e.jsx(Ne,{children:"Payment Method"}),e.jsx(Ne,{children:"Amount"}),e.jsx(Ne,{children:"Date"}),e.jsx(Ne,{children:"Actions"})]})}),e.jsx(er,{children:se.map(z=>e.jsxs(ot,{className:"hover:bg-muted/30 border-border/50 transition-colors",children:[e.jsx(ge,{children:e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded text-muted-foreground border border-border",children:Qe(z)})}),e.jsx(ge,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:z.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",z.jumlah,"  ",we(z.price)," each"]})]})}),e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-bold text-primary",children:os(z).charAt(0).toUpperCase()}),e.jsx("p",{className:"font-medium text-foreground",children:os(z)})]})}),e.jsx(ge,{children:e.jsx(ae,{variant:Oi(is(z)),className:"capitalize",children:is(z)})}),e.jsx(ge,{children:e.jsx("p",{className:"font-medium text-foreground",children:we(z.totalBayar)})}),e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(wr,{className:"h-3 w-3"}),z.date]})}),e.jsx(ge,{children:e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{s(Qe(z)),(async()=>(await I(Qe(z)),c(!0)))()},className:"text-muted-foreground hover:text-primary hover:bg-primary/10",children:e.jsx(Rn,{className:"h-4 w-4"})})})]},Qe(z)))})]}),U.length===0&&t.trim()&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ns,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsxs("p",{className:"text-foreground",children:['No transactions match "',t,'"']}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search term"})]}),(!(R!=null&&R.transactions)||R.transactions.length===0)&&!t.trim()&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qe,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-foreground",children:"No transactions found"}),e.jsx("p",{className:"text-muted-foreground",children:"Transactions will appear here once available"})]})]}),e.jsxs("div",{className:"p-4 border-t border-border/50 bg-muted/20 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",A+1," to ",Math.min(Q,U.length)," of ",U.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>w(1),disabled:j===1,className:"hidden sm:flex",children:"First"}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>w(z=>Math.max(1,z-1)),disabled:j===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1 mx-2",children:Array.from({length:Math.min(5,D)},(z,ne)=>{let $=ne+1;return D>5&&(j>3&&($=j-2+ne),$>D&&($=D-(4-ne))),e.jsx(ee,{variant:j===$?"default":"ghost",size:"sm",onClick:()=>w($),className:"h-8 w-8 p-0",children:$},$)})}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>w(z=>Math.min(D,z+1)),disabled:j===D||D===0,children:"Next"}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>w(D),disabled:j===D||D===0,className:"hidden sm:flex",children:"Last"})]})]})]}),d&&u&&e.jsxs(N,{className:"card-premium border-none shadow-soft mt-4 animate-in fade-in-50 slide-in-from-bottom-4 duration-300",children:[e.jsxs(M,{className:"bg-muted/50 border-b border-border/50 rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"h-5 w-5 text-primary"}),"Transaction Details"]}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:q,className:"text-muted-foreground hover:text-foreground hover:bg-muted",children:" Close"})]}),e.jsxs(Y,{children:["Reference: ",e.jsx("span",{className:"font-mono text-xs bg-muted px-1.5 py-0.5 rounded border border-border ml-1",children:u.reffId||Qe(u)})]})]}),e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-xs font-bold text-primary",children:os(u).charAt(0).toUpperCase()}),e.jsx("p",{className:"font-medium text-foreground",children:os(u)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Product"}),e.jsx("p",{className:"font-medium text-foreground",children:u.produk||u.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Amount"}),e.jsx("p",{className:"font-bold text-xl text-foreground",children:we(u.totalBayar)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Payment Method"}),e.jsx(ae,{variant:Oi(u.metodeBayar),className:"capitalize",children:is(u)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),e.jsxs("div",{className:"flex items-center gap-1 font-medium text-foreground",children:[e.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),u.tanggal||u.date]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Profit"}),e.jsx("p",{className:"font-medium text-emerald-500",children:we(u.profit||0)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User Role"}),e.jsx(ae,{variant:"outline",className:"capitalize",children:(u.userRole||"USER").toUpperCase()})]})]})})]}),d&&u&&e.jsxs(N,{className:"card-premium border-none shadow-soft mt-4 animate-in fade-in-50 slide-in-from-bottom-4 duration-300 delay-100",children:[e.jsxs(M,{className:"bg-blue-500/5 border-b border-blue-500/10 rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[e.jsx(_i,{className:"h-5 w-5"}),"Account Details"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u.receiptExists&&e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>te(u.reffId||Qe(u)),className:"border-blue-200 text-blue-600 hover:bg-blue-50 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/20",children:[e.jsx(pr,{className:"h-4 w-4 mr-1"}),"Download"]}),e.jsx(ae,{variant:"outline",className:"border-blue-200 text-blue-600 dark:border-blue-800 dark:text-blue-400",children:u.receiptExists?"Receipt Available":"No Receipt"})]})]}),e.jsx(Y,{children:"Account information from transaction receipt"})]}),e.jsx(S,{className:"pt-6",children:b?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mr-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading account details..."})]}):e.jsxs("div",{className:"space-y-4",children:[u.receiptExists&&x?e.jsx("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/50",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-blue-500/10 p-2.5 rounded-xl shrink-0",children:e.jsx(Ls,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Receipt Content"}),e.jsx(ee,{variant:"outline",size:"sm",onClick:H,className:"h-8",children:p?e.jsxs(e.Fragment,{children:[e.jsx(dn,{className:"h-3.5 w-3.5 mr-1.5"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Gu,{className:"h-3.5 w-3.5 mr-1.5"}),"Copy All"]})})]}),e.jsx("div",{className:"bg-background rounded-lg border border-border p-4 shadow-sm overflow-x-auto",children:e.jsx("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap font-mono leading-relaxed",children:x})})]})]})}):u.receiptExists?null:e.jsx("div",{className:"bg-amber-500/10 rounded-xl p-4 border border-amber-500/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-amber-500/20 p-2 rounded-lg",children:e.jsx(Ls,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-amber-700 dark:text-amber-400 mb-1",children:"No Receipt Available"}),e.jsx("p",{className:"text-sm text-amber-600/80 dark:text-amber-400/80",children:"This transaction was processed before the receipt system was implemented, or the receipt was not generated."})]})]})}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-emerald-500/10 rounded-xl p-4 border border-emerald-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Cn,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),e.jsx("h4",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"Transaction Account Info"})]}),e.jsxs("div",{className:"space-y-2.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-emerald-500/10 pb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Product:"}),e.jsx("span",{className:"font-medium text-foreground",children:u.produk||u.name})]}),e.jsxs("div",{className:"flex justify-between border-b border-emerald-500/10 pb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"User ID:"}),e.jsx("span",{className:"font-medium text-foreground",children:u.user||u.user_name})]}),e.jsxs("div",{className:"flex justify-between border-b border-emerald-500/10 pb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),e.jsx("span",{className:"font-medium text-foreground",children:u.metodeBayar||u.payment_method})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"User Role:"}),e.jsx("span",{className:"font-medium text-foreground capitalize",children:u.userRole||"bronze"})]}),u.deliveredAccount&&e.jsxs("div",{className:"mt-3 p-3 bg-background rounded-lg border border-emerald-500/20 shadow-sm",children:[e.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wider font-semibold",children:"Delivered Account:"}),e.jsx("p",{className:"font-mono text-sm text-foreground mt-1 break-all",children:u.deliveredAccount})]})]})]}),e.jsxs("div",{className:"bg-amber-500/10 rounded-xl p-4 border border-amber-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ls,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),e.jsx("h4",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Receipt Status"})]}),e.jsx("div",{className:"space-y-2 text-sm",children:u.receiptExists?e.jsxs("div",{className:"text-emerald-600 dark:text-emerald-400",children:[e.jsxs("p",{className:"font-medium flex items-center gap-1",children:[e.jsx(dn,{className:"h-4 w-4"})," Receipt Available"]}),e.jsx("p",{className:"text-xs mt-1 text-muted-foreground",children:"Receipt content is displayed above with account details and transaction information."})]}):e.jsxs("div",{className:"text-amber-600 dark:text-amber-400",children:[e.jsxs("p",{className:"font-medium flex items-center gap-1",children:[e.jsx(_i,{className:"h-4 w-4"})," Receipt Not Available"]}),e.jsx("p",{className:"text-xs mt-1 text-muted-foreground",children:"This transaction may not have generated a receipt yet, or the receipt system was not active at the time of purchase."})]})})]})]})]})})]})]})}var wc="Progress",Nc=100,[nR,RA]=et(wc),[aR,oR]=nR(wc),Dp=m.forwardRef((t,s)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=iR,...i}=t;(a||a===0)&&!iu(a)&&console.error(lR(`${a}`,"Progress"));const l=iu(a)?a:Nc;n!==null&&!lu(n,l)&&console.error(cR(`${n}`,"Progress"));const d=lu(n,l)?n:null,c=Xa(d)?o(d,l):void 0;return e.jsx(aR,{scope:r,value:d,max:l,children:e.jsx(ie.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Xa(d)?d:void 0,"aria-valuetext":c,role:"progressbar","data-state":Lp(d,l),"data-value":d??void 0,"data-max":l,...i,ref:s})})});Dp.displayName=wc;var Op="ProgressIndicator",Mp=m.forwardRef((t,s)=>{const{__scopeProgress:r,...n}=t,a=oR(Op,r);return e.jsx(ie.div,{"data-state":Lp(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:s})});Mp.displayName=Op;function iR(t,s){return`${Math.round(t/s*100)}%`}function Lp(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function Xa(t){return typeof t=="number"}function iu(t){return Xa(t)&&!isNaN(t)&&t>0}function lu(t,s){return Xa(t)&&!isNaN(t)&&t<=s&&t>=0}function lR(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Nc}\`.`}function cR(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Nc} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fp=Dp,dR=Mp;const cs=m.forwardRef(({className:t,value:s,indicatorClassName:r,...n},a)=>e.jsx(Fp,{ref:a,className:P("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(dR,{className:P("h-full w-full flex-1 bg-primary transition-all",r),style:{transform:`translateX(-${100-(s||0)}%)`}})}));cs.displayName=Fp.displayName;function uR(){const{data:t,isLoading:s}=Se({queryKey:["stock-alerts"],queryFn:ue.getStockAlerts});if(s)return e.jsx(rt,{className:"h-24 w-full rounded-xl"});if(!t||t.totalAlerts===0)return e.jsx(N,{className:"bg-emerald-500/10 border-emerald-500/20 shadow-none",children:e.jsx(S,{className:"flex items-center justify-between p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-full",children:e.jsx(Yu,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-emerald-900 dark:text-emerald-100",children:"Healthy Inventory"}),e.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:"All products are well stocked."})]})]})})});const r=t.criticalAlerts,n=t.highAlerts;return e.jsx(N,{className:P("border-none shadow-soft overflow-hidden",r>0?"bg-red-500/5 border-l-4 border-l-red-500":"bg-amber-500/5 border-l-4 border-l-amber-500"),children:e.jsxs(S,{className:"p-0",children:[e.jsxs("div",{className:"p-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:P("p-3 rounded-xl",r>0?"bg-red-500/10 text-red-600":"bg-amber-500/10 text-amber-600"),children:r>0?e.jsx(nv,{className:"h-6 w-6"}):e.jsx(Kt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Inventory Alerts",r>0&&e.jsxs(ae,{variant:"destructive",className:"rounded-full px-2.5",children:[r," Critical"]}),n>0&&e.jsxs(ae,{variant:"secondary",className:"bg-amber-500/10 text-amber-700 hover:bg-amber-500/20 border-amber-200",children:[n," Low Stock"]})]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:r>0?"Action required: Some products are out of stock or critically low.":"Several products are running low on stock. Consider restocking soon."})]})]}),e.jsxs(ee,{variant:r>0?"destructive":"default",className:"shrink-0",children:["Manage Inventory ",e.jsx(Vu,{className:"ml-2 h-4 w-4"})]})]}),e.jsxs("div",{className:"bg-background/50 border-t border-border/50 px-6 py-3 flex items-center gap-4 overflow-x-auto",children:[e.jsx("span",{className:"text-xs font-medium text-muted-foreground whitespace-nowrap uppercase tracking-wider",children:"Needs Attention:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.alerts.slice(0,5).map(a=>e.jsxs(ae,{variant:"outline",className:"bg-background border-border/50 whitespace-nowrap",children:[e.jsx("span",{className:P("mr-1.5 h-1.5 w-1.5 rounded-full",a.status==="out"?"bg-red-500":"bg-amber-500")}),a.productName," (",a.currentStock,")"]},a.productId)),t.alerts.length>5&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",t.alerts.length-5," more"]})]})]})]})})}function mR(){const{data:t,isLoading:s}=Se({queryKey:["stock-analytics"],queryFn:ue.getStockAnalyticsAdvanced});if(s)return e.jsx(rt,{className:"h-[400px] w-full rounded-xl"});if(!t)return null;const r=t.performance.stockTurnover.map(n=>({name:n.name,turnover:n.turnoverRate,status:n.status}));return e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Stock Turnover Rate"}),e.jsx(Y,{children:"Fastest moving products this month"})]}),e.jsxs(ae,{variant:"secondary",className:"bg-blue-500/10 text-blue-700",children:[e.jsx(at,{className:"mr-1 h-3 w-3"}),"High Velocity"]})]})}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:r,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(De,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{type:"number",hide:!0}),e.jsx(Me,{dataKey:"name",type:"category",width:100,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},axisLine:!1,tickLine:!1}),e.jsx(_e,{cursor:{fill:"hsl(var(--muted)/0.2)"},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.5rem"}}),e.jsx(mt,{dataKey:"turnover",radius:[0,4,4,0],barSize:20,children:r.map((n,a)=>e.jsx(Mt,{fill:a<3?"hsl(var(--primary))":"hsl(var(--muted-foreground))"},`cell-${a}`))})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Demand Forecast"}),e.jsx(Y,{children:"Predicted stock needs for next 30 days"})]}),e.jsxs(ae,{variant:"secondary",className:"bg-purple-500/10 text-purple-700",children:[e.jsx($e,{className:"mr-1 h-3 w-3"}),"AI Forecast"]})]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[t.predictions.demandForecast.slice(0,4).map((n,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:n.productName}),e.jsxs("span",{className:"text-muted-foreground",children:[n.predictedDemand," units needed"]})]}),e.jsx("div",{className:"h-2 w-full bg-secondary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${Math.min(n.predictedDemand/100*100,100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Current: ",n.currentStock]}),e.jsx("span",{className:n.trend==="up"?"text-emerald-500":"text-rose-500",children:n.trend==="up"?"Trending Up":"Trending Down"})]})]},a)),t.predictions.demandForecast.length===0&&e.jsx("div",{className:"flex flex-col items-center justify-center h-[200px] text-muted-foreground",children:e.jsx("p",{children:"Not enough data for forecast"})})]})})]})]})}const cu=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#ec4899"];function hR(){var u,f,x;const[t,s]=m.useState(""),{data:r,isLoading:n,error:a}=Se({queryKey:["product-stats"],queryFn:ue.getProductStats}),o=h=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(h),i=(h,b)=>{const g=h/b*100;return g>=20?"default":g>=10?"secondary":"outline"},l=(r==null?void 0:r.products.filter(h=>h.name.toLowerCase().includes(t.toLowerCase())||h.id.toLowerCase().includes(t.toLowerCase())))||[];if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading products..."})]})});if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-destructive/5 rounded-2xl border border-destructive/20",children:[e.jsx("h3",{className:"text-lg font-bold text-destructive mb-2",children:"Failed to load products"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:a instanceof Error?a.message:"Unknown error occurred"}),e.jsx(ee,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]})});const d=(r==null?void 0:r.topProducts.slice(0,8).map(h=>({name:h.name.length>15?h.name.substring(0,15)+"...":h.name,fullName:h.name,sold:h.totalSold,revenue:h.totalRevenue})))||[],c=(r==null?void 0:r.topProducts.slice(0,5).map(h=>({name:h.name,value:h.totalSold,revenue:h.totalRevenue})))||[];return e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Product Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Track product performance, sales, and revenue insights"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",className:"bg-background/50 backdrop-blur-sm",children:[e.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Filter"]}),e.jsxs(ee,{className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20",children:[e.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),e.jsx(uR,{}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Products"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(r==null?void 0:r.totalProducts)||0}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"+12 new this month"]})]}),e.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl",children:e.jsx(Cs,{className:"h-6 w-6 text-blue-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(r==null?void 0:r.totalSold)||0}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"+8.2% vs last month"]})]}),e.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:e.jsx(wl,{className:"h-6 w-6 text-emerald-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Top Product Revenue"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:o(((u=r==null?void 0:r.topProducts[0])==null?void 0:u.totalRevenue)||0)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate max-w-[150px]",children:((f=r==null?void 0:r.topProducts[0])==null?void 0:f.name)||"N/A"})]}),e.jsx("div",{className:"p-3 bg-purple-500/10 rounded-xl",children:e.jsx(jt,{className:"h-6 w-6 text-purple-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Average Price"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:o((r==null?void 0:r.products.reduce((h,b)=>h+b.averagePrice,0))/((r==null?void 0:r.products.length)||1)||0)}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-amber-500",children:[e.jsx(jr,{className:"h-3 w-3 mr-1"}),"-2.1% price adj."]})]}),e.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:e.jsx($e,{className:"h-6 w-6 text-orange-500"})})]})})})]}),e.jsx(mR,{}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Top Products by Sales"}),e.jsx(Y,{children:"Number of units sold per product"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(kn,{data:d,layout:"horizontal",margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorSold",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{type:"number",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(Me,{dataKey:"name",type:"category",width:100,axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(_e,{formatter:(h,b)=>[h.toLocaleString(),"Units Sold"],labelFormatter:h=>{var b;return`Product: ${((b=d.find(g=>g.name===h))==null?void 0:b.fullName)||h}`},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(ds,{type:"monotone",dataKey:"sold",stroke:"hsl(var(--primary))",strokeWidth:3,fill:"url(#colorSold)",activeDot:{r:6,strokeWidth:0}})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Revenue Distribution"}),e.jsx(Y,{children:"Revenue share by top products"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Ss,{children:[e.jsx(ks,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"revenue",children:c.map((h,b)=>e.jsx(Mt,{fill:cu[b%cu.length],strokeWidth:0},`cell-${b}`))}),e.jsx(_e,{formatter:h=>[o(h),"Revenue"],contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(zs,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Product Performance"}),e.jsx(Y,{children:"Detailed performance metrics for all products"})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(Ns,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(nt,{type:"search",placeholder:"Search products...",className:"pl-9 bg-background/50 border-border/50 focus:bg-background transition-colors",value:t,onChange:h=>s(h.target.value)})]})]}),e.jsxs(S,{children:[(x=r==null?void 0:r.topProducts)!=null&&x.length?e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Top Performers"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.topProducts.slice(0,6).map((h,b)=>{var g,p;return e.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border/50 bg-secondary/20 p-4 hover:bg-secondary/40 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:P("flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-xs font-bold",b===0?"bg-yellow-500/20 text-yellow-600":b===1?"bg-slate-400/20 text-slate-600":b===2?"bg-orange-600/20 text-orange-700":"bg-primary/10 text-primary"),children:b+1}),e.jsxs("div",{className:"truncate",children:[e.jsx("p",{className:"font-medium truncate text-sm",title:h.name,children:h.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[((p=(g=h.totalSold)==null?void 0:g.toLocaleString)==null?void 0:p.call(g))??h.sold??0," sold"]})]})]}),e.jsx("div",{className:"text-right shrink-0",children:e.jsx("p",{className:"font-semibold text-sm",children:o(h.totalRevenue??h.revenue??0)})})]},h.id??b)})})]}):null,e.jsx("div",{className:"rounded-xl border border-border/50 overflow-hidden",children:e.jsxs(Qs,{children:[e.jsx(Zs,{className:"bg-muted/50",children:e.jsxs(ot,{children:[e.jsx(Ne,{children:"Product"}),e.jsx(Ne,{children:"Units Sold"}),e.jsx(Ne,{children:"Revenue"}),e.jsx(Ne,{children:"Avg Price"}),e.jsx(Ne,{children:"Transactions"}),e.jsx(Ne,{children:"Performance"}),e.jsx(Ne,{children:"Market Share"})]})}),e.jsx(er,{children:l.length>0?l.map(h=>{const b=h.totalSold/((r==null?void 0:r.totalSold)||1)*100;return e.jsxs(ot,{className:"hover:bg-muted/30 transition-colors",children:[e.jsx(ge,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:h.name}),e.jsxs("p",{className:"text-xs text-muted-foreground font-mono mt-0.5",children:["ID: ",h.id.substring(0,8),"..."]})]})}),e.jsx(ge,{children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-medium",children:h.totalSold.toLocaleString()})})}),e.jsx(ge,{children:e.jsx("p",{className:"font-medium text-foreground",children:o(h.totalRevenue)})}),e.jsx(ge,{children:e.jsx("p",{className:"text-muted-foreground",children:o(h.averagePrice)})}),e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-medium",children:h.transactionCount}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"txns"})]})}),e.jsx(ge,{children:e.jsx(ae,{variant:i(h.totalSold,(r==null?void 0:r.totalSold)||1),className:"capitalize",children:i(h.totalSold,(r==null?void 0:r.totalSold)||1)==="default"?"High":i(h.totalSold,(r==null?void 0:r.totalSold)||1)==="secondary"?"Medium":"Low"})}),e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{value:b,className:"w-[80px] h-2"}),e.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[b.toFixed(1),"%"]})]})})]},h.id)}):e.jsx(ot,{children:e.jsxs(ge,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:['No products found matching "',t,'"']})})})]})})]})]})]})}const ra=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],fR=()=>{const t=Sn(),{data:s,isLoading:r}=Se({queryKey:["product-stock"],queryFn:ue.getProductStock}),{data:n}=Se({queryKey:["stock-summary"],queryFn:ue.getStockSummary});Se({queryKey:["stock-alerts"],queryFn:ue.getStockAlerts});const[a,o]=m.useState("stock"),[i,l]=m.useState("desc"),d=(s==null?void 0:s.products)||[];console.log("Stock data:",s),console.log("Summary data:",n),console.log("Products:",d);const c=m.useMemo(()=>{const p=[...d];return p.sort((y,v)=>{const j=a==="stock"?y.stockCount??0:y.terjual??0,w=a==="stock"?v.stockCount??0:v.terjual??0;return i==="asc"?j-w:w-j}),p},[d,a,i]),u=m.useMemo(()=>d.filter(p=>p.stockStatus==="low"||p.stockStatus==="out"),[d]),f=m.useMemo(()=>{const p={};d.forEach(v=>{const j=v.category||"Uncategorized";p[j]=(p[j]||0)+(v.stockCount||0)}),console.log("Category breakdown:",p);const y=Object.entries(p).map(([v,j])=>({name:v,value:j}));return console.log("Final pie data:",y),y},[d]),x=m.useMemo(()=>{const p=[...d].sort((y,v)=>(v.stockCount||0)-(y.stockCount||0)).slice(0,10).map(y=>({name:y.name.length>14?y.name.slice(0,14)+"":y.name,fullName:y.name,stock:y.stockCount||0}));return console.log("Top by stock:",p),p},[d]),h=m.useMemo(()=>{const p=[...d].sort((y,v)=>(v.terjual||0)-(y.terjual||0)).slice(0,10).map(y=>({name:y.name.length>14?y.name.slice(0,14)+"":y.name,fullName:y.name,sold:y.terjual||0}));return console.log("Top by sold:",p),p},[d]),b=p=>{a===p?l(i==="asc"?"desc":"asc"):(o(p),l("desc"))},g=p=>a!==p?null:i==="asc"?e.jsx(Xu,{className:"h-4 w-4"}):e.jsx(ao,{className:"h-4 w-4"});return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Memuat data stok..."})]})}):e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Manajemen Produk"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Visualisasi dan pemantauan stok produk"})]}),e.jsx(ee,{variant:"outline",onClick:()=>ue.exportStockCSV(),className:"bg-background/50 backdrop-blur-sm",children:"Export CSV"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Ringkasan Stok"}),e.jsx(Y,{children:"Status stok saat ini"})]}),e.jsxs(S,{className:"space-y-2",children:[e.jsxs("p",{className:"text-foreground",children:["Total Produk: ",e.jsx("span",{className:"font-medium",children:(n==null?void 0:n.totalProducts)??(s==null?void 0:s.totalProducts)??0})]}),e.jsxs("p",{className:"text-foreground",children:["Total Item Stok: ",e.jsx("span",{className:"font-medium",children:(n==null?void 0:n.totalStockItems)??d.reduce((p,y)=>p+(y.stockCount||0),0)})]}),e.jsxs("p",{className:"text-foreground",children:["Low Stock: ",e.jsx("span",{className:"font-medium",children:(n==null?void 0:n.lowStockProducts)??u.length})]}),e.jsxs("p",{className:"text-foreground",children:["Out of Stock: ",e.jsx("span",{className:"font-medium",children:(n==null?void 0:n.outOfStockProducts)??d.filter(p=>p.stockStatus==="out").length})]})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft md:col-span-2",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Distribusi Stok per Kategori"}),e.jsx(Y,{children:"Total stok per kategori"})]}),e.jsx(S,{children:f.length>0?e.jsx("div",{className:"h-[280px]",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Ss,{children:[e.jsx(ks,{data:f,cx:"50%",cy:"50%",outerRadius:90,dataKey:"value",label:({name:p,value:y,percent:v})=>`${p.substring(0,8)} ${(v*100).toFixed(0)}%`,children:f.map((p,y)=>e.jsx(Mt,{fill:ra[y%ra.length]},y))}),e.jsx(_e,{formatter:p=>[p.toLocaleString("id-ID"),"Stok"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}})]})})}):e.jsx("div",{className:"h-[280px] flex items-center justify-center text-muted-foreground",children:e.jsx("p",{children:"Tidak ada data kategori"})})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Top Produk Berdasarkan Stok"}),e.jsx(Y,{children:"10 produk dengan stok tertinggi"})]}),e.jsx(S,{children:x.length>0?e.jsx("div",{className:"h-[280px]",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:x,layout:"vertical",children:[e.jsx(De,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(Oe,{type:"number"}),e.jsx(Me,{dataKey:"name",type:"category",width:120}),e.jsx(_e,{formatter:p=>[p.toLocaleString("id-ID"),"Stok"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),e.jsx(mt,{dataKey:"stock",fill:ra[1]})]})})}):e.jsx("div",{className:"h-[280px] flex items-center justify-center text-muted-foreground",children:e.jsx("p",{children:"Tidak ada data stok"})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Top Produk Berdasarkan Terjual"}),e.jsx(Y,{children:"10 produk dengan penjualan tertinggi"})]}),e.jsx(S,{children:h.length>0?e.jsx("div",{className:"h-[280px]",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:h,layout:"vertical",children:[e.jsx(De,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(Oe,{type:"number"}),e.jsx(Me,{dataKey:"name",type:"category",width:120}),e.jsx(_e,{formatter:p=>[p.toLocaleString("id-ID"),"Terjual"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),e.jsx(mt,{dataKey:"sold",fill:ra[2]})]})})}):e.jsx("div",{className:"h-[280px] flex items-center justify-center text-muted-foreground",children:e.jsx("p",{children:"Tidak ada data terjual"})})})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Daftar Produk & Stok"}),e.jsx(Y,{children:"Klik header Stok/Terjual untuk mengurutkan, klik detail untuk melihat stok dan riwayat"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[e.jsxs(ae,{variant:"secondary",children:[c.length," produk"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Sort"}),e.jsxs("select",{className:"border rounded px-2 py-1 bg-background",value:a,onChange:p=>o(p.target.value),children:[e.jsx("option",{value:"stock",children:"Stok"}),e.jsx("option",{value:"sold",children:"Terjual"})]}),e.jsxs("select",{className:"border rounded px-2 py-1 bg-background",value:i,onChange:p=>l(p.target.value),children:[e.jsx("option",{value:"desc",children:"Tertinggi"}),e.jsx("option",{value:"asc",children:"Terendah"})]})]})]}),e.jsxs(Qs,{children:[e.jsx(Zs,{children:e.jsxs(ot,{children:[e.jsx(Ne,{children:"Produk"}),e.jsx(Ne,{className:"cursor-pointer hover:bg-accent/50 select-none",onClick:()=>b("stock"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["Stok",g("stock")]})}),e.jsx(Ne,{children:"Status"}),e.jsx(Ne,{className:"cursor-pointer hover:bg-accent/50 select-none",onClick:()=>b("sold"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["Terjual",g("sold")]})}),e.jsx(Ne,{children:"Kategori"}),e.jsx(Ne,{children:"Aksi"})]})}),e.jsx(er,{children:c.map(p=>e.jsxs(ot,{className:"hover:bg-accent/50",children:[e.jsxs(ge,{children:[e.jsx("div",{className:"font-medium",children:p.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",p.id]})]}),e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{value:Math.min(100,p.utilization??(p.stockCount>0?100:0)),className:"w-[120px]"}),e.jsx("span",{className:"text-sm",children:p.stockCount})]})}),e.jsx(ge,{children:e.jsx(ae,{variant:p.stockStatus==="good"?"default":p.stockStatus==="medium"?"secondary":p.stockStatus==="low"?"outline":"destructive",children:p.stockStatus})}),e.jsx(ge,{children:p.terjual??"-"}),e.jsx(ge,{children:p.category??"Uncategorized"}),e.jsxs(ge,{className:"space-x-2",children:[e.jsx(ee,{size:"sm",variant:"outline",onClick:()=>t(`/products/${p.id}`),children:"Detail"}),e.jsx(ee,{size:"sm",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),t(`/products/${p.id}`)},children:"Kelola"})]})]},p.id))})]})]})]})]})]})};var xR="Label",$p=m.forwardRef((t,s)=>e.jsx(ie.label,{...t,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$p.displayName=xR;var Bp=$p;const pR=_r("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ee=m.forwardRef(({className:t,...s},r)=>e.jsx(Bp,{ref:r,className:P(pR(),t),...s}));Ee.displayName=Bp.displayName;const Ya=m.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:P("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));Ya.displayName="Textarea";function du({open:t,onOpenChange:s,mode:r,title:n,initialData:a,onSubmit:o,isLoading:i=!1}){const[l,d]=m.useState([{email:"",password:"",profile:"",pin:"",notes:""}]),[c,u]=m.useState("");m.useEffect(()=>{r==="edit"&&a?d([a]):r==="add"&&d([{email:"",password:"",profile:"",pin:"",notes:""}]),u("")},[r,a,t]);const f=()=>{d([...l,{email:"",password:"",profile:"",pin:"",notes:""}])},x=g=>{l.length>1&&d(l.filter((p,y)=>y!==g))},h=(g,p,y)=>{const v=l.map((j,w)=>w===g?{...j,[p]:y}:j);d(v)},b=async g=>{g.preventDefault();try{r==="add"?await o({stockItems:l,notes:c}):await o({stockItem:l[0],notes:c}),s(!1)}catch(p){console.error("Failed to submit stock data:",p)}};return e.jsx(bc,{open:t,onOpenChange:s,children:e.jsxs(Lo,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Fo,{children:[e.jsx($o,{children:n}),e.jsx(Bo,{children:r==="add"?"Add new stock items to this product. Email and password are required fields.":"Edit the stock item details. Email and password are required fields."})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",autoComplete:"off",children:[l.map((g,p)=>e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Ee,{className:"text-sm font-medium",children:["Stock Item ",p+1]}),r==="add"&&l.length>1&&e.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(p),className:"text-red-500 hover:text-red-700",children:e.jsx(Oa,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:`email-${p}`,children:"Email *"}),e.jsx(nt,{id:`email-${p}`,type:"email",value:g.email,onChange:y=>h(p,"email",y.target.value),placeholder:"user@example.com",required:!0,autoComplete:"off","data-form-type":"other","data-lpignore":"true"})]}),e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:`password-${p}`,children:"Password *"}),e.jsx(nt,{id:`password-${p}`,type:"text",value:g.password,onChange:y=>h(p,"password",y.target.value),placeholder:"password123",required:!0,autoComplete:"off","data-form-type":"other","data-lpignore":"true"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:`profile-${p}`,children:"Profile"}),e.jsx(nt,{id:`profile-${p}`,value:g.profile||"",onChange:y=>h(p,"profile",y.target.value),placeholder:"profile1",autoComplete:"off","data-form-type":"other","data-lpignore":"true"})]}),e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:`pin-${p}`,children:"PIN"}),e.jsx(nt,{id:`pin-${p}`,value:g.pin||"",onChange:y=>h(p,"pin",y.target.value),placeholder:"1234",autoComplete:"off","data-form-type":"other","data-lpignore":"true"})]})]}),e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:`notes-${p}`,children:"Notes"}),e.jsx(Ya,{id:`notes-${p}`,value:g.notes||"",onChange:y=>h(p,"notes",y.target.value),placeholder:"Optional notes for this stock item",rows:2,autoComplete:"off","data-form-type":"other","data-lpignore":"true"})]})]},p)),r==="add"&&e.jsxs(ee,{type:"button",variant:"outline",onClick:f,className:"w-full",children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Add Another Stock Item"]}),e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:"global-notes",children:"Global Notes"}),e.jsx(Ya,{id:"global-notes",value:c,onChange:g=>u(g.target.value),placeholder:"Notes for this operation",rows:2,autoComplete:"off","data-form-type":"other","data-lpignore":"true"})]}),e.jsxs(vc,{children:[e.jsx(ee,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),e.jsx(ee,{type:"submit",disabled:i,children:i?"Processing...":r==="add"?"Add Stock":"Update Stock"})]})]})]})})}var Sc="Radio",[gR,Up]=et(Sc),[bR,vR]=gR(Sc),zp=m.forwardRef((t,s)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:o,disabled:i,value:l="on",onCheck:d,form:c,...u}=t,[f,x]=m.useState(null),h=Ce(s,p=>x(p)),b=m.useRef(!1),g=f?c||!!f.closest("form"):!0;return e.jsxs(bR,{scope:r,checked:a,disabled:i,children:[e.jsx(ie.button,{type:"button",role:"radio","aria-checked":a,"data-state":Kp(a),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:h,onClick:J(t.onClick,p=>{a||d==null||d(),g&&(b.current=p.isPropagationStopped(),b.current||p.stopPropagation())})}),g&&e.jsx(qp,{control:f,bubbles:!b.current,name:n,value:l,checked:a,required:o,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});zp.displayName=Sc;var Wp="RadioIndicator",Hp=m.forwardRef((t,s)=>{const{__scopeRadio:r,forceMount:n,...a}=t,o=vR(Wp,r);return e.jsx(wt,{present:n||o.checked,children:e.jsx(ie.span,{"data-state":Kp(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:s})})});Hp.displayName=Wp;var yR="RadioBubbleInput",qp=m.forwardRef(({__scopeRadio:t,control:s,checked:r,bubbles:n=!0,...a},o)=>{const i=m.useRef(null),l=Ce(i,o),d=yc(r),c=Bl(s);return m.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&h){const b=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(b)}},[d,r,n]),e.jsx(ie.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qp.displayName=yR;function Kp(t){return t?"checked":"unchecked"}var jR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ho="RadioGroup",[wR,_A]=et(Ho,[Ir,Up]),Vp=Ir(),Gp=Up(),[NR,SR]=wR(Ho),Xp=m.forwardRef((t,s)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:d,dir:c,loop:u=!0,onValueChange:f,...x}=t,h=Vp(r),b=In(c),[g,p]=Lt({prop:o,defaultProp:a??null,onChange:f,caller:Ho});return e.jsx(NR,{scope:r,name:n,required:i,disabled:l,value:g,onValueChange:p,children:e.jsx(sc,{asChild:!0,...h,orientation:d,dir:b,loop:u,children:e.jsx(ie.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":l?"":void 0,dir:b,...x,ref:s})})})});Xp.displayName=Ho;var Yp="RadioGroupItem",Jp=m.forwardRef((t,s)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,o=SR(Yp,r),i=o.disabled||n,l=Vp(r),d=Gp(r),c=m.useRef(null),u=Ce(s,c),f=o.value===a.value,x=m.useRef(!1);return m.useEffect(()=>{const h=g=>{jR.includes(g.key)&&(x.current=!0)},b=()=>x.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",b)}},[]),e.jsx(rc,{asChild:!0,...l,focusable:!i,active:f,children:e.jsx(zp,{disabled:i,required:o.required,checked:f,...d,...a,name:o.name,ref:u,onCheck:()=>o.onValueChange(a.value),onKeyDown:J(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:J(a.onFocus,()=>{var h;x.current&&((h=c.current)==null||h.click())})})})});Jp.displayName=Yp;var kR="RadioGroupIndicator",Qp=m.forwardRef((t,s)=>{const{__scopeRadioGroup:r,...n}=t,a=Gp(r);return e.jsx(Hp,{...a,...n,ref:s})});Qp.displayName=kR;var Zp=Xp,eg=Jp,CR=Qp;const tg=m.forwardRef(({className:t,...s},r)=>e.jsx(Zp,{className:P("grid gap-2",t),...s,ref:r}));tg.displayName=Zp.displayName;const Vr=m.forwardRef(({className:t,...s},r)=>e.jsx(eg,{ref:r,className:P("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(CR,{className:"flex items-center justify-center",children:e.jsx(qu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Vr.displayName=eg.displayName;function RR({open:t,onOpenChange:s,onSubmit:r,isLoading:n=!1,totalStockCount:a}){const[o,i]=m.useState("first"),[l,d]=m.useState(""),[c,u]=m.useState(""),f=async h=>{h.preventDefault();try{const b={deleteType:o,notes:c.trim()||void 0};if(o==="indexes"){const g=l.split(",").map(p=>parseInt(p.trim())).filter(p=>!isNaN(p)&&p>=0&&p<a);if(g.length===0){alert("Please enter valid stock indexes (0 to "+(a-1)+")");return}b.stockIndexes=g}await r(b),s(!1),i("first"),d(""),u("")}catch(b){console.error("Failed to delete stock:",b)}},x=()=>{switch(o){case"indexes":return"Delete specific stock items by their index numbers (0-based, comma separated)";case"first":return"Delete the first stock item";case"last":return"Delete the last stock item";case"all":return"Delete ALL stock items - this action cannot be undone!";default:return""}};return e.jsx(bc,{open:t,onOpenChange:s,children:e.jsxs(Lo,{className:"max-w-md",children:[e.jsxs(Fo,{children:[e.jsxs($o,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5 text-red-500"}),"Delete Stock Items"]}),e.jsx(Bo,{children:"Choose how you want to delete stock items. This action cannot be undone."})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:"Delete Type"}),e.jsxs(tg,{value:o,onValueChange:h=>i(h),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vr,{value:"first",id:"first"}),e.jsx(Ee,{htmlFor:"first",children:"First item"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vr,{value:"last",id:"last"}),e.jsx(Ee,{htmlFor:"last",children:"Last item"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vr,{value:"indexes",id:"indexes"}),e.jsx(Ee,{htmlFor:"indexes",children:"Specific indexes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vr,{value:"all",id:"all"}),e.jsx(Ee,{htmlFor:"all",className:"text-red-600 font-medium",children:"All items"})]})]})]}),o==="indexes"&&e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:"indexes-input",children:"Stock Indexes (comma separated)"}),e.jsx(nt,{id:"indexes-input",value:l,onChange:h=>d(h.target.value),placeholder:"0, 2, 4",required:!0}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Valid range: 0 to ",a-1]})]}),e.jsx("div",{className:"p-3 bg-muted rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:x()})}),e.jsxs("div",{children:[e.jsx(Ee,{htmlFor:"delete-notes",children:"Notes"}),e.jsx(Ya,{id:"delete-notes",value:c,onChange:h=>u(h.target.value),placeholder:"Optional reason for deletion",rows:2})]}),e.jsxs(vc,{children:[e.jsx(ee,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:n,children:"Cancel"}),e.jsx(ee,{type:"submit",variant:o==="all"?"destructive":"default",disabled:n,children:n?"Deleting...":`Delete ${o==="all"?"All":"Selected"}`})]})]})]})})}function _R(){var B,q,I,te,H,W,K;const{productId:t}=vl(),s=Sn(),r=Wb(),{toast:n}=_n(),[a,o]=m.useState(!1),[i,l]=m.useState(!1),[d,c]=m.useState(!1),[u,f]=m.useState(null),{data:x,isLoading:h,error:b}=Se({queryKey:["product-details",t],queryFn:()=>ue.getProductStockDetails(t),enabled:!!t}),g=((B=x==null?void 0:x.stock)==null?void 0:B.items)||[],p=((q=x==null?void 0:x.stock)==null?void 0:q.count)||0,y=Kn({mutationFn:U=>{const D=((U==null?void 0:U.stockItems)??[]).map(Q=>{const se=$=>($??"").toString().trim().replace(/\|/g,"/"),F=se(Q.email),re=se(Q.password),le=se(Q.profile),z=se(Q.pin),ne=se(Q.notes);if(!F||!re)throw new Error("Email and password are required");return[F,re,le,z,ne].join("|")}),A=((U==null?void 0:U.notes)??"").toString();return ue.updateProductStock(t,{action:"add",stockItems:D,notes:A})},onSuccess:U=>{n({title:"Stock Added Successfully",description:`New stock count: ${U.newStockCount}`}),r.invalidateQueries({queryKey:["product-details",t]})},onError:U=>{n({title:"Failed to Add Stock",description:U.message||"An error occurred while adding stock",variant:"destructive"})}}),v=Kn({mutationFn:({index:U,data:D})=>{const A=(D==null?void 0:D.stockItem)??D,Q=((A==null?void 0:A.email)??"").trim(),se=((A==null?void 0:A.password)??"").trim(),F=((A==null?void 0:A.profile)??"").toString(),re=((A==null?void 0:A.pin)??"").toString(),le=((A==null?void 0:A.notes)??"").toString();if(!Q||!se)return Promise.reject(new Error("Email and password are required"));const z=$=>$.replace(/\|/g,"/"),ne=[Q,se,F,re,le].map(z).join("|");return ue.editStockItem(t,{index:U,value:ne})},onSuccess:()=>{n({title:"Stock Updated Successfully",description:"Stock item has been updated"}),r.invalidateQueries({queryKey:["product-details",t]})},onError:U=>{n({title:"Failed to Update Stock",description:U.message||"An error occurred while updating stock",variant:"destructive"})}}),j=Kn({mutationFn:U=>ue.deleteStockItem(t,{index:U}),onSuccess:()=>{n({title:"Stock Deleted Successfully",description:"Stock item has been deleted"}),r.invalidateQueries({queryKey:["product-details",t]})},onError:U=>{n({title:"Failed to Delete Stock",description:U.message||"An error occurred while deleting stock",variant:"destructive"})}}),w=Kn({mutationFn:U=>ue.deleteMultipleStock(t,U),onSuccess:U=>{n({title:"Stock Deleted Successfully",description:`Deleted ${U.deletedItemsCount||1} stock items from ${U.productName}`}),r.invalidateQueries({queryKey:["product-details",t]})},onError:U=>{n({title:"Failed to Delete Stock",description:U.message||"An error occurred while deleting stock",variant:"destructive"})}}),k=async U=>{try{await y.mutateAsync(U)}catch(D){console.error("Add stock failed:",D)}},R=U=>{var A,Q;const D=(Q=(A=x==null?void 0:x.stock)==null?void 0:A.items)==null?void 0:Q[U];D!=null&&D.parsed&&(f({index:U,data:{email:D.parsed.email||"",password:D.parsed.password||"",profile:D.parsed.profile||"",pin:D.parsed.pin||"",notes:D.parsed.notes||""}}),l(!0))},C=async U=>{if(u)try{await v.mutateAsync({index:u.index,data:U}),f(null)}catch(D){console.error("Update stock failed:",D)}},E=async U=>{if(confirm("Are you sure you want to delete this stock item?"))try{await j.mutateAsync(U)}catch(D){console.error("Delete stock failed:",D)}},O=async U=>{try{await w.mutateAsync(U)}catch(D){console.error("Bulk delete failed:",D)}};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading product details..."})]})}):b||!x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-destructive/5 rounded-2xl border border-destructive/20",children:[e.jsx("h3",{className:"text-lg font-bold text-destructive mb-2",children:"Error loading product details"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Product ID: ",t,e.jsx("br",{}),"Error: ",(b==null?void 0:b.message)||"Product not found"]}),e.jsx(ee,{onClick:()=>s("/products"),variant:"outline",children:"Back to Products"})]})}):e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>s("/products"),className:"h-auto p-0 hover:bg-transparent hover:text-primary",children:[e.jsx(Da,{className:"h-4 w-4 mr-1"}),"Products"]}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Details"})]}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:x.productName}),e.jsx("p",{className:"text-muted-foreground mt-1",children:x.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ae,{variant:"outline",className:"bg-background/50 backdrop-blur-sm px-3 py-1 text-sm font-medium",children:[e.jsx(av,{className:"h-3.5 w-3.5 mr-1.5 text-primary"}),x.category]}),e.jsxs(ae,{variant:((I=x.stock)==null?void 0:I.status)==="good"?"default":"destructive",className:P("px-3 py-1 text-sm font-medium",((te=x.stock)==null?void 0:te.status)==="good"?"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20 border-emerald-500/20":"bg-red-500/10 text-red-600 hover:bg-red-500/20 border-red-500/20"),children:[((H=x.stock)==null?void 0:H.status)==="good"?e.jsx(Yu,{className:"h-3.5 w-3.5 mr-1.5"}):e.jsx(fn,{className:"h-3.5 w-3.5 mr-1.5"}),((W=x.stock)==null?void 0:W.status)==="good"?"In Stock":"Low Stock"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{className:"pb-2",children:e.jsx(L,{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:((K=x.sales)==null?void 0:K.total)||0}),e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(oo,{className:"h-5 w-5 text-blue-500"})})]})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{className:"pb-2",children:e.jsx(L,{className:"text-sm font-medium text-muted-foreground",children:"Available Stock"})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:p}),e.jsx("div",{className:P("p-2 rounded-lg",p>0?"bg-emerald-500/10":"bg-red-500/10"),children:e.jsx(Cs,{className:P("h-5 w-5",p>0?"text-emerald-500":"text-red-500")})})]})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{className:"pb-2",children:e.jsx(L,{className:"text-sm font-medium text-muted-foreground",children:"Pricing Tiers"})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-1.5",children:x.prices&&Object.entries(x.prices).map(([U,D])=>e.jsxs("div",{className:"flex justify-between text-sm items-center",children:[e.jsx("span",{className:"capitalize text-muted-foreground",children:U}),e.jsxs("span",{className:"font-medium text-foreground",children:["Rp ",Number(D).toLocaleString()]})]},U))})})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{className:"border-b border-border/50 bg-muted/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ov,{className:"h-5 w-5 text-primary"}),"Stock Management"]}),e.jsxs(Y,{className:"mt-1",children:["Manage inventory items for this product. Total: ",p," items"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{onClick:()=>o(!0),size:"sm",className:"bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20",children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Add Stock"]}),p>0&&e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Bulk Delete"]})]})]})}),e.jsx(S,{className:"p-0",children:p===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Cs,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-1",children:"No stock items available"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm mx-auto",children:"This product currently has no inventory. Add stock items to make it available for purchase."}),e.jsxs(ee,{onClick:()=>o(!0),children:[e.jsx(hn,{className:"h-4 w-4 mr-2"}),"Add First Stock Item"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Qs,{children:[e.jsx(Zs,{className:"bg-muted/50",children:e.jsxs(ot,{className:"hover:bg-transparent border-border/50",children:[e.jsx(Ne,{className:"w-[80px]",children:"Index"}),e.jsx(Ne,{children:"Email / Account"}),e.jsx(Ne,{children:"Password / Key"}),e.jsx(Ne,{children:"Profile"}),e.jsx(Ne,{children:"PIN"}),e.jsx(Ne,{children:"Notes"}),e.jsx(Ne,{className:"w-[80px] text-right",children:"Actions"})]})}),e.jsx(er,{children:g.map((U,D)=>{var A,Q,se,F,re;return e.jsxs(ot,{className:"hover:bg-muted/30 border-border/50 transition-colors",children:[e.jsx(ge,{children:e.jsxs("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded text-muted-foreground border border-border",children:["#",D]})}),e.jsx(ge,{className:"font-medium",children:((A=U.parsed)==null?void 0:A.email)||"-"}),e.jsx(ge,{children:e.jsx("code",{className:"text-xs bg-muted/50 px-1.5 py-0.5 rounded text-muted-foreground font-mono",children:((Q=U.parsed)==null?void 0:Q.password)||"-"})}),e.jsx(ge,{className:"text-muted-foreground text-sm",children:((se=U.parsed)==null?void 0:se.profile)||"-"}),e.jsx(ge,{className:"text-muted-foreground text-sm",children:((F=U.parsed)==null?void 0:F.pin)||"-"}),e.jsx(ge,{className:"max-w-[200px] truncate text-muted-foreground text-sm",children:((re=U.parsed)==null?void 0:re.notes)||"-"}),e.jsx(ge,{className:"text-right",children:e.jsxs(Qf,{children:[e.jsx(Zf,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",children:e.jsx(Sl,{className:"h-4 w-4"})})}),e.jsxs(uc,{align:"end",className:"w-40",children:[e.jsxs(yr,{onClick:()=>R(D),children:[e.jsx(iv,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(yr,{onClick:()=>E(D),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},D)})})]})})})]}),e.jsx(du,{open:a,onOpenChange:o,mode:"add",title:"Add Stock Items",onSubmit:k,isLoading:y.isPending}),e.jsx(du,{open:i,onOpenChange:l,mode:"edit",title:"Edit Stock Item",initialData:u==null?void 0:u.data,onSubmit:C,isLoading:v.isPending}),e.jsx(RR,{open:d,onOpenChange:c,totalStockCount:p,onSubmit:O,isLoading:w.isPending})]})}function xe(t,s,r,n,a){if(typeof s=="function"?t!==s||!a:!s.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(t,r),r}function _(t,s,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?t!==s||!n:!s.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:s.get(t)}let sg=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return sg=t.randomUUID.bind(t),t.randomUUID();const s=new Uint8Array(1),r=t?()=>t.getRandomValues(s)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function ol(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const il=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const s=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(s.stack=t.stack),t.cause&&!s.cause&&(s.cause=t.cause),t.name&&(s.name=t.name),s}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class he extends Error{}class Je extends he{constructor(s,r,n,a){super(`${Je.makeMessage(s,r,n)}`),this.status=s,this.headers=a,this.requestID=a==null?void 0:a.get("x-request-id"),this.error=r;const o=r;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(s,r,n){const a=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return s&&a?`${s} ${a}`:s?`${s} status code (no body)`:a||"(no status code or body)"}static generate(s,r,n,a){if(!s||!a)return new qo({message:n,cause:il(r)});const o=r==null?void 0:r.error;return s===400?new rg(s,o,n,a):s===401?new ng(s,o,n,a):s===403?new ag(s,o,n,a):s===404?new og(s,o,n,a):s===409?new ig(s,o,n,a):s===422?new lg(s,o,n,a):s===429?new cg(s,o,n,a):s>=500?new dg(s,o,n,a):new Je(s,o,n,a)}}class Ct extends Je{constructor({message:s}={}){super(void 0,void 0,s||"Request was aborted.",void 0)}}class qo extends Je{constructor({message:s,cause:r}){super(void 0,void 0,s||"Connection error.",void 0),r&&(this.cause=r)}}class kc extends qo{constructor({message:s}={}){super({message:s??"Request timed out."})}}class rg extends Je{}class ng extends Je{}class ag extends Je{}class og extends Je{}class ig extends Je{}class lg extends Je{}class cg extends Je{}class dg extends Je{}class ug extends he{constructor(){super("Could not parse response content as the length limit was reached")}}class mg extends he{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Gr extends Error{constructor(s){super(s)}}const AR=/^[a-z][a-z0-9+.-]*:/i,ER=t=>AR.test(t);let ut=t=>(ut=Array.isArray,ut(t)),uu=ut;function hg(t){return typeof t!="object"?{}:t??{}}function TR(t){if(!t)return!0;for(const s in t)return!1;return!0}function PR(t,s){return Object.prototype.hasOwnProperty.call(t,s)}function vi(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const IR=(t,s)=>{if(typeof s!="number"||!Number.isInteger(s))throw new he(`${t} must be an integer`);if(s<0)throw new he(`${t} must be a positive integer`);return s},DR=t=>{try{return JSON.parse(t)}catch{return}},Un=t=>new Promise(s=>setTimeout(s,t)),mr="5.15.0",OR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function MR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const LR=()=>{var r;const t=MR();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":hu(Deno.build.os),"X-Stainless-Arch":mu(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((r=Deno.version)==null?void 0:r.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":hu(globalThis.process.platform??"unknown"),"X-Stainless-Arch":mu(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const s=FR();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FR(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:s,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const a=n[1]||0,o=n[2]||0,i=n[3]||0;return{browser:s,version:`${a}.${o}.${i}`}}}return null}const mu=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",hu=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let fu;const $R=()=>fu??(fu=LR());function BR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function fg(...t){const s=globalThis.ReadableStream;if(typeof s>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new s(...t)}function xg(t){let s=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return fg({start(){},async pull(r){const{done:n,value:a}=await s.next();n?r.close():r.enqueue(a)},async cancel(){var r;await((r=s.return)==null?void 0:r.call(s))}})}function pg(t){if(t[Symbol.asyncIterator])return t;const s=t.getReader();return{async next(){try{const r=await s.read();return r!=null&&r.done&&s.releaseLock(),r}catch(r){throw s.releaseLock(),r}},async return(){const r=s.cancel();return s.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function UR(t){var n,a;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((a=(n=t[Symbol.asyncIterator]()).return)==null?void 0:a.call(n));return}const s=t.getReader(),r=s.cancel();s.releaseLock(),await r}const zR=({headers:t,body:s})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(s)}),gg="RFC3986",bg=t=>String(t),xu={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:bg},WR="RFC1738";let ll=(t,s)=>(ll=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),ll(t,s));const Ht=(()=>{const t=[];for(let s=0;s<256;++s)t.push("%"+((s<16?"0":"")+s.toString(16)).toUpperCase());return t})(),yi=1024,HR=(t,s,r,n,a)=>{if(t.length===0)return t;let o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let i="";for(let l=0;l<o.length;l+=yi){const d=o.length>=yi?o.slice(l,l+yi):o,c=[];for(let u=0;u<d.length;++u){let f=d.charCodeAt(u);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===WR&&(f===40||f===41)){c[c.length]=d.charAt(u);continue}if(f<128){c[c.length]=Ht[f];continue}if(f<2048){c[c.length]=Ht[192|f>>6]+Ht[128|f&63];continue}if(f<55296||f>=57344){c[c.length]=Ht[224|f>>12]+Ht[128|f>>6&63]+Ht[128|f&63];continue}u+=1,f=65536+((f&1023)<<10|d.charCodeAt(u)&1023),c[c.length]=Ht[240|f>>18]+Ht[128|f>>12&63]+Ht[128|f>>6&63]+Ht[128|f&63]}i+=c.join("")}return i};function qR(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function pu(t,s){if(ut(t)){const r=[];for(let n=0;n<t.length;n+=1)r.push(s(t[n]));return r}return s(t)}const vg={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,s){return String(t)+"["+s+"]"},repeat(t){return String(t)}},yg=function(t,s){Array.prototype.push.apply(t,ut(s)?s:[s])};let gu;const He={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:HR,encodeValuesOnly:!1,format:gg,formatter:bg,indices:!1,serializeDate(t){return(gu??(gu=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function KR(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const ji={};function jg(t,s,r,n,a,o,i,l,d,c,u,f,x,h,b,g,p,y){let v=t,j=y,w=0,k=!1;for(;(j=j.get(ji))!==void 0&&!k;){const B=j.get(t);if(w+=1,typeof B<"u"){if(B===w)throw new RangeError("Cyclic object value");k=!0}typeof j.get(ji)>"u"&&(w=0)}if(typeof c=="function"?v=c(s,v):v instanceof Date?v=x==null?void 0:x(v):r==="comma"&&ut(v)&&(v=pu(v,function(B){return B instanceof Date?x==null?void 0:x(B):B})),v===null){if(o)return d&&!g?d(s,He.encoder,p,"key",h):s;v=""}if(KR(v)||qR(v)){if(d){const B=g?s:d(s,He.encoder,p,"key",h);return[(b==null?void 0:b(B))+"="+(b==null?void 0:b(d(v,He.encoder,p,"value",h)))]}return[(b==null?void 0:b(s))+"="+(b==null?void 0:b(String(v)))]}const R=[];if(typeof v>"u")return R;let C;if(r==="comma"&&ut(v))g&&d&&(v=pu(v,d)),C=[{value:v.length>0?v.join(",")||null:void 0}];else if(ut(c))C=c;else{const B=Object.keys(v);C=u?B.sort(u):B}const E=l?String(s).replace(/\./g,"%2E"):String(s),O=n&&ut(v)&&v.length===1?E+"[]":E;if(a&&ut(v)&&v.length===0)return O+"[]";for(let B=0;B<C.length;++B){const q=C[B],I=typeof q=="object"&&typeof q.value<"u"?q.value:v[q];if(i&&I===null)continue;const te=f&&l?q.replace(/\./g,"%2E"):q,H=ut(v)?typeof r=="function"?r(O,te):O:O+(f?"."+te:"["+te+"]");y.set(t,w);const W=new WeakMap;W.set(ji,y),yg(R,jg(I,H,r,n,a,o,i,l,r==="comma"&&g&&ut(v)?null:d,c,u,f,x,h,b,g,p,W))}return R}function VR(t=He){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const s=t.charset||He.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=gg;if(typeof t.format<"u"){if(!ll(xu,t.format))throw new TypeError("Unknown format option provided.");r=t.format}const n=xu[r];let a=He.filter;(typeof t.filter=="function"||ut(t.filter))&&(a=t.filter);let o;if(t.arrayFormat&&t.arrayFormat in vg?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=He.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:He.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:He.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:He.allowEmptyArrays,arrayFormat:o,charset:s,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:He.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?He.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:He.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:He.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:He.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:He.encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:He.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:He.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:He.strictNullHandling}}function GR(t,s={}){let r=t;const n=VR(s);let a,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):ut(n.filter)&&(o=n.filter,a=o);const i=[];if(typeof r!="object"||r===null)return"";const l=vg[n.arrayFormat],d=l==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);const c=new WeakMap;for(let x=0;x<a.length;++x){const h=a[x];n.skipNulls&&r[h]===null||yg(i,jg(r[h],h,l,d,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const u=i.join(n.delimiter);let f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),u.length>0?f+u:""}function XR(t){let s=0;for(const a of t)s+=a.length;const r=new Uint8Array(s);let n=0;for(const a of t)r.set(a,n),n+=a.length;return r}let bu;function Cc(t){let s;return(bu??(s=new globalThis.TextEncoder,bu=s.encode.bind(s)))(t)}let vu;function yu(t){let s;return(vu??(s=new globalThis.TextDecoder,vu=s.decode.bind(s)))(t)}var xt,pt;class Ko{constructor(){xt.set(this,void 0),pt.set(this,void 0),xe(this,xt,new Uint8Array),xe(this,pt,null)}decode(s){if(s==null)return[];const r=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?Cc(s):s;xe(this,xt,XR([_(this,xt,"f"),r]));const n=[];let a;for(;(a=YR(_(this,xt,"f"),_(this,pt,"f")))!=null;){if(a.carriage&&_(this,pt,"f")==null){xe(this,pt,a.index);continue}if(_(this,pt,"f")!=null&&(a.index!==_(this,pt,"f")+1||a.carriage)){n.push(yu(_(this,xt,"f").subarray(0,_(this,pt,"f")-1))),xe(this,xt,_(this,xt,"f").subarray(_(this,pt,"f"))),xe(this,pt,null);continue}const o=_(this,pt,"f")!==null?a.preceding-1:a.preceding,i=yu(_(this,xt,"f").subarray(0,o));n.push(i),xe(this,xt,_(this,xt,"f").subarray(a.index)),xe(this,pt,null)}return n}flush(){return _(this,xt,"f").length?this.decode(`
`):[]}}xt=new WeakMap,pt=new WeakMap;Ko.NEWLINE_CHARS=new Set([`
`,"\r"]);Ko.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function YR(t,s){for(let a=s??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function JR(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}const Ja={off:0,error:200,warn:300,info:400,debug:500},ju=(t,s,r)=>{if(t){if(PR(Ja,t))return t;Xe(r).warn(`${s} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ja))}`)}};function Xr(){}function na(t,s,r){return!s||Ja[t]>Ja[r]?Xr:s[t].bind(s)}const QR={error:Xr,warn:Xr,info:Xr,debug:Xr};let wu=new WeakMap;function Xe(t){const s=t.logger,r=t.logLevel??"off";if(!s)return QR;const n=wu.get(s);if(n&&n[0]===r)return n[1];const a={error:na("error",s,r),warn:na("warn",s,r),info:na("info",s,r),debug:na("debug",s,r)};return wu.set(s,[r,a]),a}const Os=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([s,r])=>[s,s.toLowerCase()==="authorization"||s.toLowerCase()==="cookie"||s.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Wr;class Xt{constructor(s,r,n){this.iterator=s,Wr.set(this,void 0),this.controller=r,xe(this,Wr,n)}static fromSSEResponse(s,r,n){let a=!1;const o=n?Xe(n):console;async function*i(){if(a)throw new he("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let l=!1;try{for await(const d of ZR(s,r))if(!l){if(d.data.startsWith("[DONE]")){l=!0;continue}if(d.event===null||!d.event.startsWith("thread.")){let c;try{c=JSON.parse(d.data)}catch(u){throw o.error("Could not parse message into JSON:",d.data),o.error("From chunk:",d.raw),u}if(c&&c.error)throw new Je(void 0,c.error,void 0,s.headers);yield c}else{let c;try{c=JSON.parse(d.data)}catch(u){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),u}if(d.event=="error")throw new Je(void 0,c.error,c.message,void 0);yield{event:d.event,data:c}}}l=!0}catch(d){if(ol(d))return;throw d}finally{l||r.abort()}}return new Xt(i,r,n)}static fromReadableStream(s,r,n){let a=!1;async function*o(){const l=new Ko,d=pg(s);for await(const c of d)for(const u of l.decode(c))yield u;for(const c of l.flush())yield c}async function*i(){if(a)throw new he("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let l=!1;try{for await(const d of o())l||d&&(yield JSON.parse(d));l=!0}catch(d){if(ol(d))return;throw d}finally{l||r.abort()}}return new Xt(i,r,n)}[(Wr=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const s=[],r=[],n=this.iterator(),a=o=>({next:()=>{if(o.length===0){const i=n.next();s.push(i),r.push(i)}return o.shift()}});return[new Xt(()=>a(s),this.controller,_(this,Wr,"f")),new Xt(()=>a(r),this.controller,_(this,Wr,"f"))]}toReadableStream(){const s=this;let r;return fg({async start(){r=s[Symbol.asyncIterator]()},async pull(n){try{const{value:a,done:o}=await r.next();if(o)return n.close();const i=Cc(JSON.stringify(a)+`
`);n.enqueue(i)}catch(a){n.error(a)}},async cancel(){var n;await((n=r.return)==null?void 0:n.call(r))}})}}async function*ZR(t,s){if(!t.body)throw s.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new he("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new he("Attempted to iterate over a response with no body");const r=new t_,n=new Ko,a=pg(t.body);for await(const o of e_(a))for(const i of n.decode(o)){const l=r.decode(i);l&&(yield l)}for(const o of n.flush()){const i=r.decode(o);i&&(yield i)}}async function*e_(t){let s=new Uint8Array;for await(const r of t){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?Cc(r):r;let a=new Uint8Array(s.length+n.length);a.set(s),a.set(n,s.length),s=a;let o;for(;(o=JR(s))!==-1;)yield s.slice(0,o),s=s.slice(o)}s.length>0&&(yield s)}class t_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(s){if(s.endsWith("\r")&&(s=s.substring(0,s.length-1)),!s){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(s),s.startsWith(":"))return null;let[r,n,a]=s_(s,":");return a.startsWith(" ")&&(a=a.substring(1)),r==="event"?this.event=a:r==="data"&&this.data.push(a),null}}function s_(t,s){const r=t.indexOf(s);return r!==-1?[t.substring(0,r),s,t.substring(r+s.length)]:[t,"",""]}async function wg(t,s){const{response:r,requestLogID:n,retryOfRequestLogID:a,startTime:o}=s,i=await(async()=>{var f;if(s.options.stream)return Xe(t).debug("response",r.status,r.url,r.headers,r.body),s.options.__streamClass?s.options.__streamClass.fromSSEResponse(r,s.controller,t):Xt.fromSSEResponse(r,s.controller,t);if(r.status===204)return null;if(s.options.__binaryResponse)return r;const l=r.headers.get("content-type"),d=(f=l==null?void 0:l.split(";")[0])==null?void 0:f.trim();if((d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))){const x=await r.json();return Ng(x,r)}return await r.text()})();return Xe(t).debug(`[${n}] response parsed`,Os({retryOfRequestLogID:a,url:r.url,status:r.status,body:i,durationMs:Date.now()-o})),i}function Ng(t,s){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:s.headers.get("x-request-id"),enumerable:!1})}var Yr;class Vo extends Promise{constructor(s,r,n=wg){super(a=>{a(null)}),this.responsePromise=r,this.parseResponse=n,Yr.set(this,void 0),xe(this,Yr,s)}_thenUnwrap(s){return new Vo(_(this,Yr,"f"),this.responsePromise,async(r,n)=>Ng(s(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(s=>s.response)}async withResponse(){const[s,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:s,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(s=>this.parseResponse(_(this,Yr,"f"),s))),this.parsedPromise}then(s,r){return this.parse().then(s,r)}catch(s){return this.parse().catch(s)}finally(s){return this.parse().finally(s)}}Yr=new WeakMap;var aa;class Rc{constructor(s,r,n,a){aa.set(this,void 0),xe(this,aa,s),this.options=a,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const s=this.nextPageRequestOptions();if(!s)throw new he("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await _(this,aa,"f").requestAPIList(this.constructor,s)}async*iterPages(){let s=this;for(yield s;s.hasNextPage();)s=await s.getNextPage(),yield s}async*[(aa=new WeakMap,Symbol.asyncIterator)](){for await(const s of this.iterPages())for(const r of s.getPaginatedItems())yield r}}class r_ extends Vo{constructor(s,r,n){super(s,r,async(a,o)=>new n(a,o.response,await wg(a,o),o.options))}async*[Symbol.asyncIterator](){const s=await this;for await(const r of s)yield r}}class Go extends Rc{constructor(s,r,n,a){super(s,r,n,a),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ze extends Rc{constructor(s,r,n,a){super(s,r,n,a),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var n;const s=this.getPaginatedItems(),r=(n=s[s.length-1])==null?void 0:n.id;return r?{...this.options,query:{...hg(this.options.query),after:r}}:null}}class n_ extends Rc{constructor(s,r,n,a){super(s,r,n,a),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const s=this.last_id;return s?{...this.options,query:{...hg(this.options.query),after:s}}:null}}const Sg=()=>{var t;if(typeof File>"u"){const{process:s}=globalThis,r=typeof((t=s==null?void 0:s.versions)==null?void 0:t.node)=="string"&&parseInt(s.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function nn(t,s,r){return Sg(),new File(t,s??"unknown_file",r)}function ja(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const kg=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Xs=async(t,s)=>({...t,body:await o_(t.body,s)}),Nu=new WeakMap;function a_(t){const s=typeof t=="function"?t:t.fetch,r=Nu.get(s);if(r)return r;const n=(async()=>{try{const a="Response"in s?s.Response:(await s("data:,")).constructor,o=new FormData;return o.toString()!==await new a(o).text()}catch{return!0}})();return Nu.set(s,n),n}const o_=async(t,s)=>{if(!await a_(s))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(t||{}).map(([n,a])=>cl(r,n,a))),r},i_=t=>t instanceof Blob&&"name"in t,cl=async(t,s,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${s}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(s,String(r));else if(r instanceof Response)t.append(s,nn([await r.blob()],ja(r)));else if(kg(r))t.append(s,nn([await new Response(xg(r)).blob()],ja(r)));else if(i_(r))t.append(s,r,ja(r));else if(Array.isArray(r))await Promise.all(r.map(n=>cl(t,s+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,a])=>cl(t,`${s}[${n}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},Cg=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",l_=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Cg(t),c_=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function d_(t,s,r){if(Sg(),t=await t,l_(t))return t instanceof File?t:nn([await t.arrayBuffer()],t.name);if(c_(t)){const a=await t.blob();return s||(s=new URL(t.url).pathname.split(/[\\/]/).pop()),nn(await dl(a),s,r)}const n=await dl(t);if(s||(s=ja(t)),!(r!=null&&r.type)){const a=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof a=="string"&&(r={...r,type:a})}return nn(n,s,r)}async function dl(t){var r;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Cg(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(kg(t))for await(const n of t)s.push(...await dl(n));else{const n=(r=t==null?void 0:t.constructor)==null?void 0:r.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${u_(t)}`)}return s}function u_(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}class fe{constructor(s){this._client=s}}function Rg(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Su=Object.freeze(Object.create(null)),m_=(t=Rg)=>function(r,...n){if(r.length===1)return r[0];let a=!1;const o=[],i=r.reduce((u,f,x)=>{var g;/[?#]/.test(f)&&(a=!0);const h=n[x];let b=(a?encodeURIComponent:t)(""+h);return x!==n.length&&(h==null||typeof h=="object"&&h.toString===((g=Object.getPrototypeOf(Object.getPrototypeOf(h.hasOwnProperty??Su)??Su))==null?void 0:g.toString))&&(b=h+"",o.push({start:u.length+f.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(h).slice(8,-1)} is not a valid path parameter`})),u+f+(x===n.length?"":b)},""),l=i.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=d.exec(l))!==null;)o.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(o.sort((u,f)=>u.start-f.start),o.length>0){let u=0;const f=o.reduce((x,h)=>{const b=" ".repeat(h.start-u),g="^".repeat(h.length);return u=h.start+h.length,x+b+g},"");throw new he(`Path parameters result in path with invalid segments:
${o.map(x=>x.error).join(`
`)}
${i}
${f}`)}return i},G=m_(Rg);let _g=class extends fe{list(s,r={},n){return this._client.getAPIList(G`/chat/completions/${s}/messages`,ze,{query:r,...n})}};function Qa(t){return t!==void 0&&"function"in t&&t.function!==void 0}function _c(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function zn(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function h_(t,s){return!s||!Ag(s)?{...t,choices:t.choices.map(r=>(Eg(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:Ac(t,s)}function Ac(t,s){const r=t.choices.map(n=>{var a;if(n.finish_reason==="length")throw new ug;if(n.finish_reason==="content_filter")throw new mg;return Eg(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:((a=n.message.tool_calls)==null?void 0:a.map(o=>x_(s,o)))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?f_(s,n.message.content):null}}});return{...t,choices:r}}function f_(t,s){var r,n;return((r=t.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=t.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(s):JSON.parse(s):null}function x_(t,s){var n;const r=(n=t.tools)==null?void 0:n.find(a=>{var o;return Qa(a)&&((o=a.function)==null?void 0:o.name)===s.function.name});return{...s,function:{...s.function,parsed_arguments:zn(r)?r.$parseRaw(s.function.arguments):r!=null&&r.function.strict?JSON.parse(s.function.arguments):null}}}function p_(t,s){var n;if(!t||!("tools"in t)||!t.tools)return!1;const r=(n=t.tools)==null?void 0:n.find(a=>{var o;return Qa(a)&&((o=a.function)==null?void 0:o.name)===s.function.name});return Qa(r)&&(zn(r)||(r==null?void 0:r.function.strict)||!1)}function Ag(t){var s;return _c(t.response_format)?!0:((s=t.tools)==null?void 0:s.some(r=>zn(r)||r.type==="function"&&r.function.strict===!0))??!1}function Eg(t){for(const s of t||[])if(s.type!=="function")throw new he(`Currently only \`function\` tool calls are supported; Received \`${s.type}\``)}function g_(t){for(const s of t??[]){if(s.type!=="function")throw new he(`Currently only \`function\` tool types support auto-parsing; Received \`${s.type}\``);if(s.function.strict!==!0)throw new he(`The \`${s.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Za=t=>(t==null?void 0:t.role)==="assistant",Tg=t=>(t==null?void 0:t.role)==="tool";var ul,wa,Na,Jr,Qr,Sa,Zr,ns,en,eo,to,hr,Pg;class Ec{constructor(){ul.add(this),this.controller=new AbortController,wa.set(this,void 0),Na.set(this,()=>{}),Jr.set(this,()=>{}),Qr.set(this,void 0),Sa.set(this,()=>{}),Zr.set(this,()=>{}),ns.set(this,{}),en.set(this,!1),eo.set(this,!1),to.set(this,!1),hr.set(this,!1),xe(this,wa,new Promise((s,r)=>{xe(this,Na,s,"f"),xe(this,Jr,r,"f")})),xe(this,Qr,new Promise((s,r)=>{xe(this,Sa,s,"f"),xe(this,Zr,r,"f")})),_(this,wa,"f").catch(()=>{}),_(this,Qr,"f").catch(()=>{})}_run(s){setTimeout(()=>{s().then(()=>{this._emitFinal(),this._emit("end")},_(this,ul,"m",Pg).bind(this))},0)}_connected(){this.ended||(_(this,Na,"f").call(this),this._emit("connect"))}get ended(){return _(this,en,"f")}get errored(){return _(this,eo,"f")}get aborted(){return _(this,to,"f")}abort(){this.controller.abort()}on(s,r){return(_(this,ns,"f")[s]||(_(this,ns,"f")[s]=[])).push({listener:r}),this}off(s,r){const n=_(this,ns,"f")[s];if(!n)return this;const a=n.findIndex(o=>o.listener===r);return a>=0&&n.splice(a,1),this}once(s,r){return(_(this,ns,"f")[s]||(_(this,ns,"f")[s]=[])).push({listener:r,once:!0}),this}emitted(s){return new Promise((r,n)=>{xe(this,hr,!0),s!=="error"&&this.once("error",n),this.once(s,r)})}async done(){xe(this,hr,!0),await _(this,Qr,"f")}_emit(s,...r){if(_(this,en,"f"))return;s==="end"&&(xe(this,en,!0),_(this,Sa,"f").call(this));const n=_(this,ns,"f")[s];if(n&&(_(this,ns,"f")[s]=n.filter(a=>!a.once),n.forEach(({listener:a})=>a(...r))),s==="abort"){const a=r[0];!_(this,hr,"f")&&!(n!=null&&n.length)&&Promise.reject(a),_(this,Jr,"f").call(this,a),_(this,Zr,"f").call(this,a),this._emit("end");return}if(s==="error"){const a=r[0];!_(this,hr,"f")&&!(n!=null&&n.length)&&Promise.reject(a),_(this,Jr,"f").call(this,a),_(this,Zr,"f").call(this,a),this._emit("end")}}_emitFinal(){}}wa=new WeakMap,Na=new WeakMap,Jr=new WeakMap,Qr=new WeakMap,Sa=new WeakMap,Zr=new WeakMap,ns=new WeakMap,en=new WeakMap,eo=new WeakMap,to=new WeakMap,hr=new WeakMap,ul=new WeakSet,Pg=function(s){if(xe(this,eo,!0),s instanceof Error&&s.name==="AbortError"&&(s=new Ct),s instanceof Ct)return xe(this,to,!0),this._emit("abort",s);if(s instanceof he)return this._emit("error",s);if(s instanceof Error){const r=new he(s.message);return r.cause=s,this._emit("error",r)}return this._emit("error",new he(String(s)))};function b_(t){return typeof t.parse=="function"}var st,ml,so,hl,fl,xl,Ig,Dg;const v_=10;class Og extends Ec{constructor(){super(...arguments),st.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(s){var n;this._chatCompletions.push(s),this._emit("chatCompletion",s);const r=(n=s.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),s}_addMessage(s,r=!0){if("content"in s||(s.content=null),this.messages.push(s),r){if(this._emit("message",s),Tg(s)&&s.content)this._emit("functionToolCallResult",s.content);else if(Za(s)&&s.tool_calls)for(const n of s.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const s=this._chatCompletions[this._chatCompletions.length-1];if(!s)throw new he("stream ended without producing a ChatCompletion");return s}async finalContent(){return await this.done(),_(this,st,"m",ml).call(this)}async finalMessage(){return await this.done(),_(this,st,"m",so).call(this)}async finalFunctionToolCall(){return await this.done(),_(this,st,"m",hl).call(this)}async finalFunctionToolCallResult(){return await this.done(),_(this,st,"m",fl).call(this)}async totalUsage(){return await this.done(),_(this,st,"m",xl).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const s=this._chatCompletions[this._chatCompletions.length-1];s&&this._emit("finalChatCompletion",s);const r=_(this,st,"m",so).call(this);r&&this._emit("finalMessage",r);const n=_(this,st,"m",ml).call(this);n&&this._emit("finalContent",n);const a=_(this,st,"m",hl).call(this);a&&this._emit("finalFunctionToolCall",a);const o=_(this,st,"m",fl).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(i=>i.usage)&&this._emit("totalUsage",_(this,st,"m",xl).call(this))}async _createChatCompletion(s,r,n){const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),_(this,st,"m",Ig).call(this,r);const o=await s.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ac(o,r))}async _runChatCompletion(s,r,n){for(const a of r.messages)this._addMessage(a,!1);return await this._createChatCompletion(s,r,n)}async _runTools(s,r,n){var h,b,g;const a="tool",{tool_choice:o="auto",stream:i,...l}=r,d=typeof o!="string"&&o.type==="function"&&((h=o==null?void 0:o.function)==null?void 0:h.name),{maxChatCompletions:c=v_}=n||{},u=r.tools.map(p=>{if(zn(p)){if(!p.$callback)throw new he("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:p.$callback,name:p.function.name,description:p.function.description||"",parameters:p.function.parameters,parse:p.$parseRaw,strict:!0}}}return p}),f={};for(const p of u)p.type==="function"&&(f[p.function.name||p.function.function.name]=p.function);const x="tools"in r?u.map(p=>p.type==="function"?{type:"function",function:{name:p.function.name||p.function.function.name,parameters:p.function.parameters,description:p.function.description,strict:p.function.strict}}:p):void 0;for(const p of r.messages)this._addMessage(p,!1);for(let p=0;p<c;++p){const v=(b=(await this._createChatCompletion(s,{...l,tool_choice:o,tools:x,messages:[...this.messages]},n)).choices[0])==null?void 0:b.message;if(!v)throw new he("missing message in ChatCompletion response");if(!((g=v.tool_calls)!=null&&g.length))return;for(const j of v.tool_calls){if(j.type!=="function")continue;const w=j.id,{name:k,arguments:R}=j.function,C=f[k];if(C){if(d&&d!==k){const q=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(d)} requested. Please try again`;this._addMessage({role:a,tool_call_id:w,content:q});continue}}else{const q=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(f).map(I=>JSON.stringify(I)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:w,content:q});continue}let E;try{E=b_(C)?await C.parse(R):R}catch(q){const I=q instanceof Error?q.message:String(q);this._addMessage({role:a,tool_call_id:w,content:I});continue}const O=await C.function(E,this),B=_(this,st,"m",Dg).call(this,O);if(this._addMessage({role:a,tool_call_id:w,content:B}),d)return}}}}st=new WeakSet,ml=function(){return _(this,st,"m",so).call(this).content??null},so=function(){let s=this.messages.length;for(;s-- >0;){const r=this.messages[s];if(Za(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new he("stream ended without producing a ChatCompletionMessage with role=assistant")},hl=function(){var s,r;for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(Za(a)&&((s=a==null?void 0:a.tool_calls)!=null&&s.length))return(r=a.tool_calls.filter(o=>o.type==="function").at(-1))==null?void 0:r.function}},fl=function(){for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(Tg(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var a;return n.role==="assistant"&&((a=n.tool_calls)==null?void 0:a.some(o=>o.type==="function"&&o.id===r.tool_call_id))}))return r.content}},xl=function(){const s={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(s.completion_tokens+=r.completion_tokens,s.prompt_tokens+=r.prompt_tokens,s.total_tokens+=r.total_tokens);return s},Ig=function(s){if(s.n!=null&&s.n>1)throw new he("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Dg=function(s){return typeof s=="string"?s:s===void 0?"undefined":JSON.stringify(s)};class Tc extends Og{static runTools(s,r,n){const a=new Tc,o={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(s,r,o)),a}_addMessage(s,r=!0){super._addMessage(s,r),Za(s)&&s.content&&this._emit("content",s.content)}}const Mg=1,Lg=2,Fg=4,$g=8,Bg=16,Ug=32,zg=64,Wg=128,Hg=256,qg=Wg|Hg,Kg=Bg|Ug|qg|zg,Vg=Mg|Lg|Kg,Gg=Fg|$g,y_=Vg|Gg,Ge={STR:Mg,NUM:Lg,ARR:Fg,OBJ:$g,NULL:Bg,BOOL:Ug,NAN:zg,INFINITY:Wg,MINUS_INFINITY:Hg,INF:qg,SPECIAL:Kg,ATOM:Vg,COLLECTION:Gg,ALL:y_};class j_ extends Error{}class w_ extends Error{}function N_(t,s=Ge.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return S_(t.trim(),s)}const S_=(t,s)=>{const r=t.length;let n=0;const a=x=>{throw new j_(`${x} at position ${n}`)},o=x=>{throw new w_(`${x} at position ${n}`)},i=()=>(f(),n>=r&&a("Unexpected end of input"),t[n]==='"'?l():t[n]==="{"?d():t[n]==="["?c():t.substring(n,n+4)==="null"||Ge.NULL&s&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Ge.BOOL&s&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Ge.BOOL&s&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Ge.INFINITY&s&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Ge.MINUS_INFINITY&s&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Ge.NAN&s&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):u()),l=()=>{const x=n;let h=!1;for(n++;n<r&&(t[n]!=='"'||h&&t[n-1]==="\\");)h=t[n]==="\\"?!h:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(x,++n-Number(h)))}catch(b){o(String(b))}else if(Ge.STR&s)try{return JSON.parse(t.substring(x,n-Number(h))+'"')}catch{return JSON.parse(t.substring(x,t.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},d=()=>{n++,f();const x={};try{for(;t[n]!=="}";){if(f(),n>=r&&Ge.OBJ&s)return x;const h=l();f(),n++;try{const b=i();Object.defineProperty(x,h,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(Ge.OBJ&s)return x;throw b}f(),t[n]===","&&n++}}catch{if(Ge.OBJ&s)return x;a("Expected '}' at end of object")}return n++,x},c=()=>{n++;const x=[];try{for(;t[n]!=="]";)x.push(i()),f(),t[n]===","&&n++}catch{if(Ge.ARR&s)return x;a("Expected ']' at end of array")}return n++,x},u=()=>{if(n===0){t==="-"&&Ge.NUM&s&&a("Not sure what '-' is");try{return JSON.parse(t)}catch(h){if(Ge.NUM&s)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}o(String(h))}}const x=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Ge.NUM&s)&&a("Unterminated number literal");try{return JSON.parse(t.substring(x,n))}catch{t.substring(x,n)==="-"&&Ge.NUM&s&&a("Not sure what '-' is");try{return JSON.parse(t.substring(x,t.lastIndexOf("e")))}catch(b){o(String(b))}}},f=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return i()},ku=t=>N_(t,Ge.ALL^Ge.NUM);var We,rs,lr,vs,wi,oa,Ni,Si,ki,ia,Ci,Cu;class Nn extends Og{constructor(s){super(),We.add(this),rs.set(this,void 0),lr.set(this,void 0),vs.set(this,void 0),xe(this,rs,s),xe(this,lr,[])}get currentChatCompletionSnapshot(){return _(this,vs,"f")}static fromReadableStream(s){const r=new Nn(null);return r._run(()=>r._fromReadableStream(s)),r}static createChatCompletion(s,r,n){const a=new Nn(r);return a._run(()=>a._runChatCompletion(s,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(s,r,n){var i;super._createChatCompletion;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),_(this,We,"m",wi).call(this);const o=await s.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of o)_(this,We,"m",Ni).call(this,l);if((i=o.controller.signal)!=null&&i.aborted)throw new Ct;return this._addChatCompletion(_(this,We,"m",ia).call(this))}async _fromReadableStream(s,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),_(this,We,"m",wi).call(this),this._connected();const a=Xt.fromReadableStream(s,this.controller);let o;for await(const l of a)o&&o!==l.id&&this._addChatCompletion(_(this,We,"m",ia).call(this)),_(this,We,"m",Ni).call(this,l),o=l.id;if((i=a.controller.signal)!=null&&i.aborted)throw new Ct;return this._addChatCompletion(_(this,We,"m",ia).call(this))}[(rs=new WeakMap,lr=new WeakMap,vs=new WeakMap,We=new WeakSet,wi=function(){this.ended||xe(this,vs,void 0)},oa=function(r){let n=_(this,lr,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},_(this,lr,"f")[r.index]=n,n)},Ni=function(r){var a,o,i,l,d,c,u,f,x,h,b,g,p,y,v;if(this.ended)return;const n=_(this,We,"m",Cu).call(this,r);this._emit("chunk",r,n);for(const j of r.choices){const w=n.choices[j.index];j.delta.content!=null&&((a=w.message)==null?void 0:a.role)==="assistant"&&((o=w.message)!=null&&o.content)&&(this._emit("content",j.delta.content,w.message.content),this._emit("content.delta",{delta:j.delta.content,snapshot:w.message.content,parsed:w.message.parsed})),j.delta.refusal!=null&&((i=w.message)==null?void 0:i.role)==="assistant"&&((l=w.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:j.delta.refusal,snapshot:w.message.refusal}),((d=j.logprobs)==null?void 0:d.content)!=null&&((c=w.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=j.logprobs)==null?void 0:u.content,snapshot:((f=w.logprobs)==null?void 0:f.content)??[]}),((x=j.logprobs)==null?void 0:x.refusal)!=null&&((h=w.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(b=j.logprobs)==null?void 0:b.refusal,snapshot:((g=w.logprobs)==null?void 0:g.refusal)??[]});const k=_(this,We,"m",oa).call(this,w);w.finish_reason&&(_(this,We,"m",ki).call(this,w),k.current_tool_call_index!=null&&_(this,We,"m",Si).call(this,w,k.current_tool_call_index));for(const R of j.delta.tool_calls??[])k.current_tool_call_index!==R.index&&(_(this,We,"m",ki).call(this,w),k.current_tool_call_index!=null&&_(this,We,"m",Si).call(this,w,k.current_tool_call_index)),k.current_tool_call_index=R.index;for(const R of j.delta.tool_calls??[]){const C=(p=w.message.tool_calls)==null?void 0:p[R.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=C.function)==null?void 0:y.name,index:R.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((v=R.function)==null?void 0:v.arguments)??""}):(C==null||C.type,void 0))}}},Si=function(r,n){var i,l,d;if(_(this,We,"m",oa).call(this,r).done_tool_calls.has(n))return;const o=(i=r.message.tool_calls)==null?void 0:i[n];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const c=(d=(l=_(this,rs,"f"))==null?void 0:l.tools)==null?void 0:d.find(u=>Qa(u)&&u.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:n,arguments:o.function.arguments,parsed_arguments:zn(c)?c.$parseRaw(o.function.arguments):c!=null&&c.function.strict?JSON.parse(o.function.arguments):null})}else o.type},ki=function(r){var a,o;const n=_(this,We,"m",oa).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const i=_(this,We,"m",Ci).call(this);this._emit("content.done",{content:r.message.content,parsed:i?i.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(a=r.logprobs)!=null&&a.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(o=r.logprobs)!=null&&o.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},ia=function(){if(this.ended)throw new he("stream has ended, this shouldn't happen");const r=_(this,vs,"f");if(!r)throw new he("request ended without sending any chunks");return xe(this,vs,void 0),xe(this,lr,[]),k_(r,_(this,rs,"f"))},Ci=function(){var n;const r=(n=_(this,rs,"f"))==null?void 0:n.response_format;return _c(r)?r:null},Cu=function(r){var n,a,o,i;let l=_(this,vs,"f");const{choices:d,...c}=r;l?Object.assign(l,c):l=xe(this,vs,{...c,choices:[]});for(const{delta:u,finish_reason:f,index:x,logprobs:h=null,...b}of r.choices){let g=l.choices[x];if(g||(g=l.choices[x]={finish_reason:f,index:x,message:{},logprobs:h,...b}),h)if(!g.logprobs)g.logprobs=Object.assign({},h);else{const{content:R,refusal:C,...E}=h;Object.assign(g.logprobs,E),R&&((n=g.logprobs).content??(n.content=[]),g.logprobs.content.push(...R)),C&&((a=g.logprobs).refusal??(a.refusal=[]),g.logprobs.refusal.push(...C))}if(f&&(g.finish_reason=f,_(this,rs,"f")&&Ag(_(this,rs,"f")))){if(f==="length")throw new ug;if(f==="content_filter")throw new mg}if(Object.assign(g,b),!u)continue;const{content:p,refusal:y,function_call:v,role:j,tool_calls:w,...k}=u;if(Object.assign(g.message,k),y&&(g.message.refusal=(g.message.refusal||"")+y),j&&(g.message.role=j),v&&(g.message.function_call?(v.name&&(g.message.function_call.name=v.name),v.arguments&&((o=g.message.function_call).arguments??(o.arguments=""),g.message.function_call.arguments+=v.arguments)):g.message.function_call=v),p&&(g.message.content=(g.message.content||"")+p,!g.message.refusal&&_(this,We,"m",Ci).call(this)&&(g.message.parsed=ku(g.message.content))),w){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:R,id:C,type:E,function:O,...B}of w){const q=(i=g.message.tool_calls)[R]??(i[R]={});Object.assign(q,B),C&&(q.id=C),E&&(q.type=E),O&&(q.function??(q.function={name:O.name??"",arguments:""})),O!=null&&O.name&&(q.function.name=O.name),O!=null&&O.arguments&&(q.function.arguments+=O.arguments,p_(_(this,rs,"f"),q)&&(q.function.parsed_arguments=ku(q.function.arguments)))}}}return l},Symbol.asyncIterator)](){const s=[],r=[];let n=!1;return this.on("chunk",a=>{const o=r.shift();o?o.resolve(a):s.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const o of r)o.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const o of r)o.reject(a);r.length=0}),{next:async()=>s.length?{value:s.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,i)=>r.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Xt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function k_(t,s){const{id:r,choices:n,created:a,model:o,system_fingerprint:i,...l}=t,d={...l,id:r,choices:n.map(({message:c,finish_reason:u,index:f,logprobs:x,...h})=>{if(!u)throw new he(`missing finish_reason for choice ${f}`);const{content:b=null,function_call:g,tool_calls:p,...y}=c,v=c.role;if(!v)throw new he(`missing role for choice ${f}`);if(g){const{arguments:j,name:w}=g;if(j==null)throw new he(`missing function_call.arguments for choice ${f}`);if(!w)throw new he(`missing function_call.name for choice ${f}`);return{...h,message:{content:b,function_call:{arguments:j,name:w},role:v,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:x}}return p?{...h,index:f,finish_reason:u,logprobs:x,message:{...y,role:v,content:b,refusal:c.refusal??null,tool_calls:p.map((j,w)=>{const{function:k,type:R,id:C,...E}=j,{arguments:O,name:B,...q}=k||{};if(C==null)throw new he(`missing choices[${f}].tool_calls[${w}].id
${la(t)}`);if(R==null)throw new he(`missing choices[${f}].tool_calls[${w}].type
${la(t)}`);if(B==null)throw new he(`missing choices[${f}].tool_calls[${w}].function.name
${la(t)}`);if(O==null)throw new he(`missing choices[${f}].tool_calls[${w}].function.arguments
${la(t)}`);return{...E,id:C,type:R,function:{...q,name:B,arguments:O}}})}}:{...h,message:{...y,content:b,role:v,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:x}}),created:a,model:o,object:"chat.completion",...i?{system_fingerprint:i}:{}};return h_(d,s)}function la(t){return JSON.stringify(t)}class ro extends Nn{static fromReadableStream(s){const r=new ro(null);return r._run(()=>r._fromReadableStream(s)),r}static runTools(s,r,n){const a=new ro(r),o={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(s,r,o)),a}}let Pc=class extends fe{constructor(){super(...arguments),this.messages=new _g(this._client)}create(s,r){return this._client.post("/chat/completions",{body:s,...r,stream:s.stream??!1})}retrieve(s,r){return this._client.get(G`/chat/completions/${s}`,r)}update(s,r,n){return this._client.post(G`/chat/completions/${s}`,{body:r,...n})}list(s={},r){return this._client.getAPIList("/chat/completions",ze,{query:s,...r})}delete(s,r){return this._client.delete(G`/chat/completions/${s}`,r)}parse(s,r){return g_(s.tools),this._client.chat.completions.create(s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>Ac(n,s))}runTools(s,r){return s.stream?ro.runTools(this._client,s,r):Tc.runTools(this._client,s,r)}stream(s,r){return Nn.createChatCompletion(this._client,s,r)}};Pc.Messages=_g;class Ic extends fe{constructor(){super(...arguments),this.completions=new Pc(this._client)}}Ic.Completions=Pc;const Xg=Symbol("brand.privateNullableHeaders");function*C_(t){if(!t)return;if(Xg in t){const{values:n,nulls:a}=t;yield*n.entries();for(const o of a)yield[o,null];return}let s=!1,r;t instanceof Headers?r=t.entries():uu(t)?r=t:(s=!0,r=Object.entries(t??{}));for(let n of r){const a=n[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const o=uu(n[1])?n[1]:[n[1]];let i=!1;for(const l of o)l!==void 0&&(s&&!i&&(i=!0,yield[a,null]),yield[a,l])}}const ce=t=>{const s=new Headers,r=new Set;for(const n of t){const a=new Set;for(const[o,i]of C_(n)){const l=o.toLowerCase();a.has(l)||(s.delete(o),a.add(l)),i===null?(s.delete(o),r.add(l)):(s.append(o,i),r.delete(l))}}return{[Xg]:!0,values:s,nulls:r}};class Yg extends fe{create(s,r){return this._client.post("/audio/speech",{body:s,...r,headers:ce([{Accept:"application/octet-stream"},r==null?void 0:r.headers]),__binaryResponse:!0})}}class Jg extends fe{create(s,r){return this._client.post("/audio/transcriptions",Xs({body:s,...r,stream:s.stream??!1,__metadata:{model:s.model}},this._client))}}class Qg extends fe{create(s,r){return this._client.post("/audio/translations",Xs({body:s,...r,__metadata:{model:s.model}},this._client))}}class Wn extends fe{constructor(){super(...arguments),this.transcriptions=new Jg(this._client),this.translations=new Qg(this._client),this.speech=new Yg(this._client)}}Wn.Transcriptions=Jg;Wn.Translations=Qg;Wn.Speech=Yg;class Zg extends fe{create(s,r){return this._client.post("/batches",{body:s,...r})}retrieve(s,r){return this._client.get(G`/batches/${s}`,r)}list(s={},r){return this._client.getAPIList("/batches",ze,{query:s,...r})}cancel(s,r){return this._client.post(G`/batches/${s}/cancel`,r)}}class eb extends fe{create(s,r){return this._client.post("/assistants",{body:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(s,r){return this._client.get(G`/assistants/${s}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(s,r,n){return this._client.post(G`/assistants/${s}`,{body:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(s={},r){return this._client.getAPIList("/assistants",ze,{query:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(s,r){return this._client.delete(G`/assistants/${s}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class tb extends fe{create(s,r){return this._client.post("/realtime/sessions",{body:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class sb extends fe{create(s,r){return this._client.post("/realtime/transcription_sessions",{body:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Xo extends fe{constructor(){super(...arguments),this.sessions=new tb(this._client),this.transcriptionSessions=new sb(this._client)}}Xo.Sessions=tb;Xo.TranscriptionSessions=sb;class rb extends fe{create(s,r,n){return this._client.post(G`/threads/${s}/messages`,{body:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(s,r,n){const{thread_id:a}=r;return this._client.get(G`/threads/${a}/messages/${s}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(s,r,n){const{thread_id:a,...o}=r;return this._client.post(G`/threads/${a}/messages/${s}`,{body:o,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(s,r={},n){return this._client.getAPIList(G`/threads/${s}/messages`,ze,{query:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(s,r,n){const{thread_id:a}=r;return this._client.delete(G`/threads/${a}/messages/${s}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class nb extends fe{retrieve(s,r,n){const{thread_id:a,run_id:o,...i}=r;return this._client.get(G`/threads/${a}/runs/${o}/steps/${s}`,{query:i,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(s,r,n){const{thread_id:a,...o}=r;return this._client.getAPIList(G`/threads/${a}/runs/${s}/steps`,ze,{query:o,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}const R_=t=>{if(typeof Buffer<"u"){const s=Buffer.from(t,"base64");return Array.from(new Float32Array(s.buffer,s.byteOffset,s.length/Float32Array.BYTES_PER_ELEMENT))}else{const s=atob(t),r=s.length,n=new Uint8Array(r);for(let a=0;a<r;a++)n[a]=s.charCodeAt(a);return Array.from(new Float32Array(n.buffer))}};var Ri={};const cr=t=>{var s,r,n,a;if(typeof globalThis.process<"u")return((s=Ri==null?void 0:Ri[t])==null?void 0:s.trim())??void 0;if(typeof globalThis.Deno<"u")return(a=(n=(r=globalThis.Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,t))==null?void 0:a.trim()};var Ye,$s,pl,qt,ka,Ot,Bs,xr,Ms,no,gt,Ca,Ra,an,tn,sn,Ru,_u,Au,Eu,Tu,Pu,Iu;class on extends Ec{constructor(){super(...arguments),Ye.add(this),pl.set(this,[]),qt.set(this,{}),ka.set(this,{}),Ot.set(this,void 0),Bs.set(this,void 0),xr.set(this,void 0),Ms.set(this,void 0),no.set(this,void 0),gt.set(this,void 0),Ca.set(this,void 0),Ra.set(this,void 0),an.set(this,void 0)}[(pl=new WeakMap,qt=new WeakMap,ka=new WeakMap,Ot=new WeakMap,Bs=new WeakMap,xr=new WeakMap,Ms=new WeakMap,no=new WeakMap,gt=new WeakMap,Ca=new WeakMap,Ra=new WeakMap,an=new WeakMap,Ye=new WeakSet,Symbol.asyncIterator)](){const s=[],r=[];let n=!1;return this.on("event",a=>{const o=r.shift();o?o.resolve(a):s.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const o of r)o.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const o of r)o.reject(a);r.length=0}),{next:async()=>s.length?{value:s.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,i)=>r.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(s){const r=new $s;return r._run(()=>r._fromReadableStream(s)),r}async _fromReadableStream(s,r){var o;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=Xt.fromReadableStream(s,this.controller);for await(const i of a)_(this,Ye,"m",tn).call(this,i);if((o=a.controller.signal)!=null&&o.aborted)throw new Ct;return this._addRun(_(this,Ye,"m",sn).call(this))}toReadableStream(){return new Xt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(s,r,n,a){const o=new $s;return o._run(()=>o._runToolAssistantStream(s,r,n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(s,r,n,a){var d;const o=a==null?void 0:a.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},l=await s.submitToolOutputs(r,i,{...a,signal:this.controller.signal});this._connected();for await(const c of l)_(this,Ye,"m",tn).call(this,c);if((d=l.controller.signal)!=null&&d.aborted)throw new Ct;return this._addRun(_(this,Ye,"m",sn).call(this))}static createThreadAssistantStream(s,r,n){const a=new $s;return a._run(()=>a._threadAssistantStream(s,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(s,r,n,a){const o=new $s;return o._run(()=>o._runAssistantStream(s,r,n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return _(this,Ca,"f")}currentRun(){return _(this,Ra,"f")}currentMessageSnapshot(){return _(this,Ot,"f")}currentRunStepSnapshot(){return _(this,an,"f")}async finalRunSteps(){return await this.done(),Object.values(_(this,qt,"f"))}async finalMessages(){return await this.done(),Object.values(_(this,ka,"f"))}async finalRun(){if(await this.done(),!_(this,Bs,"f"))throw Error("Final run was not received.");return _(this,Bs,"f")}async _createThreadAssistantStream(s,r,n){var l;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},i=await s.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(const d of i)_(this,Ye,"m",tn).call(this,d);if((l=i.controller.signal)!=null&&l.aborted)throw new Ct;return this._addRun(_(this,Ye,"m",sn).call(this))}async _createAssistantStream(s,r,n,a){var d;const o=a==null?void 0:a.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},l=await s.create(r,i,{...a,signal:this.controller.signal});this._connected();for await(const c of l)_(this,Ye,"m",tn).call(this,c);if((d=l.controller.signal)!=null&&d.aborted)throw new Ct;return this._addRun(_(this,Ye,"m",sn).call(this))}static accumulateDelta(s,r){for(const[n,a]of Object.entries(r)){if(!s.hasOwnProperty(n)){s[n]=a;continue}let o=s[n];if(o==null){s[n]=a;continue}if(n==="index"||n==="type"){s[n]=a;continue}if(typeof o=="string"&&typeof a=="string")o+=a;else if(typeof o=="number"&&typeof a=="number")o+=a;else if(vi(o)&&vi(a))o=this.accumulateDelta(o,a);else if(Array.isArray(o)&&Array.isArray(a)){if(o.every(i=>typeof i=="string"||typeof i=="number")){o.push(...a);continue}for(const i of a){if(!vi(i))throw new Error(`Expected array delta entry to be an object but got: ${i}`);const l=i.index;if(l==null)throw console.error(i),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const d=o[l];d==null?o.push(i):o[l]=this.accumulateDelta(d,i)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${a}, accValue: ${o}`);s[n]=o}return s}_addRun(s){return s}async _threadAssistantStream(s,r,n){return await this._createThreadAssistantStream(r,s,n)}async _runAssistantStream(s,r,n,a){return await this._createAssistantStream(r,s,n,a)}async _runToolAssistantStream(s,r,n,a){return await this._createToolAssistantStream(r,s,n,a)}}$s=on,tn=function(s){if(!this.ended)switch(xe(this,Ca,s),_(this,Ye,"m",Au).call(this,s),s.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":_(this,Ye,"m",Iu).call(this,s);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_(this,Ye,"m",_u).call(this,s);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":_(this,Ye,"m",Ru).call(this,s);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},sn=function(){if(this.ended)throw new he("stream has ended, this shouldn't happen");if(!_(this,Bs,"f"))throw Error("Final run has not been received");return _(this,Bs,"f")},Ru=function(s){const[r,n]=_(this,Ye,"m",Tu).call(this,s,_(this,Ot,"f"));xe(this,Ot,r),_(this,ka,"f")[r.id]=r;for(const a of n){const o=r.content[a.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(s.event){case"thread.message.created":this._emit("messageCreated",s.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",s.data.delta,r),s.data.delta.content)for(const a of s.data.delta.content){if(a.type=="text"&&a.text){let o=a.text,i=r.content[a.index];if(i&&i.type=="text")this._emit("textDelta",o,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=_(this,xr,"f")){if(_(this,Ms,"f"))switch(_(this,Ms,"f").type){case"text":this._emit("textDone",_(this,Ms,"f").text,_(this,Ot,"f"));break;case"image_file":this._emit("imageFileDone",_(this,Ms,"f").image_file,_(this,Ot,"f"));break}xe(this,xr,a.index)}xe(this,Ms,r.content[a.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(_(this,xr,"f")!==void 0){const a=s.data.content[_(this,xr,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,_(this,Ot,"f"));break;case"text":this._emit("textDone",a.text,_(this,Ot,"f"));break}}_(this,Ot,"f")&&this._emit("messageDone",s.data),xe(this,Ot,void 0)}},_u=function(s){const r=_(this,Ye,"m",Eu).call(this,s);switch(xe(this,an,r),s.event){case"thread.run.step.created":this._emit("runStepCreated",s.data);break;case"thread.run.step.delta":const n=s.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const o of n.step_details.tool_calls)o.index==_(this,no,"f")?this._emit("toolCallDelta",o,r.step_details.tool_calls[o.index]):(_(this,gt,"f")&&this._emit("toolCallDone",_(this,gt,"f")),xe(this,no,o.index),xe(this,gt,r.step_details.tool_calls[o.index]),_(this,gt,"f")&&this._emit("toolCallCreated",_(this,gt,"f")));this._emit("runStepDelta",s.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":xe(this,an,void 0),s.data.step_details.type=="tool_calls"&&_(this,gt,"f")&&(this._emit("toolCallDone",_(this,gt,"f")),xe(this,gt,void 0)),this._emit("runStepDone",s.data,r);break}},Au=function(s){_(this,pl,"f").push(s),this._emit("event",s)},Eu=function(s){switch(s.event){case"thread.run.step.created":return _(this,qt,"f")[s.data.id]=s.data,s.data;case"thread.run.step.delta":let r=_(this,qt,"f")[s.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=s.data;if(n.delta){const a=$s.accumulateDelta(r,n.delta);_(this,qt,"f")[s.data.id]=a}return _(this,qt,"f")[s.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":_(this,qt,"f")[s.data.id]=s.data;break}if(_(this,qt,"f")[s.data.id])return _(this,qt,"f")[s.data.id];throw new Error("No snapshot available")},Tu=function(s,r){let n=[];switch(s.event){case"thread.message.created":return[s.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=s.data;if(a.delta.content)for(const o of a.delta.content)if(o.index in r.content){let i=r.content[o.index];r.content[o.index]=_(this,Ye,"m",Pu).call(this,o,i)}else r.content[o.index]=o,n.push(o);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Pu=function(s,r){return $s.accumulateDelta(r,s)},Iu=function(s){switch(xe(this,Ra,s.data),s.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":xe(this,Bs,s.data),_(this,gt,"f")&&(this._emit("toolCallDone",_(this,gt,"f")),xe(this,gt,void 0));break}};let Dc=class extends fe{constructor(){super(...arguments),this.steps=new nb(this._client)}create(s,r,n){const{include:a,...o}=r;return this._client.post(G`/threads/${s}/runs`,{query:{include:a},body:o,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:r.stream??!1})}retrieve(s,r,n){const{thread_id:a}=r;return this._client.get(G`/threads/${a}/runs/${s}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(s,r,n){const{thread_id:a,...o}=r;return this._client.post(G`/threads/${a}/runs/${s}`,{body:o,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(s,r={},n){return this._client.getAPIList(G`/threads/${s}/runs`,ze,{query:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}cancel(s,r,n){const{thread_id:a}=r;return this._client.post(G`/threads/${a}/runs/${s}/cancel`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(s,r,n){const a=await this.create(s,r,n);return await this.poll(a.id,{thread_id:s},n)}createAndStream(s,r,n){return on.createAssistantStream(s,this._client.beta.threads.runs,r,n)}async poll(s,r,n){var o;const a=ce([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=n==null?void 0:n.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:i,response:l}=await this.retrieve(s,r,{...n,headers:{...n==null?void 0:n.headers,...a}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let d=5e3;if(n!=null&&n.pollIntervalMs)d=n.pollIntervalMs;else{const c=l.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(d=u)}}await Un(d);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(s,r,n){return on.createAssistantStream(s,this._client.beta.threads.runs,r,n)}submitToolOutputs(s,r,n){const{thread_id:a,...o}=r;return this._client.post(G`/threads/${a}/runs/${s}/submit_tool_outputs`,{body:o,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(s,r,n){const a=await this.submitToolOutputs(s,r,n);return await this.poll(a.id,r,n)}submitToolOutputsStream(s,r,n){return on.createToolAssistantStream(s,this._client.beta.threads.runs,r,n)}};Dc.Steps=nb;class Yo extends fe{constructor(){super(...arguments),this.runs=new Dc(this._client),this.messages=new rb(this._client)}create(s={},r){return this._client.post("/threads",{body:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(s,r){return this._client.get(G`/threads/${s}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(s,r,n){return this._client.post(G`/threads/${s}`,{body:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(s,r){return this._client.delete(G`/threads/${s}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}createAndRun(s,r){return this._client.post("/threads/runs",{body:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:s.stream??!1})}async createAndRunPoll(s,r){const n=await this.createAndRun(s,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(s,r){return on.createThreadAssistantStream(s,this._client.beta.threads,r)}}Yo.Runs=Dc;Yo.Messages=rb;class Hn extends fe{constructor(){super(...arguments),this.realtime=new Xo(this._client),this.assistants=new eb(this._client),this.threads=new Yo(this._client)}}Hn.Realtime=Xo;Hn.Assistants=eb;Hn.Threads=Yo;class ab extends fe{create(s,r){return this._client.post("/completions",{body:s,...r,stream:s.stream??!1})}}class ob extends fe{retrieve(s,r,n){const{container_id:a}=r;return this._client.get(G`/containers/${a}/files/${s}/content`,{...n,headers:ce([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}}let Oc=class extends fe{constructor(){super(...arguments),this.content=new ob(this._client)}create(s,r,n){return this._client.post(G`/containers/${s}/files`,Xs({body:r,...n},this._client))}retrieve(s,r,n){const{container_id:a}=r;return this._client.get(G`/containers/${a}/files/${s}`,n)}list(s,r={},n){return this._client.getAPIList(G`/containers/${s}/files`,ze,{query:r,...n})}delete(s,r,n){const{container_id:a}=r;return this._client.delete(G`/containers/${a}/files/${s}`,{...n,headers:ce([{Accept:"*/*"},n==null?void 0:n.headers])})}};Oc.Content=ob;class Mc extends fe{constructor(){super(...arguments),this.files=new Oc(this._client)}create(s,r){return this._client.post("/containers",{body:s,...r})}retrieve(s,r){return this._client.get(G`/containers/${s}`,r)}list(s={},r){return this._client.getAPIList("/containers",ze,{query:s,...r})}delete(s,r){return this._client.delete(G`/containers/${s}`,{...r,headers:ce([{Accept:"*/*"},r==null?void 0:r.headers])})}}Mc.Files=Oc;class ib extends fe{create(s,r,n){const{include:a,...o}=r;return this._client.post(G`/conversations/${s}/items`,{query:{include:a},body:o,...n})}retrieve(s,r,n){const{conversation_id:a,...o}=r;return this._client.get(G`/conversations/${a}/items/${s}`,{query:o,...n})}list(s,r={},n){return this._client.getAPIList(G`/conversations/${s}/items`,n_,{query:r,...n})}delete(s,r,n){const{conversation_id:a}=r;return this._client.delete(G`/conversations/${a}/items/${s}`,n)}}class Lc extends fe{constructor(){super(...arguments),this.items=new ib(this._client)}create(s,r){return this._client.post("/conversations",{body:s,...r})}retrieve(s,r){return this._client.get(G`/conversations/${s}`,r)}update(s,r,n){return this._client.post(G`/conversations/${s}`,{body:r,...n})}delete(s,r){return this._client.delete(G`/conversations/${s}`,r)}}Lc.Items=ib;class lb extends fe{create(s,r){const n=!!s.encoding_format;let a=n?s.encoding_format:"base64";n&&Xe(this._client).debug("embeddings/user defined encoding_format:",s.encoding_format);const o=this._client.post("/embeddings",{body:{...s,encoding_format:a},...r});return n?o:(Xe(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(i=>(i&&i.data&&i.data.forEach(l=>{const d=l.embedding;l.embedding=R_(d)}),i)))}}class cb extends fe{retrieve(s,r,n){const{eval_id:a,run_id:o}=r;return this._client.get(G`/evals/${a}/runs/${o}/output_items/${s}`,n)}list(s,r,n){const{eval_id:a,...o}=r;return this._client.getAPIList(G`/evals/${a}/runs/${s}/output_items`,ze,{query:o,...n})}}class Fc extends fe{constructor(){super(...arguments),this.outputItems=new cb(this._client)}create(s,r,n){return this._client.post(G`/evals/${s}/runs`,{body:r,...n})}retrieve(s,r,n){const{eval_id:a}=r;return this._client.get(G`/evals/${a}/runs/${s}`,n)}list(s,r={},n){return this._client.getAPIList(G`/evals/${s}/runs`,ze,{query:r,...n})}delete(s,r,n){const{eval_id:a}=r;return this._client.delete(G`/evals/${a}/runs/${s}`,n)}cancel(s,r,n){const{eval_id:a}=r;return this._client.post(G`/evals/${a}/runs/${s}`,n)}}Fc.OutputItems=cb;class $c extends fe{constructor(){super(...arguments),this.runs=new Fc(this._client)}create(s,r){return this._client.post("/evals",{body:s,...r})}retrieve(s,r){return this._client.get(G`/evals/${s}`,r)}update(s,r,n){return this._client.post(G`/evals/${s}`,{body:r,...n})}list(s={},r){return this._client.getAPIList("/evals",ze,{query:s,...r})}delete(s,r){return this._client.delete(G`/evals/${s}`,r)}}$c.Runs=Fc;let db=class extends fe{create(s,r){return this._client.post("/files",Xs({body:s,...r},this._client))}retrieve(s,r){return this._client.get(G`/files/${s}`,r)}list(s={},r){return this._client.getAPIList("/files",ze,{query:s,...r})}delete(s,r){return this._client.delete(G`/files/${s}`,r)}content(s,r){return this._client.get(G`/files/${s}/content`,{...r,headers:ce([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}async waitForProcessing(s,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),o=Date.now();let i=await this.retrieve(s);for(;!i.status||!a.has(i.status);)if(await Un(r),i=await this.retrieve(s),Date.now()-o>n)throw new kc({message:`Giving up on waiting for file ${s} to finish processing after ${n} milliseconds.`});return i}};class ub extends fe{}let mb=class extends fe{run(s,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:s,...r})}validate(s,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:s,...r})}};class Bc extends fe{constructor(){super(...arguments),this.graders=new mb(this._client)}}Bc.Graders=mb;class hb extends fe{create(s,r,n){return this._client.getAPIList(G`/fine_tuning/checkpoints/${s}/permissions`,Go,{body:r,method:"post",...n})}retrieve(s,r={},n){return this._client.get(G`/fine_tuning/checkpoints/${s}/permissions`,{query:r,...n})}delete(s,r,n){const{fine_tuned_model_checkpoint:a}=r;return this._client.delete(G`/fine_tuning/checkpoints/${a}/permissions/${s}`,n)}}let Uc=class extends fe{constructor(){super(...arguments),this.permissions=new hb(this._client)}};Uc.Permissions=hb;class fb extends fe{list(s,r={},n){return this._client.getAPIList(G`/fine_tuning/jobs/${s}/checkpoints`,ze,{query:r,...n})}}class zc extends fe{constructor(){super(...arguments),this.checkpoints=new fb(this._client)}create(s,r){return this._client.post("/fine_tuning/jobs",{body:s,...r})}retrieve(s,r){return this._client.get(G`/fine_tuning/jobs/${s}`,r)}list(s={},r){return this._client.getAPIList("/fine_tuning/jobs",ze,{query:s,...r})}cancel(s,r){return this._client.post(G`/fine_tuning/jobs/${s}/cancel`,r)}listEvents(s,r={},n){return this._client.getAPIList(G`/fine_tuning/jobs/${s}/events`,ze,{query:r,...n})}pause(s,r){return this._client.post(G`/fine_tuning/jobs/${s}/pause`,r)}resume(s,r){return this._client.post(G`/fine_tuning/jobs/${s}/resume`,r)}}zc.Checkpoints=fb;class Lr extends fe{constructor(){super(...arguments),this.methods=new ub(this._client),this.jobs=new zc(this._client),this.checkpoints=new Uc(this._client),this.alpha=new Bc(this._client)}}Lr.Methods=ub;Lr.Jobs=zc;Lr.Checkpoints=Uc;Lr.Alpha=Bc;class xb extends fe{}class Wc extends fe{constructor(){super(...arguments),this.graderModels=new xb(this._client)}}Wc.GraderModels=xb;class pb extends fe{createVariation(s,r){return this._client.post("/images/variations",Xs({body:s,...r},this._client))}edit(s,r){return this._client.post("/images/edits",Xs({body:s,...r,stream:s.stream??!1},this._client))}generate(s,r){return this._client.post("/images/generations",{body:s,...r,stream:s.stream??!1})}}class gb extends fe{retrieve(s,r){return this._client.get(G`/models/${s}`,r)}list(s){return this._client.getAPIList("/models",Go,s)}delete(s,r){return this._client.delete(G`/models/${s}`,r)}}class bb extends fe{create(s,r){return this._client.post("/moderations",{body:s,...r})}}function __(t,s){return!s||!E_(s)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:vb(t,s)}function vb(t,s){const r=t.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:I_(s,a)};if(a.type==="message"){const o=a.content.map(i=>i.type==="output_text"?{...i,parsed:A_(s,i.text)}:i);return{...a,content:o}}return a}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||gl(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const a of n.output)if(a.type==="message"){for(const o of a.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),n}function A_(t,s){var r,n,a,o;return((n=(r=t.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((a=t.text)==null?void 0:a.format)?((o=t.text)==null?void 0:o.format).$parseRaw(s):JSON.parse(s)}function E_(t){var s;return!!_c((s=t.text)==null?void 0:s.format)}function T_(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function P_(t,s){return t.find(r=>r.type==="function"&&r.name===s)}function I_(t,s){const r=P_(t.tools??[],s.name);return{...s,...s,parsed_arguments:T_(r)?r.$parseRaw(s.arguments):r!=null&&r.strict?JSON.parse(s.arguments):null}}function gl(t){const s=[];for(const r of t.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&s.push(n.text);t.output_text=s.join("")}var dr,ca,ys,da,Du,Ou,Mu,Lu;class Hc extends Ec{constructor(s){super(),dr.add(this),ca.set(this,void 0),ys.set(this,void 0),da.set(this,void 0),xe(this,ca,s)}static createResponse(s,r,n){const a=new Hc(r);return a._run(()=>a._createOrRetrieveResponse(s,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createOrRetrieveResponse(s,r,n){var l;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),_(this,dr,"m",Du).call(this);let o,i=null;"response_id"in r?(o=await s.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),i=r.starting_after??null):o=await s.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const d of o)_(this,dr,"m",Ou).call(this,d,i);if((l=o.controller.signal)!=null&&l.aborted)throw new Ct;return _(this,dr,"m",Mu).call(this)}[(ca=new WeakMap,ys=new WeakMap,da=new WeakMap,dr=new WeakSet,Du=function(){this.ended||xe(this,ys,void 0)},Ou=function(r,n){if(this.ended)return;const a=(i,l)=>{(n==null||l.sequence_number>n)&&this._emit(i,l)},o=_(this,dr,"m",Lu).call(this,r);switch(a("event",r),r.type){case"response.output_text.delta":{const i=o.output[r.output_index];if(!i)throw new he(`missing output at index ${r.output_index}`);if(i.type==="message"){const l=i.content[r.content_index];if(!l)throw new he(`missing content at index ${r.content_index}`);if(l.type!=="output_text")throw new he(`expected content to be 'output_text', got ${l.type}`);a("response.output_text.delta",{...r,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const i=o.output[r.output_index];if(!i)throw new he(`missing output at index ${r.output_index}`);i.type==="function_call"&&a("response.function_call_arguments.delta",{...r,snapshot:i.arguments});break}default:a(r.type,r);break}},Mu=function(){if(this.ended)throw new he("stream has ended, this shouldn't happen");const r=_(this,ys,"f");if(!r)throw new he("request ended without sending any events");xe(this,ys,void 0);const n=D_(r,_(this,ca,"f"));return xe(this,da,n),n},Lu=function(r){let n=_(this,ys,"f");if(!n){if(r.type!=="response.created")throw new he(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=xe(this,ys,r.response),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const a=n.output[r.output_index];if(!a)throw new he(`missing output at index ${r.output_index}`);a.type==="message"&&a.content.push(r.part);break}case"response.output_text.delta":{const a=n.output[r.output_index];if(!a)throw new he(`missing output at index ${r.output_index}`);if(a.type==="message"){const o=a.content[r.content_index];if(!o)throw new he(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new he(`expected content to be 'output_text', got ${o.type}`);o.text+=r.delta}break}case"response.function_call_arguments.delta":{const a=n.output[r.output_index];if(!a)throw new he(`missing output at index ${r.output_index}`);a.type==="function_call"&&(a.arguments+=r.delta);break}case"response.completed":{xe(this,ys,r.response);break}}return n},Symbol.asyncIterator)](){const s=[],r=[];let n=!1;return this.on("event",a=>{const o=r.shift();o?o.resolve(a):s.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const o of r)o.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const o of r)o.reject(a);r.length=0}),{next:async()=>s.length?{value:s.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,i)=>r.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const s=_(this,da,"f");if(!s)throw new he("stream ended without producing a ChatCompletion");return s}}function D_(t,s){return __(t,s)}class yb extends fe{list(s,r={},n){return this._client.getAPIList(G`/responses/${s}/input_items`,ze,{query:r,...n})}}class qc extends fe{constructor(){super(...arguments),this.inputItems=new yb(this._client)}create(s,r){return this._client.post("/responses",{body:s,...r,stream:s.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&gl(n),n))}retrieve(s,r={},n){return this._client.get(G`/responses/${s}`,{query:r,...n,stream:(r==null?void 0:r.stream)??!1})._thenUnwrap(a=>("object"in a&&a.object==="response"&&gl(a),a))}delete(s,r){return this._client.delete(G`/responses/${s}`,{...r,headers:ce([{Accept:"*/*"},r==null?void 0:r.headers])})}parse(s,r){return this._client.responses.create(s,r)._thenUnwrap(n=>vb(n,s))}stream(s,r){return Hc.createResponse(this._client,s,r)}cancel(s,r){return this._client.post(G`/responses/${s}/cancel`,r)}}qc.InputItems=yb;class jb extends fe{create(s,r,n){return this._client.post(G`/uploads/${s}/parts`,Xs({body:r,...n},this._client))}}class Kc extends fe{constructor(){super(...arguments),this.parts=new jb(this._client)}create(s,r){return this._client.post("/uploads",{body:s,...r})}cancel(s,r){return this._client.post(G`/uploads/${s}/cancel`,r)}complete(s,r,n){return this._client.post(G`/uploads/${s}/complete`,{body:r,...n})}}Kc.Parts=jb;const O_=async t=>{const s=await Promise.allSettled(t),r=s.filter(a=>a.status==="rejected");if(r.length){for(const a of r)console.error(a.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const a of s)a.status==="fulfilled"&&n.push(a.value);return n};class wb extends fe{create(s,r,n){return this._client.post(G`/vector_stores/${s}/file_batches`,{body:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(s,r,n){const{vector_store_id:a}=r;return this._client.get(G`/vector_stores/${a}/file_batches/${s}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}cancel(s,r,n){const{vector_store_id:a}=r;return this._client.post(G`/vector_stores/${a}/file_batches/${s}/cancel`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(s,r,n){const a=await this.create(s,r);return await this.poll(s,a.id,n)}listFiles(s,r,n){const{vector_store_id:a,...o}=r;return this._client.getAPIList(G`/vector_stores/${a}/file_batches/${s}/files`,ze,{query:o,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async poll(s,r,n){var o;const a=ce([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=n==null?void 0:n.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:i,response:l}=await this.retrieve(r,{vector_store_id:s},{...n,headers:a}).withResponse();switch(i.status){case"in_progress":let d=5e3;if(n!=null&&n.pollIntervalMs)d=n.pollIntervalMs;else{const c=l.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(d=u)}}await Un(d);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(s,{files:r,fileIds:n=[]},a){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(a==null?void 0:a.maxConcurrency)??5,i=Math.min(o,r.length),l=this._client,d=r.values(),c=[...n];async function u(x){for(let h of x){const b=await l.files.create({file:h,purpose:"assistants"},a);c.push(b.id)}}const f=Array(i).fill(d).map(u);return await O_(f),await this.createAndPoll(s,{file_ids:c})}}class Nb extends fe{create(s,r,n){return this._client.post(G`/vector_stores/${s}/files`,{body:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(s,r,n){const{vector_store_id:a}=r;return this._client.get(G`/vector_stores/${a}/files/${s}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(s,r,n){const{vector_store_id:a,...o}=r;return this._client.post(G`/vector_stores/${a}/files/${s}`,{body:o,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(s,r={},n){return this._client.getAPIList(G`/vector_stores/${s}/files`,ze,{query:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(s,r,n){const{vector_store_id:a}=r;return this._client.delete(G`/vector_stores/${a}/files/${s}`,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}async createAndPoll(s,r,n){const a=await this.create(s,r,n);return await this.poll(s,a.id,n)}async poll(s,r,n){var o;const a=ce([n==null?void 0:n.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=n==null?void 0:n.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const i=await this.retrieve(r,{vector_store_id:s},{...n,headers:a}).withResponse(),l=i.data;switch(l.status){case"in_progress":let d=5e3;if(n!=null&&n.pollIntervalMs)d=n.pollIntervalMs;else{const c=i.response.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(d=u)}}await Un(d);break;case"failed":case"completed":return l}}}async upload(s,r,n){const a=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(s,{file_id:a.id},n)}async uploadAndPoll(s,r,n){const a=await this.upload(s,r,n);return await this.poll(s,a.id,n)}content(s,r,n){const{vector_store_id:a}=r;return this._client.getAPIList(G`/vector_stores/${a}/files/${s}/content`,Go,{...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Jo extends fe{constructor(){super(...arguments),this.files=new Nb(this._client),this.fileBatches=new wb(this._client)}create(s,r){return this._client.post("/vector_stores",{body:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(s,r){return this._client.get(G`/vector_stores/${s}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(s,r,n){return this._client.post(G`/vector_stores/${s}`,{body:r,...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}list(s={},r){return this._client.getAPIList("/vector_stores",ze,{query:s,...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(s,r){return this._client.delete(G`/vector_stores/${s}`,{...r,headers:ce([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}search(s,r,n){return this._client.getAPIList(G`/vector_stores/${s}/search`,Go,{body:r,method:"post",...n,headers:ce([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}Jo.Files=Nb;Jo.FileBatches=wb;var fr,Sb,_a;class kb extends fe{constructor(){super(...arguments),fr.add(this)}async unwrap(s,r,n=this._client.webhookSecret,a=300){return await this.verifySignature(s,r,n,a),JSON.parse(s)}async verifySignature(s,r,n=this._client.webhookSecret,a=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");_(this,fr,"m",Sb).call(this,n);const o=ce([r]).values,i=_(this,fr,"m",_a).call(this,o,"webhook-signature"),l=_(this,fr,"m",_a).call(this,o,"webhook-timestamp"),d=_(this,fr,"m",_a).call(this,o,"webhook-id"),c=parseInt(l,10);if(isNaN(c))throw new Gr("Invalid webhook timestamp format");const u=Math.floor(Date.now()/1e3);if(u-c>a)throw new Gr("Webhook timestamp is too old");if(c>u+a)throw new Gr("Webhook timestamp is too new");const f=i.split(" ").map(g=>g.startsWith("v1,")?g.substring(3):g),x=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),h=d?`${d}.${l}.${s}`:`${l}.${s}`,b=await crypto.subtle.importKey("raw",x,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const g of f)try{const p=Buffer.from(g,"base64");if(await crypto.subtle.verify("HMAC",b,p,new TextEncoder().encode(h)))return}catch{continue}throw new Gr("The given webhook signature does not match the expected signature")}}fr=new WeakSet,Sb=function(s){if(typeof s!="string"||s.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},_a=function(s,r){if(!s)throw new Error("Headers are required");const n=s.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var bl,Vc,Aa,Cb;class ke{constructor({baseURL:s=cr("OPENAI_BASE_URL"),apiKey:r=cr("OPENAI_API_KEY"),organization:n=cr("OPENAI_ORG_ID")??null,project:a=cr("OPENAI_PROJECT_ID")??null,webhookSecret:o=cr("OPENAI_WEBHOOK_SECRET")??null,...i}={}){if(bl.add(this),Aa.set(this,void 0),this.completions=new ab(this),this.chat=new Ic(this),this.embeddings=new lb(this),this.files=new db(this),this.images=new pb(this),this.audio=new Wn(this),this.moderations=new bb(this),this.models=new gb(this),this.fineTuning=new Lr(this),this.graders=new Wc(this),this.vectorStores=new Jo(this),this.webhooks=new kb(this),this.beta=new Hn(this),this.batches=new Zg(this),this.uploads=new Kc(this),this.responses=new qc(this),this.conversations=new Lc(this),this.evals=new $c(this),this.containers=new Mc(this),r===void 0)throw new he("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const l={apiKey:r,organization:n,project:a,webhookSecret:o,...i,baseURL:s||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&OR())throw new he(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=l.baseURL,this.timeout=l.timeout??Vc.DEFAULT_TIMEOUT,this.logger=l.logger??console;const d="warn";this.logLevel=d,this.logLevel=ju(l.logLevel,"ClientOptions.logLevel",this)??ju(cr("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??d,this.fetchOptions=l.fetchOptions,this.maxRetries=l.maxRetries??2,this.fetch=l.fetch??BR(),xe(this,Aa,zR),this._options=l,this.apiKey=r,this.organization=n,this.project=a,this.webhookSecret=o}withOptions(s){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...s})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:s,nulls:r}){}async authHeaders(s){return ce([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(s){return GR(s,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${mr}`}defaultIdempotencyKey(){return`stainless-node-retry-${sg()}`}makeStatusError(s,r,n,a){return Je.generate(s,r,n,a)}buildURL(s,r,n){const a=!_(this,bl,"m",Cb).call(this)&&n||this.baseURL,o=ER(s)?new URL(s):new URL(a+(a.endsWith("/")&&s.startsWith("/")?s.slice(1):s)),i=this.defaultQuery();return TR(i)||(r={...i,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(s){}async prepareRequest(s,{url:r,options:n}){}get(s,r){return this.methodRequest("get",s,r)}post(s,r){return this.methodRequest("post",s,r)}patch(s,r){return this.methodRequest("patch",s,r)}put(s,r){return this.methodRequest("put",s,r)}delete(s,r){return this.methodRequest("delete",s,r)}methodRequest(s,r,n){return this.request(Promise.resolve(n).then(a=>({method:s,path:r,...a})))}request(s,r=null){return new Vo(this,this.makeRequest(s,r,void 0))}async makeRequest(s,r,n){var y,v;const a=await s,o=a.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(a);const{req:i,url:l,timeout:d}=await this.buildRequest(a,{retryCount:o-r});await this.prepareRequest(i,{url:l,options:a});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,f=Date.now();if(Xe(this).debug(`[${c}] sending request`,Os({retryOfRequestLogID:n,method:a.method,url:l,options:a,headers:i.headers})),(y=a.signal)!=null&&y.aborted)throw new Ct;const x=new AbortController,h=await this.fetchWithTimeout(l,i,d,x).catch(il),b=Date.now();if(h instanceof Error){const j=`retrying, ${r} attempts remaining`;if((v=a.signal)!=null&&v.aborted)throw new Ct;const w=ol(h)||/timed? ?out/i.test(String(h)+("cause"in h?String(h.cause):""));if(r)return Xe(this).info(`[${c}] connection ${w?"timed out":"failed"} - ${j}`),Xe(this).debug(`[${c}] connection ${w?"timed out":"failed"} (${j})`,Os({retryOfRequestLogID:n,url:l,durationMs:b-f,message:h.message})),this.retryRequest(a,r,n??c);throw Xe(this).info(`[${c}] connection ${w?"timed out":"failed"} - error; no more retries left`),Xe(this).debug(`[${c}] connection ${w?"timed out":"failed"} (error; no more retries left)`,Os({retryOfRequestLogID:n,url:l,durationMs:b-f,message:h.message})),w?new kc:new qo({cause:h})}const g=[...h.headers.entries()].filter(([j])=>j==="x-request-id").map(([j,w])=>", "+j+": "+JSON.stringify(w)).join(""),p=`[${c}${u}${g}] ${i.method} ${l} ${h.ok?"succeeded":"failed"} with status ${h.status} in ${b-f}ms`;if(!h.ok){const j=await this.shouldRetry(h);if(r&&j){const O=`retrying, ${r} attempts remaining`;return await UR(h.body),Xe(this).info(`${p} - ${O}`),Xe(this).debug(`[${c}] response error (${O})`,Os({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:b-f})),this.retryRequest(a,r,n??c,h.headers)}const w=j?"error; no more retries left":"error; not retryable";Xe(this).info(`${p} - ${w}`);const k=await h.text().catch(O=>il(O).message),R=DR(k),C=R?void 0:k;throw Xe(this).debug(`[${c}] response error (${w})`,Os({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,message:C,durationMs:Date.now()-f})),this.makeStatusError(h.status,R,C,h.headers)}return Xe(this).info(p),Xe(this).debug(`[${c}] response start`,Os({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:b-f})),{response:h,options:a,controller:x,requestLogID:c,retryOfRequestLogID:n,startTime:f}}getAPIList(s,r,n){return this.requestAPIList(r,{method:"get",path:s,...n})}requestAPIList(s,r){const n=this.makeRequest(r,null,void 0);return new r_(this,n,s)}async fetchWithTimeout(s,r,n,a){const{signal:o,method:i,...l}=r||{};o&&o.addEventListener("abort",()=>a.abort());const d=setTimeout(()=>a.abort(),n),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,u={signal:a.signal,...c?{duplex:"half"}:{},method:"GET",...l};i&&(u.method=i.toUpperCase());try{return await this.fetch.call(void 0,s,u)}finally{clearTimeout(d)}}async shouldRetry(s){const r=s.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:s.status===408||s.status===409||s.status===429||s.status>=500}async retryRequest(s,r,n,a){let o;const i=a==null?void 0:a.get("retry-after-ms");if(i){const d=parseFloat(i);Number.isNaN(d)||(o=d)}const l=a==null?void 0:a.get("retry-after");if(l&&!o){const d=parseFloat(l);Number.isNaN(d)?o=Date.parse(l)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=s.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,d)}return await Un(o),this.makeRequest(s,r-1,n)}calculateDefaultRetryTimeoutMillis(s,r){const o=r-s,i=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return i*l*1e3}async buildRequest(s,{retryCount:r=0}={}){const n={...s},{method:a,path:o,query:i,defaultBaseURL:l}=n,d=this.buildURL(o,i,l);"timeout"in n&&IR("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:c,body:u}=this.buildBody({options:n}),f=await this.buildHeaders({options:s,method:a,bodyHeaders:c,retryCount:r});return{req:{method:a,headers:f,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:d,timeout:n.timeout}}async buildHeaders({options:s,method:r,bodyHeaders:n,retryCount:a}){let o={};this.idempotencyHeader&&r!=="get"&&(s.idempotencyKey||(s.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=s.idempotencyKey);const i=ce([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a),...s.timeout?{"X-Stainless-Timeout":String(Math.trunc(s.timeout/1e3))}:{},...$R(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(s),this._options.defaultHeaders,n,s.headers]);return this.validateHeaders(i),i.values}buildBody({options:{body:s,headers:r}}){if(!s)return{bodyHeaders:void 0,body:void 0};const n=ce([r]);return ArrayBuffer.isView(s)||s instanceof ArrayBuffer||s instanceof DataView||typeof s=="string"&&n.values.has("content-type")||s instanceof Blob||s instanceof FormData||s instanceof URLSearchParams||globalThis.ReadableStream&&s instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:s}:typeof s=="object"&&(Symbol.asyncIterator in s||Symbol.iterator in s&&"next"in s&&typeof s.next=="function")?{bodyHeaders:void 0,body:xg(s)}:_(this,Aa,"f").call(this,{body:s,headers:n})}}Vc=ke,Aa=new WeakMap,bl=new WeakSet,Cb=function(){return this.baseURL!=="https://api.openai.com/v1"};ke.OpenAI=Vc;ke.DEFAULT_TIMEOUT=6e5;ke.OpenAIError=he;ke.APIError=Je;ke.APIConnectionError=qo;ke.APIConnectionTimeoutError=kc;ke.APIUserAbortError=Ct;ke.NotFoundError=og;ke.ConflictError=ig;ke.RateLimitError=cg;ke.BadRequestError=rg;ke.AuthenticationError=ng;ke.InternalServerError=dg;ke.PermissionDeniedError=ag;ke.UnprocessableEntityError=lg;ke.InvalidWebhookSignatureError=Gr;ke.toFile=d_;ke.Completions=ab;ke.Chat=Ic;ke.Embeddings=lb;ke.Files=db;ke.Images=pb;ke.Audio=Wn;ke.Moderations=bb;ke.Models=gb;ke.FineTuning=Lr;ke.Graders=Wc;ke.VectorStores=Jo;ke.Webhooks=kb;ke.Beta=Hn;ke.Batches=Zg;ke.Uploads=Kc;ke.Responses=qc;ke.Conversations=Lc;ke.Evals=$c;ke.Containers=Mc;const M_=new ke({apiKey:"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",dangerouslyAllowBrowser:!0});class Rb{static async generateInsights(s){var r,n;try{const a=this.buildPrompt(s),i=(n=(r=(await M_.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a business analytics expert specializing in WhatsApp bot performance and e-commerce metrics. Provide actionable insights in Indonesian language with a professional yet friendly tone."},{role:"user",content:a}],max_tokens:1e3,temperature:.7})).choices[0])==null?void 0:r.message)==null?void 0:n.content;if(!i)throw new Error("No response from OpenAI");return this.parseInsightsResponse(i,s)}catch(a){return console.error("Error generating AI insights:",a),this.getFallbackInsights(s)}}static buildPrompt(s){return`
    Analyze the following WhatsApp bot performance data and provide 4-5 actionable business insights:

    Current Day Performance:
    - Transaksi Hari Ini: ${s.transaksiHariIni}
    - Pendapatan Hari Ini: ${s.pendapatanHariIni}

    Overall Performance:
    - Total Transaksi: ${s.totalTransaksi}
    - Total Pendapatan: ${s.totalPendapatan}

    Please provide insights in the following format:
    1. Growth Opportunity () - Focus on expansion and scaling
    2. High Engagement () - Highlight strong performance areas
    3. Optimization Tip () - Suggest improvements
    4. Data Quality () - Comment on data completeness
    5. Additional insight if relevant

    Each insight should be:
    - Actionable and specific
    - Written in Indonesian
    - Include relevant metrics
    - Suggest next steps
    - Be concise but informative

    Also provide:
    - A brief summary of the overall performance
    - 2-3 specific next actions the business should take
    `}static parseInsightsResponse(s,r){return{insights:[{type:"growth",title:" Growth Opportunity",description:`Transaksi hari ini: ${r.transaksiHariIni} dengan pendapatan ${this.formatCurrency(r.pendapatanHariIni)}. ${s.includes("pertumbuhan")?"Pertimbangkan untuk memperluas layanan.":"Identifikasi pola yang berhasil dan replikasi strategi ini."}`,emoji:"",priority:"high",actionable:!0,recommendation:"Analisis pola transaksi yang berhasil dan replikasi strategi marketing"},{type:"engagement",title:" High Engagement",description:`Total transaksi: ${r.totalTransaksi} dengan total pendapatan ${this.formatCurrency(r.totalPendapatan)}. Ini menunjukkan engagement yang kuat dari pengguna.`,emoji:"",priority:"medium",actionable:!1},{type:"optimization",title:" Optimization Tip",description:s.includes("optimasi")?s:"Analisis data menunjukkan peluang untuk optimasi. Pertimbangkan untuk menganalisis pola waktu transaksi dan meningkatkan responsivitas bot.",emoji:"",priority:"medium",actionable:!0,recommendation:"Implementasi fitur auto-reply untuk waktu puncak transaksi"},{type:"opportunity",title:" Data Quality",description:`Data collection Anda komprehensif dengan ${r.totalTransaksi} total transaksi tercatat. Ini memberikan visibilitas yang sangat baik ke dalam pola perilaku pengguna.`,emoji:"",priority:"low",actionable:!1}],summary:`Performa WhatsApp bot menunjukkan ${r.transaksiHariIni>0?"pertumbuhan positif":"stabilitas"} dengan ${r.transaksiHariIni} transaksi hari ini.`,nextActions:["Analisis pola transaksi yang berhasil","Implementasi fitur auto-reply untuk waktu puncak","Review dan optimasi alur konversi"]}}static getFallbackInsights(s){return{insights:[{type:"growth",title:" Growth Opportunity",description:`Transaksi hari ini: ${s.transaksiHariIni} dengan pendapatan ${this.formatCurrency(s.pendapatanHariIni)}. Pertimbangkan untuk memperluas layanan untuk mempertahankan pertumbuhan ini.`,emoji:"",priority:"high",actionable:!0,recommendation:"Analisis pola transaksi yang berhasil dan replikasi strategi"},{type:"engagement",title:" High Engagement",description:`Total transaksi: ${s.totalTransaksi} dengan total pendapatan ${this.formatCurrency(s.totalPendapatan)}. Ini menunjukkan engagement yang kuat dari pengguna.`,emoji:"",priority:"medium",actionable:!1},{type:"optimization",title:" Optimization Tip",description:"Peak transaction times appear to be during certain hours. Consider automated messaging during these periods to maximize conversions.",emoji:"",priority:"medium",actionable:!0,recommendation:"Implementasi fitur auto-reply untuk waktu puncak"},{type:"opportunity",title:" Data Quality",description:`Data collection Anda komprehensif dengan ${s.totalTransaksi} total transaksi tercatat. Ini memberikan visibilitas yang sangat baik ke dalam pola perilaku pengguna.`,emoji:"",priority:"low",actionable:!1}],summary:`Performa WhatsApp bot stabil dengan ${s.transaksiHariIni} transaksi hari ini.`,nextActions:["Analisis pola transaksi yang berhasil","Implementasi fitur auto-reply untuk waktu puncak","Review dan optimasi alur konversi"]}}static formatCurrency(s){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s)}}function L_(t){return Se({queryKey:["ai-insights",t],queryFn:()=>Rb.generateInsights(t),enabled:!!t.transaksiHariIni&&!!t.totalTransaksi,staleTime:1e3*60*60*8,gcTime:1e3*60*60*24,retry:2,retryDelay:1e3})}function F_(t){const{data:s,isLoading:r,error:n,dataUpdatedAt:a}=L_(t),o=s||Rb.getFallbackInsights(t),i=1e3*60*60*8,l=Date.now(),d=new Date(a||l),u=l-a>i?"stale":"fresh";return{insights:o,isLoading:r,error:n,hasAIInsights:!!s,lastUpdated:d,cacheStatus:u}}const $_={high:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},B_={growth:$e,engagement:Ma,optimization:Pa,warning:fn,opportunity:vt},U_={growth:"border-l-primary text-primary",engagement:"border-l-success text-success",optimization:"border-l-purple-500 text-purple-600 dark:text-purple-400",warning:"border-l-destructive text-destructive",opportunity:"border-l-info text-info"};function z_({insights:t,isLoading:s,hasAIInsights:r,onRefresh:n,lastUpdated:a,cacheStatus:o}){return s?e.jsxs(N,{className:"shadow-card border-0 bg-card/50 backdrop-blur-sm",children:[e.jsxs(M,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"}),e.jsx(L,{children:"AI-Powered Insights"})]}),e.jsx(Y,{children:"Generating intelligent insights from your data..."})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(i=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full"})]},i))})})]}):e.jsxs(N,{className:"shadow-card border-0 bg-card/50 backdrop-blur-sm",children:[e.jsxs(M,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(td,{className:"h-5 w-5 text-primary"}),e.jsx(L,{children:"AI-Powered Insights"}),r&&e.jsx(ae,{variant:"secondary",className:"text-xs",children:"AI Generated"})]}),n&&o==="stale"&&e.jsx(ee,{variant:"outline",size:"sm",onClick:n,className:"h-8 px-3",children:"Refresh AI Insights"})]}),e.jsxs(Y,{children:[r?"Intelligent analysis powered by OpenAI":"Fallback insights based on your data",a&&e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Last updated: ",a.toLocaleString("id-ID"),o&&e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${o==="fresh"?"bg-green-100 text-green-800":o==="stale"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:o==="fresh"?" Fresh":o==="stale"?" Stale":" Expired"})]})]})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gradient-secondary rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:" Performance Summary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.summary})]}),e.jsx("div",{className:"space-y-4",children:t.insights.map((i,l)=>{const d=B_[i.type]||td;return e.jsxs("div",{className:`p-4 bg-gradient-secondary rounded-lg border-l-4 ${U_[i.type]}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("h4",{className:"font-semibold",children:i.title})]}),e.jsx(ae,{variant:"secondary",className:`text-xs ${$_[i.priority]}`,children:i.priority})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:i.description}),i.actionable&&i.recommendation&&e.jsxs("div",{className:"bg-accent/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-primary mb-1",children:" Recommendation:"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.recommendation})]})]},l)})}),e.jsxs("div",{className:"p-4 bg-gradient-secondary rounded-lg border-l-4 border-info",children:[e.jsx("h4",{className:"font-semibold text-info mb-3",children:" Next Actions"}),e.jsx("div",{className:"space-y-2",children:t.nextActions.map((i,l)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-info rounded-full"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i})]},l))})]}),r&&e.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Cache Status:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full ${o==="fresh"?"bg-green-100 text-green-800":o==="stale"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:o==="fresh"?" Fresh":o==="stale"?" Stale":" Expired"}),e.jsx("span",{children:" Updates every 8 hours"})]})]})})]})})]})}function W_({hasAPIKey:t,isConnected:s,isLoading:r,onConfigure:n}){return r?e.jsx(N,{className:"border-dashed",children:e.jsx(M,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx(L,{className:"text-sm",children:"Checking AI Status..."})]})})}):e.jsxs(N,{className:`border-dashed ${t&&s?"border-green-200":"border-orange-200"}`,children:[e.jsxs(M,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[t&&s?e.jsx(Ma,{className:"h-4 w-4 text-green-600"}):e.jsx(fn,{className:"h-4 w-4 text-orange-600"}),e.jsx(L,{className:"text-sm",children:"AI Integration Status"})]}),e.jsx(ae,{variant:t&&s?"default":"secondary",className:t&&s?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800",children:t&&s?"Connected":"Not Configured"})]}),e.jsx(Y,{className:"text-xs",children:t&&s?"OpenAI API is connected and ready to generate insights":"Configure OpenAI API to enable AI-powered insights"})]}),e.jsx(S,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx(lv,{className:"h-3 w-3"}),e.jsx("span",{children:"API Key"})]}),e.jsx(ae,{variant:t?"default":"secondary",className:"text-xs",children:t?"Configured":"Missing"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx(Ea,{className:"h-3 w-3"}),e.jsx("span",{children:"Connection"})]}),e.jsx(ae,{variant:s?"default":"secondary",className:"text-xs",children:s?"Active":"Inactive"})]}),(!t||!s)&&n&&e.jsx(ee,{variant:"outline",size:"sm",onClick:n,className:"w-full mt-2",children:"Configure AI Integration"})]})})]})}function H_(){var D,A,Q,se;const{data:t,isLoading:s,error:r}=Se({queryKey:["dashboard-overview"],queryFn:ue.getOverview,retry:1,retryDelay:1e3}),{data:n,isLoading:a,error:o}=Se({queryKey:["user-activity"],queryFn:ue.getEnhancedUserActivity,retry:1,retryDelay:1e3}),{data:i,isLoading:l,error:d}=Se({queryKey:["user-stats"],queryFn:ue.getUserStats,retry:1,retryDelay:1e3}),{insights:c,isLoading:u,hasAIInsights:f,lastUpdated:x,cacheStatus:h}=F_({transaksiHariIni:(t==null?void 0:t.transaksiHariIni)||0,pendapatanHariIni:(t==null?void 0:t.pendapatanHariIni)||0,totalTransaksi:(t==null?void 0:t.totalTransaksi)||0,totalPendapatan:(t==null?void 0:t.totalPendapatan)||0,userActivity:(D=n==null?void 0:n.activityTrends)==null?void 0:D.dailyActive,dailyRevenue:(A=t==null?void 0:t.chartData)==null?void 0:A.daily}),b=c||{insights:[],summary:"Loading insights...",nextActions:[]},g=()=>{window.location.reload()},[p,y]=m.useState(null);m.useEffect(()=>{const F=()=>{const z=new Date,ne=new Date(new Intl.DateTimeFormat("en-US",{timeZone:"Asia/Jakarta",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(z).replace(/(\d{2})\/(\d{2})\/(\d{4}), (\d{2}):(\d{2}):(\d{2})/,"$3-$1-$2T$4:$5:$6")),$=[6,18],de=[];for(const Z of $){const oe=new Date(ne);oe.setHours(Z,0,0,0),oe<=ne&&oe.setDate(oe.getDate()+1),de.push(oe)}const V=de.sort((Z,oe)=>Z.getTime()-oe.getTime())[0].getTime()-ne.getTime();return new Date(z.getTime()+V)},le=(()=>{const z=F();return y(z),setTimeout(()=>{g()},Math.max(1e3,z.getTime()-Date.now()))})();return()=>clearTimeout(le)},[]);const v=F=>F?new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",weekday:"long",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(F):"",j=F=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(F),w=(Q=t==null?void 0:t.chartData)!=null&&Q.daily?t.chartData.daily.map(F=>({date:F.date,revenue:F.pendapatan,transactions:F.transaksi})):[],k=(se=n==null?void 0:n.activityTrends)!=null&&se.dailyActive?n.activityTrends.dailyActive.map((F,re)=>({day:`Day ${re+1}`,active:F})):[],R=t?[{name:"Total Transaksi",value:t.totalTransaksi||0,fill:"hsl(var(--primary))"},{name:"Transaksi Hari Ini",value:t.transaksiHariIni||0,fill:"hsl(var(--primary)/0.6)"}]:[],C=(t==null?void 0:t.totalPendapatan)||0,E=(t==null?void 0:t.pendapatanHariIni)||0,O=C>0?E/C*100:0,[B,q]=m.useState("30d"),I=m.useMemo(()=>{if(!(w!=null&&w.length))return[];if(B==="all")return w;const F=B==="7d"?7:B==="30d"?30:90;return w.slice(-F)},[w,B]),te=m.useMemo(()=>{if(!I.length)return 0;const F=I.length,re=I.reduce((Z,oe)=>Z+oe.revenue,0),le=I.reduce((Z,oe)=>Z+oe.transactions,0),z=re/F,ne=le/F,$=I.reduce((Z,oe)=>Z+(oe.revenue-z)*(oe.transactions-ne),0),de=Math.sqrt(I.reduce((Z,oe)=>Z+Math.pow(oe.revenue-z,2),0)),je=Math.sqrt(I.reduce((Z,oe)=>Z+Math.pow(oe.transactions-ne,2),0)),V=de*je||1;return $/V},[I]),H=m.useMemo(()=>{if(!I.length)return[];const F=I.map(z=>z.revenue),re=F.reduce((z,ne)=>z+ne,0)/F.length,le=Math.sqrt(F.reduce((z,ne)=>z+Math.pow(ne-re,2),0)/F.length)||1;return I.map(z=>({...z,z:(z.revenue-re)/le})).filter(z=>Math.abs(z.z)>=2).map(z=>({date:z.date,revenue:z.revenue,z:Number(z.z.toFixed(2))}))},[I]),W=m.useMemo(()=>Math.max(1,...R.map(F=>F.value)),[R]),K=m.useMemo(()=>R.some((F,re)=>re>0&&F.value>R[re-1].value),[R]);return s||a||l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading analytics..."})]})}):r||o||d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-destructive/5 rounded-2xl border border-destructive/20",children:[e.jsx("h3",{className:"text-lg font-bold text-destructive mb-2",children:"Failed to load analytics"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:(r==null?void 0:r.message)||(o==null?void 0:o.message)||(d==null?void 0:d.message)||"Please check your API connection"}),e.jsx(ee,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Advanced Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Deep insights into your WhatsApp bot performance and user behavior"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ae,{variant:"outline",className:"bg-background/50 backdrop-blur-sm",children:[e.jsx(Pa,{className:"mr-1 h-3 w-3 text-yellow-500"}),"AI Powered"]}),e.jsxs(ae,{variant:"outline",className:"bg-background/50 backdrop-blur-sm",children:["Next run: ",v(p)]})]})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:e.jsx(W_,{hasAPIKey:!0,isConnected:f,isLoading:u,onConfigure:()=>{alert("Please add VITE_OPENAI_API_KEY to your .env file")}})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transaksi Hari Ini"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(t==null?void 0:t.transaksiHariIni)||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Hari ini"})]}),e.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl",children:e.jsx($e,{className:"h-6 w-6 text-blue-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendapatan Hari Ini"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:j((t==null?void 0:t.pendapatanHariIni)||0)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Hari ini"})]}),e.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:e.jsx(at,{className:"h-6 w-6 text-emerald-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Transaksi"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:(t==null?void 0:t.totalTransaksi)||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lifetime"})]}),e.jsx("div",{className:"p-3 bg-purple-500/10 rounded-xl",children:e.jsx(Ke,{className:"h-6 w-6 text-purple-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Pendapatan"}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-foreground",children:j((t==null?void 0:t.totalPendapatan)||0)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lifetime"})]}),e.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:e.jsx(Rs,{className:"h-6 w-6 text-orange-500"})})]})})})]}),e.jsxs(hs,{defaultValue:"performance",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Qt,{className:"bg-background/50 backdrop-blur-sm p-1 border border-border/50 rounded-xl",children:[e.jsxs(Ae,{value:"performance",className:"rounded-lg data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[e.jsx(cv,{className:"mr-2 h-4 w-4"}),"Performance"]}),e.jsxs(Ae,{value:"insights",className:"rounded-lg data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[e.jsx(Pa,{className:"mr-2 h-4 w-4"}),"AI Insights"]}),e.jsxs(Ae,{value:"diagnostics",className:"rounded-lg data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[e.jsx(at,{className:"mr-2 h-4 w-4"}),"Diagnostics"]})]}),e.jsx(hs,{value:B,onValueChange:F=>q(F),className:"hidden md:block",children:e.jsxs(Qt,{className:"bg-background/50 backdrop-blur-sm p-1 border border-border/50 rounded-xl",children:[e.jsx(Ae,{value:"7d",className:"rounded-lg",children:"7d"}),e.jsx(Ae,{value:"30d",className:"rounded-lg",children:"30d"}),e.jsx(Ae,{value:"90d",className:"rounded-lg",children:"90d"}),e.jsx(Ae,{value:"all",className:"rounded-lg",children:"All"})]})})]}),e.jsxs(Pe,{value:"performance",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Revenue Trend Analysis"}),e.jsx(Y,{children:"Daily revenue patterns with trend line"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(kn,{data:I,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(Me,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickFormatter:F=>new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}).format(F)}),e.jsx(_e,{formatter:F=>[j(F),"Revenue"],contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(ds,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#revenueGradient)",activeDot:{r:6,strokeWidth:0}})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"User Activity Trends"}),e.jsx(Y,{children:"Daily active user patterns"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ln,{data:k.slice(-I.length||void 0),margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(Me,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(_e,{formatter:F=>[F.toLocaleString(),"Active Users"],contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(ls,{type:"monotone",dataKey:"active",stroke:"hsl(var(--chart-2))",strokeWidth:3,dot:{fill:"hsl(var(--chart-2))",strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:0}})]})})})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx(L,{children:"User Journey Funnel"}),e.jsx(Y,{children:"Conversion funnel analysis"})]}),K&&e.jsx(ae,{variant:"destructive",className:"animate-pulse",children:"Anomaly Detected"})]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-6",children:R.map((F,re)=>{var le;return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:F.name}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:F.value.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-muted/50 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${F.value/W*100}%`,backgroundColor:F.fill}})}),re>0&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1.5 flex items-center gap-1",children:[e.jsx(jr,{className:"h-3 w-3"}),(F.value/(((le=R[re-1])==null?void 0:le.value)||1)*100).toFixed(1),"% conversion rate"]})]},F.name)})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Revenue Overview"}),e.jsx(Y,{children:"Comparison: Total vs Today"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total Pendapatan"}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:j(C)})]}),e.jsx("div",{className:"w-full bg-muted/50 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-primary transition-all duration-500",style:{width:"100%"}})})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Pendapatan Hari Ini"}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:j(E)})]}),e.jsx("div",{className:"w-full bg-muted/50 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all duration-500",style:{width:`${Math.min(100,E/(C||1)*100)}%`}})}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-2 font-medium",children:[O.toFixed(1),"% of total"]})]})]})})]})]})]}),e.jsx(Pe,{value:"insights",className:"space-y-6",children:e.jsx(z_,{insights:b,isLoading:u,hasAIInsights:f,lastUpdated:x,cacheStatus:h,onRefresh:g})}),e.jsx(Pe,{value:"diagnostics",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Correlation Analysis"}),e.jsx(Y,{children:"Revenue vs Transactions Relationship"})]}),e.jsxs(S,{children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-4xl font-bold text-primary",children:te.toFixed(2)}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Pearson Correlation Coefficient (r)"})]}),e.jsx("div",{className:"flex-1",children:e.jsx(ae,{variant:te>.6?"default":te>.3?"secondary":"outline",className:"text-sm px-3 py-1",children:te>.6?"Strong Correlation":te>.3?"Moderate Correlation":"Weak Correlation"})})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-4 leading-relaxed",children:["A higher correlation indicates that transaction volume is a strong predictor of revenue.",te>.6?" Currently, revenue closely follows transaction volume.":" Currently, there is some variance between transaction count and revenue."]})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Anomaly Detection"}),e.jsx(Y,{children:"Outlier detection based on z-score (|z|  2)"})]}),e.jsx(S,{children:H.length>0?e.jsx("div",{className:"space-y-3",children:H.map(F=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-destructive/10 border border-destructive/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Kt,{className:"h-4 w-4 text-destructive"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:F.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-foreground",children:j(F.revenue)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["z-score: ",F.z]})]})]},F.date))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center mb-3",children:e.jsx(Cl,{className:"h-6 w-6 text-emerald-500"})}),e.jsx("p",{className:"text-foreground font-medium",children:"No Anomalies Detected"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Revenue patterns are within expected ranges."})]})})]})]})})]})]})}function q_(){var i,l,d;const{reffId:t}=vl(),s=Sn(),{data:r,isLoading:n,error:a}=Se({queryKey:["ref-detail",t],queryFn:()=>ue.searchTransaction(t||""),enabled:!!t});if(n)return e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Memuat data reference ID..."})]})})});if(a||!r)return e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsxs("div",{className:"p-6",children:[e.jsxs(ee,{variant:"ghost",className:"mb-4 text-gray-400 hover:bg-gray-700 hover:text-white",onClick:()=>s(-1),children:[e.jsx(Da,{className:"h-4 w-4 mr-2"})," Kembali"]}),e.jsx("p",{className:"text-red-400",children:"Gagal memuat detail reference ID."})]})});const o=r.reffId;return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>s(-1),className:"text-gray-400 hover:bg-gray-700 hover:text-white",children:[e.jsx(Da,{className:"h-4 w-4 mr-2"})," Back"]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white",children:"Reference ID"}),e.jsx("p",{className:"text-gray-400",children:"Detail referensi transaksi"})]})]})})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(N,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(M,{children:[e.jsx(L,{className:"text-white",children:o}),e.jsx(Y,{className:"text-gray-400",children:"Informasi transaksi"})]}),e.jsxs(S,{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"User:"})," ",e.jsx("span",{className:"text-white",children:r.user})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Produk:"})," ",e.jsxs("span",{className:"text-white",children:[r.produk," (",r.idProduk,")"]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Tanggal:"})," ",e.jsx("span",{className:"text-white",children:new Date(r.tanggal).toLocaleString()})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Metode:"})," ",e.jsx("span",{className:"text-white",children:r.metodeBayar||r.payment_method})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Harga:"})," ",e.jsx("span",{className:"text-white",children:(i=r.harga)==null?void 0:i.toLocaleString("id-ID")})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Jumlah:"})," ",e.jsx("span",{className:"text-white",children:r.jumlah})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Total:"})," ",e.jsx("span",{className:"text-white",children:(l=r.totalBayar)==null?void 0:l.toLocaleString("id-ID")})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Profit:"})," ",e.jsx("span",{className:"text-white",children:(d=r.profit)==null?void 0:d.toLocaleString("id-ID")})]})]})]})]})})]})}const Fu=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];function K_(){const[t,s]=m.useState("30d"),{data:r,isLoading:n,error:a}=Se({queryKey:["advanced-analytics",t],queryFn:ue.getAdvancedAnalytics,retry:1,retryDelay:1e3});if(n)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading advanced analytics..."})]})})});if(a||!r)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 mb-2",children:"Failed to load advanced analytics"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:a instanceof Error?a.message:"Unknown error occurred"})]})})});const o=c=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(c),i=c=>new Intl.NumberFormat("id-ID").format(c),l=Object.entries(r.distributions.roles).map(([c,u])=>({name:c.charAt(0).toUpperCase()+c.slice(1),value:u,color:c==="gold"?"#FFD700":c==="silver"?"#C0C0C0":"#CD7F32"})),d=Object.entries(r.distributions.paymentMethods).map(([c,u])=>({name:c,value:u}));return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Advanced Analytics"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Comprehensive business insights and advanced metrics"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:i(r.overview.totalUsers)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+12.5%"})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(Ke,{className:"h-6 w-6 text-blue-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:i(r.overview.totalTransactions)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+8.3%"})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(oo,{className:"h-6 w-6 text-green-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o(r.overview.totalRevenue)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+15.2%"})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx(jt,{className:"h-6 w-6 text-purple-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Profit"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o(r.overview.totalProfit)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+6.7%"})]}),e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:e.jsx($e,{className:"h-6 w-6 text-orange-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Avg LTV"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o(r.overview.avgLTV)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+4.2%"})]}),e.jsx("div",{className:"p-3 bg-pink-500/20 rounded-lg",children:e.jsx(Rs,{className:"h-6 w-6 text-pink-400"})})]})})})]}),e.jsxs(hs,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(Qt,{children:[e.jsx(Ae,{value:"overview",children:"Overview"}),e.jsx(Ae,{value:"trends",children:"Trends"}),e.jsx(Ae,{value:"distributions",children:"Distributions"}),e.jsx(Ae,{value:"products",children:"Top Products"})]}),e.jsx(Pe,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5"}),"User Metrics"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Customers"}),e.jsx("span",{className:"font-semibold",children:i(r.userMetrics.totalCustomers)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Order Value"}),e.jsx("span",{className:"font-semibold",children:o(r.userMetrics.averageOrderValue)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Repeat Customers"}),e.jsx("span",{className:"font-semibold",children:i(r.userMetrics.repeatCustomers)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Repeat Rate"}),e.jsxs(ae,{variant:"secondary",children:[(r.userMetrics.repeatCustomers/r.userMetrics.totalCustomers*100).toFixed(1),"%"]})]})]})]}),e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(kl,{className:"h-5 w-5"}),"User Role Distribution"]})}),e.jsx(S,{children:e.jsx(Re,{width:"100%",height:200,children:e.jsxs(Ss,{children:[e.jsx(ks,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.map((c,u)=>e.jsx(Mt,{fill:c.color},`cell-${u}`))}),e.jsx(_e,{})]})})})]})]})}),e.jsxs(Pe,{value:"trends",className:"space-y-4",children:[e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5"}),"Monthly Revenue Trends"]}),e.jsx(Y,{children:"Revenue and transaction trends over the last 12 months"})]}),e.jsx(S,{children:e.jsx(Re,{width:"100%",height:400,children:e.jsxs(kn,{data:r.trends.monthly,children:[e.jsx(De,{strokeDasharray:"3 3"}),e.jsx(Oe,{dataKey:"month"}),e.jsx(Me,{yAxisId:"left"}),e.jsx(Me,{yAxisId:"right",orientation:"right"}),e.jsx(_e,{formatter:(c,u)=>[u==="revenue"?o(Number(c)):i(Number(c)),u==="revenue"?"Revenue":u==="transactions"?"Transactions":"Profit"]}),e.jsx(zs,{}),e.jsx(ds,{yAxisId:"left",type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),e.jsx(ds,{yAxisId:"left",type:"monotone",dataKey:"profit",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6}),e.jsx(ls,{yAxisId:"right",type:"monotone",dataKey:"transactions",stroke:"#ff7300",strokeWidth:2})]})})})]}),e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(wr,{className:"h-5 w-5"}),"Hourly Activity Pattern"]}),e.jsx(Y,{children:"User activity distribution throughout the day"})]}),e.jsx(S,{children:e.jsx(Re,{width:"100%",height:300,children:e.jsxs(Rt,{data:r.trends.hourlyActivity,children:[e.jsx(De,{strokeDasharray:"3 3"}),e.jsx(Oe,{dataKey:"hour"}),e.jsx(Me,{}),e.jsx(_e,{}),e.jsx(mt,{dataKey:"activity",fill:"#8884d8"})]})})})]})]}),e.jsx(Pe,{value:"distributions",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsx(M,{children:e.jsx(L,{children:"Payment Methods"})}),e.jsx(S,{children:e.jsx(Re,{width:"100%",height:250,children:e.jsxs(Ss,{children:[e.jsx(ks,{data:d,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.map((c,u)=>e.jsx(Mt,{fill:Fu[u%Fu.length]},`cell-${u}`))}),e.jsx(_e,{})]})})})]}),e.jsxs(N,{children:[e.jsx(M,{children:e.jsx(L,{children:"User Roles Breakdown"})}),e.jsx(S,{className:"space-y-4",children:Object.entries(r.distributions.roles).map(([c,u])=>{const f=(u/r.overview.totalUsers*100).toFixed(1);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"capitalize font-medium",children:c}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[i(u)," (",f,"%)"]})]}),e.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c==="gold"?"bg-yellow-500":c==="silver"?"bg-gray-400":"bg-orange-600"}`,style:{width:`${f}%`}})})]},c)})})]})]})}),e.jsx(Pe,{value:"products",className:"space-y-4",children:e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Top Performing Products"}),e.jsx(Y,{children:"Products ranked by revenue and sales volume"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:r.topProducts.map((c,u)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-bold",children:u+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i(c.sold)," sold"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:o(c.revenue)}),e.jsx(ae,{variant:"outline",className:"text-xs",children:"Revenue"})]})]},c.id))})})]})})]})]})]})}function V_(){const[t,s]=m.useState("revenue"),[r,n]=m.useState("all"),{data:a,isLoading:o,error:i}=Se({queryKey:["product-performance"],queryFn:ue.getProductPerformance,retry:1,retryDelay:1e3});if(o)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading product performance..."})]})})});if(i||!a)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 mb-2",children:"Failed to load product performance"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:i instanceof Error?i.message:"Unknown error occurred"})]})})});const l=b=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(b),d=b=>new Intl.NumberFormat("id-ID").format(b),c=b=>b==null||isNaN(b)?"0.0%":`${b.toFixed(1)}%`,u=Array.from(new Set(a.products.map(b=>b.category))),f=a.products.filter(b=>r==="all"||b.category===r).sort((b,g)=>{switch(t){case"revenue":return g.sales.totalRevenue-b.sales.totalRevenue;case"profit":return g.sales.totalProfit-b.sales.totalProfit;case"sold":return g.sales.totalSold-b.sales.totalSold;case"margin":return g.metrics.profitMargin-b.metrics.profitMargin;default:return 0}}),x=f.slice(0,10).map(b=>({name:b.name.length>20?b.name.substring(0,20)+"...":b.name,revenue:b.sales.totalRevenue,profit:b.sales.totalProfit,sold:b.sales.totalSold})),h=f.slice(0,10).map(b=>({name:b.name.length>15?b.name.substring(0,15)+"...":b.name,margin:b.metrics.profitMargin,revenue:b.sales.totalRevenue}));return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Product Performance"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Detailed analysis of product sales, profitability, and performance metrics"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:d(a.summary.totalProducts)})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(Cs,{className:"h-6 w-6 text-blue-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:l(a.summary.totalRevenue)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+12.5%"})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(jt,{className:"h-6 w-6 text-green-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Profit"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:l(a.summary.totalProfit)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+8.3%"})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx($e,{className:"h-6 w-6 text-purple-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Avg Profit Margin"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:c(a.summary.avgProfitMargin)}),e.jsx("p",{className:"text-sm text-green-400 mt-1",children:"+2.1%"})]}),e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:e.jsx(Rs,{className:"h-6 w-6 text-orange-400"})})]})})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(Va,{value:r,onValueChange:n,children:[e.jsx(jn,{className:"w-48",children:e.jsx(Ga,{placeholder:"Filter by category"})}),e.jsxs(wn,{children:[e.jsx(dt,{value:"all",children:"All Categories"}),u.map(b=>e.jsx(dt,{value:b,children:b},b))]})]}),e.jsxs(Va,{value:t,onValueChange:b=>s(b),children:[e.jsx(jn,{className:"w-48",children:e.jsx(Ga,{placeholder:"Sort by"})}),e.jsxs(wn,{children:[e.jsx(dt,{value:"revenue",children:"Revenue"}),e.jsx(dt,{value:"profit",children:"Profit"}),e.jsx(dt,{value:"sold",children:"Units Sold"}),e.jsx(dt,{value:"margin",children:"Profit Margin"})]})]})]}),e.jsxs(hs,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(Qt,{children:[e.jsx(Ae,{value:"overview",children:"Overview"}),e.jsx(Ae,{value:"performance",children:"Performance"}),e.jsx(Ae,{value:"insights",children:"Insights"})]}),e.jsx(Pe,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5"}),"Top Products by Revenue"]})}),e.jsx(S,{children:e.jsx(Re,{width:"100%",height:300,children:e.jsxs(Rt,{data:x,children:[e.jsx(De,{strokeDasharray:"3 3",className:"opacity-30"}),e.jsx(Oe,{dataKey:"name",angle:-45,textAnchor:"end",height:80,fontSize:12}),e.jsx(Me,{}),e.jsx(_e,{formatter:(b,g)=>[g==="revenue"||g==="profit"?l(Number(b)):d(Number(b)),g==="revenue"?"Revenue":g==="profit"?"Profit":"Units Sold"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8}}),e.jsx(zs,{}),e.jsx(mt,{dataKey:"revenue",fill:"#8884d8",radius:[6,6,0,0]}),e.jsx(mt,{dataKey:"profit",fill:"#82ca9d",radius:[6,6,0,0]})]})})})]}),e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-5 w-5"}),"Profit Margin Analysis"]})}),e.jsx(S,{children:e.jsx(Re,{width:"100%",height:300,children:e.jsxs(Yb,{data:h,children:[e.jsx(De,{className:"opacity-30"}),e.jsx(Oe,{type:"number",dataKey:"revenue",name:"Revenue",tickFormatter:b=>l(b)}),e.jsx(Me,{type:"number",dataKey:"margin",name:"Profit Margin",tickFormatter:b=>`${b}%`}),e.jsx(_e,{formatter:(b,g)=>[g==="margin"?`${b}%`:l(Number(b)),g==="margin"?"Profit Margin":"Revenue"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:8},labelFormatter:b=>`Product: ${b}`}),e.jsx(Jb,{dataKey:"margin",fill:"#8884d8"})]})})})]})]})}),e.jsx(Pe,{value:"performance",className:"space-y-4",children:e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Product Performance Table"}),e.jsx(Y,{children:"Detailed performance metrics for all products"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:f.slice(0,20).map((b,g)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-bold",children:g+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:b.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ae,{variant:"outline",className:"text-xs",children:b.category}),e.jsxs(ae,{variant:b.stock.status==="in_stock"?"default":"destructive",className:"text-xs",children:[b.stock.current," in stock"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-right",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue"}),e.jsx("p",{className:"font-semibold",children:l(b.sales.totalRevenue)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Profit"}),e.jsx("p",{className:"font-semibold",children:l(b.sales.totalProfit)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sold"}),e.jsx("p",{className:"font-semibold",children:d(b.sales.totalSold)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Margin"}),e.jsx("p",{className:"font-semibold",children:c(b.metrics.profitMargin)})]})]})]},b.id))})})]})}),e.jsx(Pe,{value:"insights",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ai,{className:"h-5 w-5"}),"Top Performers"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"By Revenue"}),e.jsx("div",{className:"space-y-2",children:a.insights.topByRevenue.slice(0,3).map((b,g)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:b.name}),e.jsx(ae,{variant:"secondary",children:l(b.revenue)})]},g))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"By Profit"}),e.jsx("div",{className:"space-y-2",children:a.insights.topByProfit.slice(0,3).map((b,g)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:b.name}),e.jsx(ae,{variant:"secondary",children:l(b.profit)})]},g))})]})]})]}),e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5"}),"Attention Needed"]})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Low Stock Items"}),e.jsx("div",{className:"space-y-2",children:a.insights.lowStock.slice(0,5).map((b,g)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:b.name}),e.jsxs(ae,{variant:"destructive",children:[b.stock," left"]})]},g))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"High Conversion Rate"}),e.jsx("div",{className:"space-y-2",children:a.insights.topByConversion.slice(0,3).map((b,g)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:b.name}),e.jsx(ae,{variant:"default",children:c(b.conversionRate)})]},g))})]})]})]})]})})]})]})]})}const ua={new:"#3B82F6",regular:"#10B981",loyal:"#F59E0B",vip:"#8B5CF6"};function G_(){m.useState("all");const{data:t,isLoading:s,error:r}=Se({queryKey:["user-behavior"],queryFn:()=>ue.getUserBehaviorAnalytics(),retry:1,retryDelay:1e3});if(s)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading user behavior analytics..."})]})})});if(r||!t)return e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 mb-2",children:"Failed to load user behavior analytics"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:r instanceof Error?r.message:"Unknown error occurred"})]})})});const n=d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d),a=d=>new Intl.NumberFormat("id-ID").format(d),o=d=>`${d.toFixed(1)}%`,i=Object.entries(t.segmentStats).map(([d,c])=>({name:d.charAt(0).toUpperCase()+d.slice(1),value:c.count,percentage:c.percentage,color:ua[d]||"#8884d8"})),l=Object.values(t.segmentStats).reduce((d,c)=>d+c.count,0);return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Behavior Analytics"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Discover user patterns, segments, and behavioral insights to drive growth"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(Ke,{className:"h-6 w-6"})}),e.jsx(ae,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:"Total"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:a(l)}),e.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Total Users"})]})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-green-500 to-green-600 p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(Ia,{className:"h-6 w-6"})}),e.jsx(ae,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:"+5.2%"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:a(t.churnAnalysis.recentlyActive)}),e.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Recently Active"})]})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-orange-500 to-red-500 p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(dv,{className:"h-6 w-6"})}),e.jsx(ae,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:"Risk"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:a(t.churnAnalysis.churnedUsers)}),e.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Churned Users"})]})]})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur-sm",children:e.jsx(sd,{className:"h-6 w-6"})}),e.jsx(ae,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:"Rate"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:o(t.churnAnalysis.churnRate)}),e.jsx("p",{className:"text-purple-100 text-sm mt-1",children:"Churn Rate"})]})]})]})]}),e.jsxs(hs,{defaultValue:"segments",className:"space-y-6",children:[e.jsxs(Qt,{className:"grid w-full grid-cols-3 bg-white/50 backdrop-blur-sm rounded-xl p-2 shadow-lg",children:[e.jsxs(Ae,{value:"segments",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-600 data-[state=active]:text-white transition-all duration-300",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"User Segments"]}),e.jsxs(Ae,{value:"insights",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-teal-600 data-[state=active]:text-white transition-all duration-300",children:[e.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Behavioral Insights"]}),e.jsxs(Ae,{value:"churn",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-600 data-[state=active]:text-white transition-all duration-300",children:[e.jsx(sd,{className:"h-4 w-4 mr-2"}),"Churn Analysis"]})]}),e.jsxs(Pe,{value:"segments",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(N,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-white/80 to-blue-50/80 backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5"}),e.jsxs(M,{className:"relative z-10",children:[e.jsxs(L,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg text-white",children:e.jsx(Ke,{className:"h-5 w-5"})}),"User Segmentation"]}),e.jsx(Y,{className:"text-base",children:"Distribution of users across different behavioral segments"})]}),e.jsx(S,{children:e.jsx(Re,{width:"100%",height:250,children:e.jsxs(Ss,{children:[e.jsx(ks,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,percentage:c})=>`${d} ${c.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((d,c)=>e.jsx(Mt,{fill:d.color},`cell-${c}`))}),e.jsx(_e,{})]})})})]}),e.jsxs(N,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-white/80 to-green-50/80 backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-teal-500/5"}),e.jsx(M,{className:"relative z-10",children:e.jsxs(L,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg text-white",children:e.jsx(rd,{className:"h-5 w-5"})}),"Segment Statistics"]})}),e.jsx(S,{className:"space-y-6 relative z-10",children:Object.entries(t.segmentStats).map(([d,c])=>e.jsxs("div",{className:"group p-4 rounded-xl bg-white/50 backdrop-blur-sm border border-white/20 hover:bg-white/70 transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full shadow-lg",style:{backgroundColor:ua[d]}}),e.jsxs("span",{className:"font-semibold capitalize text-lg",children:[d," Users"]})]}),e.jsx(ae,{variant:"secondary",className:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 border-0",children:a(c.count)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Avg Spent"}),e.jsx("div",{className:"font-bold text-lg text-blue-700",children:n(c.avgSpent)})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Avg Transactions"}),e.jsx("div",{className:"font-bold text-lg text-green-700",children:c.avgTransactions.toFixed(1)})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Segment Share"}),e.jsx("span",{className:"text-sm font-bold",style:{color:ua[d]},children:o(c.percentage)})]}),e.jsx(cs,{value:c.percentage,className:"h-3 bg-gray-100/50",style:{"--progress-background":ua[d]}})]},d))})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Object.entries(t.segments).map(([d,c])=>{var u,f;return e.jsxs(N,{children:[e.jsxs(M,{className:"pb-2",children:[e.jsxs(L,{className:"text-lg capitalize flex items-center gap-2",children:[d==="vip"&&e.jsx(rd,{className:"h-4 w-4 text-purple-500"}),d==="loyal"&&e.jsx(Ai,{className:"h-4 w-4 text-yellow-500"}),d==="regular"&&e.jsx(Ia,{className:"h-4 w-4 text-green-500"}),d==="new"&&e.jsx(Ke,{className:"h-4 w-4 text-blue-500"}),d," Users"]}),e.jsxs(Y,{children:[d==="new"&&"0-1 transactions",d==="regular"&&"2-5 transactions",d==="loyal"&&"6-10 transactions",d==="vip"&&"11+ transactions"]})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-2xl font-bold",children:a(((u=t.segmentStats[d])==null?void 0:u.count)||0)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Spent: ",n(((f=t.segmentStats[d])==null?void 0:f.totalSpent)||0)]})]})})]},d)})})]}),e.jsxs(Pe,{value:"insights",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5"}),"Payment Preferences"]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(t.insights.paymentPreferences||{}).map(([d,c])=>{const u=Object.values(t.insights.paymentPreferences||{}).reduce((h,b)=>h+Number(b),0),f=Number(c),x=u>0?f/u*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:d}),e.jsxs(ae,{variant:"outline",children:[a(c)," (",o(x),")"]})]}),e.jsx(cs,{value:x,className:"h-2"})]},d)})})})]}),e.jsxs(N,{children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(cn,{className:"h-5 w-5"}),"Most Active Hour"]})}),e.jsx(S,{children:e.jsx("div",{className:"text-center",children:(()=>{const d=t.insights.mostActiveHour||{},c=Object.entries(d).reduce((u,[f,x])=>x>u.activity?{hour:f,activity:x}:u,{hour:"N/A",activity:0});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:c.hour!=="N/A"?`${c.hour}:00`:"N/A"}),e.jsxs("p",{className:"text-muted-foreground",children:["Peak activity with ",a(c.activity)," actions"]})]})})()})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Top Spenders"}),e.jsx(Y,{children:"Users with highest total spending"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:t.insights.topSpenders.slice(0,5).map((d,c)=>{var u;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-bold",children:c+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:d.displayId||((u=d.userId)==null?void 0:u.replace("@s.whatsapp.net","").replace("@lid",""))||d.username}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a(d.transactionCount||0)," transactions  ",n(d.totalSpent||0)]})]})]}),e.jsx(ae,{variant:"secondary",children:n(d.totalSpent||0)})]},c)})})})]}),e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Most Frequent Buyers"}),e.jsx(Y,{children:"Users with highest transaction frequency"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:t.insights.mostFrequentBuyers.slice(0,5).map((d,c)=>{var u;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-secondary text-secondary-foreground text-sm font-bold",children:c+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:d.displayId||((u=d.userId)==null?void 0:u.replace("@s.whatsapp.net","").replace("@lid",""))||d.username}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a(d.transactionCount||0)," transactions  ",n(d.totalSpent||0)]})]})]}),e.jsxs(ae,{variant:"outline",children:[a(d.transactionCount||0)," orders"]})]},c)})})})]})]})]}),e.jsx(Pe,{value:"churn",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(N,{children:[e.jsx(M,{children:e.jsx(L,{children:"Churn Overview"})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Churned Users"}),e.jsx("span",{className:"font-semibold text-red-600",children:a(t.churnAnalysis.churnedUsers)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Churn Rate"}),e.jsx(ae,{variant:"destructive",children:o(t.churnAnalysis.churnRate)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Recently Active"}),e.jsx("span",{className:"font-semibold text-green-600",children:a(t.churnAnalysis.recentlyActive)})]})]})]}),e.jsxs(N,{children:[e.jsx(M,{children:e.jsx(L,{children:"Retention Rate"})}),e.jsx(S,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:o(100-t.churnAnalysis.churnRate)}),e.jsx("p",{className:"text-muted-foreground",children:"Users retained this period"}),e.jsx(cs,{value:100-t.churnAnalysis.churnRate,className:"mt-4 h-3"})]})})]}),e.jsxs(N,{children:[e.jsx(M,{children:e.jsx(L,{children:"Activity Status"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-green-600",children:" Active"}),e.jsx("span",{className:"font-semibold",children:a(t.churnAnalysis.recentlyActive)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-red-600",children:" Churned"}),e.jsx("span",{className:"font-semibold",children:a(t.churnAnalysis.churnedUsers)})]}),e.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[e.jsx("span",{className:"font-medium",children:"Total"}),e.jsx("span",{className:"font-bold",children:a(t.churnAnalysis.recentlyActive+t.churnAnalysis.churnedUsers)})]})]})})]})]})})]})]})]})}function X_(){const[t,s]=m.useState("30d"),{data:r,isLoading:n,error:a}=Se({queryKey:["financial-analytics",t],queryFn:ue.getFinancialAnalytics,retry:1,retryDelay:1e3});if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin"})]}),e.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:"Loading financial analytics..."})]})});if(a||!r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-destructive/5 rounded-2xl border border-destructive/20",children:[e.jsx("div",{className:"w-12 h-12 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(fn,{className:"h-6 w-6 text-destructive"})}),e.jsx("h3",{className:"text-lg font-bold text-destructive mb-2",children:"Failed to load financial analytics"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:a instanceof Error?a.message:"Unknown error occurred"}),e.jsx(ee,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]})});const o=x=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(x),i=x=>new Intl.NumberFormat("id-ID").format(x),l=x=>`${x.toFixed(1)}%`,d=Object.entries(r.distributions.byPaymentMethod||{}).map(([x,h])=>({name:x,value:h})),c=Object.entries(r.distributions.byUserRole||{}).map(([x,h])=>({name:x.charAt(0).toUpperCase()+x.slice(1),value:h,color:x==="gold"?"#eab308":x==="silver"?"#94a3b8":"#d97706"})),u=x=>x>=80?"text-emerald-500":x>=60?"text-amber-500":"text-rose-500",f=x=>x>=80?"bg-emerald-500/10 text-emerald-500":x>=60?"bg-amber-500/10 text-amber-500":"bg-rose-500/10 text-rose-500";return e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Financial Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive financial analysis and business health insights"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-background/50 backdrop-blur-sm p-1 rounded-lg border border-border/50",children:[e.jsx(ee,{variant:t==="7d"?"default":"ghost",size:"sm",onClick:()=>s("7d"),className:"rounded-md",children:"7 Days"}),e.jsx(ee,{variant:t==="30d"?"default":"ghost",size:"sm",onClick:()=>s("30d"),className:"rounded-md",children:"30 Days"}),e.jsx(ee,{variant:t==="90d"?"default":"ghost",size:"sm",onClick:()=>s("90d"),className:"rounded-md",children:"90 Days"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),e.jsx("h3",{className:"text-xl font-bold mt-2 text-foreground",children:o(r.overview.totalRevenue)}),e.jsxs("div",{className:P("flex items-center mt-1 text-xs font-medium",r.overview.revenueGrowthRate>0?"text-emerald-500":"text-rose-500"),children:[r.overview.revenueGrowthRate>0?e.jsx(kt,{className:"h-3 w-3 mr-1"}):e.jsx(jr,{className:"h-3 w-3 mr-1"}),Math.abs(r.overview.revenueGrowthRate),"%"]})]}),e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(jt,{className:"h-5 w-5 text-blue-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Profit"}),e.jsx("h3",{className:"text-xl font-bold mt-2 text-foreground",children:o(r.overview.totalProfit)}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"8.5%"]})]}),e.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:e.jsx($e,{className:"h-5 w-5 text-emerald-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Profit Margin"}),e.jsx("h3",{className:"text-xl font-bold mt-2 text-foreground",children:l(r.overview.profitMargin)}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"2.1%"]})]}),e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:e.jsx(Rs,{className:"h-5 w-5 text-purple-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Order Value"}),e.jsx("h3",{className:"text-xl font-bold mt-2 text-foreground",children:o(r.overview.avgOrderValue)}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"5.3%"]})]}),e.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:e.jsx(qe,{className:"h-5 w-5 text-orange-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),e.jsx("h3",{className:"text-xl font-bold mt-2 text-foreground",children:i(r.overview.totalTransactions)}),e.jsxs("div",{className:"flex items-center mt-1 text-xs font-medium text-emerald-500",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"12.8%"]})]}),e.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg",children:e.jsx(vt,{className:"h-5 w-5 text-pink-500"})})]})})}),e.jsx(N,{className:"card-premium border-none shadow-soft",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Revenue Growth"}),e.jsx("h3",{className:"text-xl font-bold mt-2 text-foreground",children:l(r.overview.revenueGrowthRate)}),e.jsxs("div",{className:P("flex items-center mt-1 text-xs font-medium",r.overview.revenueGrowthRate>0?"text-emerald-500":"text-rose-500"),children:[r.overview.revenueGrowthRate>0?e.jsx(kt,{className:"h-3 w-3 mr-1"}):e.jsx(jr,{className:"h-3 w-3 mr-1"}),Math.abs(r.overview.revenueGrowthRate),"%"]})]}),e.jsx("div",{className:"p-2 bg-cyan-500/10 rounded-lg",children:e.jsx(at,{className:"h-5 w-5 text-cyan-500"})})]})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-5 w-5 text-primary"}),"Financial Health Score"]}),e.jsx(Y,{children:"Overall business financial performance indicator"})]}),e.jsx(S,{children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:P("text-6xl font-bold tracking-tighter",u(r.insights.healthScore)),children:r.insights.healthScore.toFixed(1)}),e.jsxs("div",{children:[e.jsx("div",{className:P("px-3 py-1 rounded-full text-sm font-medium w-fit mb-2",f(r.insights.healthScore)),children:r.insights.healthScore>=80?"Excellent":r.insights.healthScore>=60?"Good":"Needs Attention"}),e.jsx("p",{className:"text-muted-foreground text-sm max-w-[250px]",children:"Based on revenue consistency, profit margins, and growth metrics over the selected period."})]})]}),e.jsxs("div",{className:"w-full md:w-1/2 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Score Progress"}),e.jsxs("span",{className:"font-medium text-foreground",children:[r.insights.healthScore.toFixed(0),"/100"]})]}),e.jsx(cs,{value:r.insights.healthScore,className:"h-3 bg-secondary"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground pt-1",children:[e.jsx("span",{children:"Critical (0-59)"}),e.jsx("span",{children:"Good (60-79)"}),e.jsx("span",{children:"Excellent (80-100)"})]})]})]})})]}),e.jsxs(hs,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Qt,{className:"bg-background/50 backdrop-blur-sm p-1 border border-border/50 rounded-xl w-full md:w-auto flex overflow-x-auto",children:[e.jsx(Ae,{value:"overview",className:"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Financial Overview"}),e.jsx(Ae,{value:"distributions",className:"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Revenue Distribution"}),e.jsx(Ae,{value:"trends",className:"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Trends & Growth"}),e.jsx(Ae,{value:"insights",className:"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Insights & Recommendations"})]}),e.jsx(Pe,{value:"overview",className:"space-y-6 animate-in fade-in-50 duration-500 slide-in-from-bottom-2",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(un,{className:"h-5 w-5 text-primary"}),"User Financial Overview"]})}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-secondary/30 border border-border/50",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total User Balance"}),e.jsx("p",{className:"text-xl font-bold text-foreground",children:o(r.userFinances.totalBalance)})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-secondary/30 border border-border/50",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Average Balance"}),e.jsx("p",{className:"text-xl font-bold text-foreground",children:o(r.userFinances.avgBalance)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Balance Distribution"}),e.jsx("div",{className:"space-y-3",children:Object.entries(r.userFinances.balanceDistribution||{}).map(([x,h])=>{const b=Object.values(r.userFinances.balanceDistribution||{}).reduce((p,y)=>p+y,0),g=b>0?h/b*100:0;return e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:x}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-foreground",children:i(h)}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",l(g),")"]})]})]}),e.jsx(cs,{value:g,className:"h-1.5"})]},x)})})]})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(kl,{className:"h-5 w-5 text-primary"}),"Revenue by User Role"]})}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Ss,{children:[e.jsx(ks,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:c.map((x,h)=>e.jsx(Mt,{fill:x.color,strokeWidth:0},`cell-${h}`))}),e.jsx(_e,{formatter:x=>o(Number(x)),contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(zs,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})})]})]})}),e.jsx(Pe,{value:"distributions",className:"space-y-6 animate-in fade-in-50 duration-500 slide-in-from-bottom-2",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Payment Method Distribution"}),e.jsx(Y,{children:"Revenue breakdown by payment method"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(Rt,{data:d,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},dy:10}),e.jsx(Me,{tickFormatter:x=>o(x),axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(_e,{formatter:x=>o(Number(x)),cursor:{fill:"hsl(var(--muted)/0.2)"},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(mt,{dataKey:"value",fill:"hsl(var(--primary))",radius:[6,6,0,0],barSize:40})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Profit Distribution by Role"}),e.jsx(Y,{children:"Profit contribution from different user tiers"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-6",children:Object.entries(r.distributions.profitByRole||{}).map(([x,h])=>{const b=Object.values(r.distributions.profitByRole||{}).reduce((p,y)=>p+y,0),g=b>0?h/b*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:P("w-2 h-2 rounded-full",x==="gold"?"bg-yellow-500":x==="silver"?"bg-slate-400":"bg-orange-600")}),e.jsx("span",{className:"font-medium capitalize text-foreground",children:x})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-foreground",children:o(h)}),e.jsx(ae,{variant:"secondary",className:"text-xs font-normal",children:l(g)})]})]}),e.jsx(cs,{value:g,className:"h-2.5",indicatorClassName:x==="gold"?"bg-yellow-500":x==="silver"?"bg-slate-400":"bg-orange-600"})]},x)})})})]})]})}),e.jsxs(Pe,{value:"trends",className:"space-y-6 animate-in fade-in-50 duration-500 slide-in-from-bottom-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5 text-primary"}),"Revenue & Profit Trends"]}),e.jsx(Y,{children:"Daily revenue and profit performance over time"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[400px] w-full",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(kn,{data:r.trends.daily,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"finRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"finProfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),e.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),e.jsx(Oe,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},dy:10}),e.jsx(Me,{tickFormatter:x=>o(x),axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:12}}),e.jsx(_e,{formatter:x=>o(Number(x)),contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"hsl(var(--foreground))"}}),e.jsx(zs,{verticalAlign:"top",height:36,iconType:"circle"}),e.jsx(ds,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",strokeWidth:3,fill:"url(#finRevenue)",activeDot:{r:6,strokeWidth:0}}),e.jsx(ds,{type:"monotone",dataKey:"profit",stroke:"#10b981",strokeWidth:3,fill:"url(#finProfit)",activeDot:{r:6,strokeWidth:0}})]})})})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Monthly Performance"}),e.jsx(Y,{children:"Monthly revenue and growth trends"})]}),e.jsx(S,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:Object.entries(r.trends.monthly||{}).map(([x,h])=>e.jsxs("div",{className:"text-center p-6 rounded-2xl bg-secondary/30 border border-border/50 hover:bg-secondary/50 transition-colors",children:[e.jsx("div",{className:"text-3xl font-bold text-foreground mb-2",children:typeof h=="number"?x.includes("revenue")||x.includes("profit")?o(h):i(h):String(h)}),e.jsx("div",{className:"text-sm text-muted-foreground capitalize font-medium",children:x.replace(/([A-Z])/g," $1").trim()})]},x))})})]})]}),e.jsx(Pe,{value:"insights",className:"space-y-6 animate-in fade-in-50 duration-500 slide-in-from-bottom-2",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsx(M,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(fn,{className:"h-5 w-5 text-primary"}),"Key Insights"]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Revenue Growth"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Revenue is growing at ",e.jsx("span",{className:"font-semibold text-foreground",children:l(r.overview.revenueGrowthRate)})," rate compared to the previous period."]})]}),e.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{className:"font-medium text-emerald-600 dark:text-emerald-400",children:"Profit Margin"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Maintaining healthy profit margin of ",e.jsx("span",{className:"font-semibold text-foreground",children:l(r.overview.profitMargin)}),"."]})]}),e.jsxs("div",{className:"p-4 bg-purple-500/10 border border-purple-500/20 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"font-medium text-purple-600 dark:text-purple-400",children:"Order Value"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Average order value is ",e.jsx("span",{className:"font-semibold text-foreground",children:o(r.overview.avgOrderValue)})," per transaction."]})]})]})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsx(L,{children:"Recommendations"}),e.jsx(Y,{children:"Actionable steps to improve financial health"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:r.insights.recommendations.map((x,h)=>e.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-xl bg-card hover:bg-accent/50 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary text-sm font-bold mt-0.5 shrink-0",children:h+1}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:x})]},h))})})]})]})})]})]})}function Y_(){return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Sales Analytics"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Comprehensive sales performance analysis"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"Rp 10.410.048"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-green-600",children:"+20.1%"})," from last month"]})]})]}),e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Sales"}),e.jsx(oo,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"893"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-green-600",children:"+15.3%"})," from last month"]})]})]}),e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Active Customers"}),e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"354"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-green-600",children:"+8.2%"})," from last month"]})]})]}),e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Avg Order Value"}),e.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"Rp 11.657"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-red-600",children:"-2.1%"})," from last month"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Sales Trends"}),e.jsx(Y,{children:"Monthly sales performance over time"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("p",{children:"Sales chart will be implemented here"})]})})})]}),e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Top Products"}),e.jsx(Y,{children:"Best performing products by revenue"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"NETFLIX 1 BULAN 1P2U"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Rp 2.400.000"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"NETFLIX 1 BULAN 1P1U"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Rp 1.800.000"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"CAPCUT 1 BULAN PRIVATE"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Rp 1.200.000"})]})]})})]})]}),e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Sales Performance"}),e.jsx(Y,{children:"Detailed sales metrics and insights"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"+25%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Growth Rate"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"94%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Satisfaction"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"2.3x"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ROI"})]})]})})]})]})]})}function J_(){return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Inventory Analytics"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Comprehensive inventory management and analytics"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Products"}),e.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"43"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-green-600",children:"+3"})," new this month"]})]})]}),e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Stock"}),e.jsx(at,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"1,247"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-green-600",children:"+12%"})," from last month"]})]})]}),e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Low Stock Items"}),e.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"7"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need restocking"})]})]}),e.jsxs(N,{children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Stock Turnover"}),e.jsx($e,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2.4x"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"text-green-600",children:"+0.3x"})," from last month"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Stock Levels"}),e.jsx(Y,{children:"Current inventory status by category"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Streaming Services"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Good"}),e.jsx(Ma,{className:"h-4 w-4 text-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Gaming"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Low"}),e.jsx(Kt,{className:"h-4 w-4 text-yellow-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Software"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Critical"}),e.jsx(Kt,{className:"h-4 w-4 text-red-500"})]})]})]})})]}),e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Inventory Trends"}),e.jsx(Y,{children:"Stock movement patterns over time"})]}),e.jsx(S,{children:e.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("p",{children:"Inventory trends chart will be implemented here"})]})})})]})]}),e.jsxs(N,{children:[e.jsxs(M,{children:[e.jsx(L,{children:"Stock Alerts"}),e.jsx(Y,{children:"Items that need immediate attention"})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-red-50 border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Kt,{className:"h-5 w-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"Adobe Creative Suite"}),e.jsx("p",{className:"text-sm text-red-700",children:"Only 2 items left in stock"})]})]}),e.jsx(ae,{variant:"destructive",children:"Critical"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50 border-yellow-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Kt,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-900",children:"Spotify Premium"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"5 items left - consider restocking"})]})]}),e.jsx(ae,{variant:"outline",className:"text-yellow-600",children:"Warning"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50 border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ma,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900",children:"Netflix Premium"}),e.jsx("p",{className:"text-sm text-green-700",children:"Stock levels are healthy"})]})]}),e.jsx(ae,{variant:"outline",className:"text-green-600",children:"Good"})]})]})})]})]})]})}function Q_(){const{data:t,isLoading:s,error:r}=Se({queryKey:["dashboard-overview"],queryFn:ue.getOverview}),{data:n}=Se({queryKey:["recent-transactions","projects",10],queryFn:()=>ue.getRecentTransactions(10)}),a=(n==null?void 0:n.transactions.slice(0,6).map((o,i)=>({id:o.id||i,name:o.name,description:`WhatsApp Bot Transaction - ${o.name}`,revenue:o.totalBayar,transactions:1,users:1,status:o.status||"active",lastActivity:o.date})))||[];return s?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading projects..."})]})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load projects"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Please check your API connection"})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Projects"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"WhatsApp Bot Transaction Projects"})]}),e.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(hn,{className:"mr-2 h-4 w-4"}),"New Project"]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.length})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(nd,{className:"h-6 w-6 text-blue-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we(a.reduce((o,i)=>o+i.revenue,0))})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(jt,{className:"h-6 w-6 text-green-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.reduce((o,i)=>o+i.users,0)})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx(Ke,{className:"h-6 w-6 text-purple-400"})})]})})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(o=>e.jsxs(N,{className:"bg-gray-800 border-gray-700 hover:bg-gray-700/50 transition-colors",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(nd,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx(L,{className:"text-white",children:o.name}),e.jsx(Y,{className:"text-gray-400",children:o.description})]})]}),e.jsx(ee,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:e.jsx(Sl,{className:"h-4 w-4"})})]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Revenue"}),e.jsx("span",{className:"text-white font-semibold",children:we(o.revenue)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Transactions"}),e.jsx("span",{className:"text-white",children:o.transactions})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Users"}),e.jsx("span",{className:"text-white",children:o.users})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ae,{variant:"secondary",className:"bg-green-500/20 text-green-400 border-green-500/30",children:o.status}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(o.lastActivity).toLocaleDateString()})]})]})})]},o.id))})]})]})}function Z_(){const{data:t,isLoading:s,error:r}=Se({queryKey:["recent-transactions","tasks",20],queryFn:()=>ue.getRecentTransactions(20)}),n=(t==null?void 0:t.transactions.map((i,l)=>({id:i.id||l,title:i.name,priority:i.totalBayar>1e5?"high":i.totalBayar>5e4?"medium":"low",assignee:os(i),dueDate:i.date,completed:i.status==="completed",amount:i.totalBayar,paymentMethod:is(i),referenceId:Qe(i)})))||[],a=i=>{switch(i){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},o=i=>{switch(i){case"high":return"High";case"medium":return"Medium";case"low":return"Low";default:return"Unknown"}};return s?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading tasks..."})]})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load tasks"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Please check your API connection"})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tasks"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"WhatsApp Bot Transaction Tasks"})]}),e.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(hn,{className:"mr-2 h-4 w-4"}),"New Task"]})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:n.length})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(ma,{className:"h-6 w-6 text-blue-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(i=>i.completed).length})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(ma,{className:"h-6 w-6 text-green-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:n.filter(i=>!i.completed).length})]}),e.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:e.jsx(cn,{className:"h-6 w-6 text-yellow-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Value"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we(n.reduce((i,l)=>i+l.amount,0))})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx(qe,{className:"h-6 w-6 text-purple-400"})})]})})})]}),e.jsxs(N,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(M,{children:[e.jsx(L,{className:"text-white",children:"Transaction Tasks"}),e.jsx(Y,{className:"text-gray-400",children:"Manage your WhatsApp bot transaction tasks"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:n.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600 hover:bg-gray-700/80 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ma,{className:`h-5 w-5 ${i.completed?"text-green-400":"text-gray-400"}`}),e.jsx("span",{className:`text-white ${i.completed?"line-through text-gray-400":""}`,children:i.title})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${a(i.priority)}`}),e.jsx(ae,{variant:"secondary",className:"bg-gray-600 text-white text-xs",children:o(i.priority)})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx(Cn,{className:"h-4 w-4"}),i.assignee]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx(cn,{className:"h-4 w-4"}),Pl(i.dueDate,"short")]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:we(i.amount)}),e.jsx("p",{className:"text-xs text-gray-400",children:i.paymentMethod})]}),e.jsx(ee,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:e.jsx(Rn,{className:"h-4 w-4"})})]})]},i.id))})})]})]})]})}function $u(){var a,o,i;const{data:t,isLoading:s,error:r}=Se({queryKey:["dashboard-overview"],queryFn:ue.getOverview}),{data:n}=Se({queryKey:["recent-transactions","reports",10],queryFn:()=>ue.getRecentTransactions(10)});return s?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading reports..."})]})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load reports"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Please check your API connection"})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Reports Overview"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"WhatsApp Bot Analytics and Insights"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we((t==null?void 0:t.totalPendapatan)||0)}),e.jsxs("p",{className:"text-sm text-green-400 flex items-center mt-1",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),(t==null?void 0:t.transaksiHariIni)||0," transaksi hari ini"]})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(jt,{className:"h-6 w-6 text-green-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:(t==null?void 0:t.totalTransaksi)||0}),e.jsxs("p",{className:"text-sm text-blue-400 flex items-center mt-1",children:[e.jsx(at,{className:"h-3 w-3 mr-1"}),(t==null?void 0:t.transaksiHariIni)||0," hari ini"]})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(qe,{className:"h-6 w-6 text-blue-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Today's Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we((t==null?void 0:t.pendapatanHariIni)||0)}),e.jsxs("p",{className:"text-sm text-purple-400 flex items-center mt-1",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),"Daily performance"]})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx(vt,{className:"h-6 w-6 text-purple-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:(n==null?void 0:n.transactions.length)||0}),e.jsxs("p",{className:"text-sm text-orange-400 flex items-center mt-1",children:[e.jsx(Ke,{className:"h-3 w-3 mr-1"}),"Recent users"]})]}),e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:e.jsx(Ke,{className:"h-6 w-6 text-orange-400"})})]})})})]}),e.jsxs(N,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(M,{children:[e.jsx(L,{className:"text-white",children:"Payment Methods Analysis"}),e.jsx(Y,{className:"text-gray-400",children:"Breakdown by payment method"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium text-white",children:"QRIS"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:((a=t==null?void 0:t.metodeBayar)==null?void 0:a.qris)||0}),e.jsx("p",{className:"text-sm text-gray-400",children:"transactions"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-white",children:"Saldo"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:((o=t==null?void 0:t.metodeBayar)==null?void 0:o.saldo)||0}),e.jsx("p",{className:"text-sm text-gray-400",children:"transactions"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),e.jsx("span",{className:"font-medium text-white",children:"Lainnya"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:((i=t==null?void 0:t.metodeBayar)==null?void 0:i.unknown)||0}),e.jsx("p",{className:"text-sm text-gray-400",children:"transactions"})]})]})]})})]}),e.jsxs(N,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(M,{children:[e.jsx(L,{className:"text-white",children:"Recent Transactions Summary"}),e.jsx(Y,{className:"text-gray-400",children:"Latest transaction insights"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:n==null?void 0:n.transactions.slice(0,5).map((l,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:l.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[new Date(l.date).toLocaleDateString(),"  ",l.user_name||"Unknown User"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:we(l.totalBayar)}),e.jsx("p",{className:"text-sm text-gray-400",children:l.metodeBayar||"Unknown"})]})]},d))})})]})]})]})}function eA(){const{data:t,isLoading:s,error:r}=Se({queryKey:["recent-transactions","customer-report",50],queryFn:()=>ue.getRecentTransactions(50)}),n=(t==null?void 0:t.transactions.reduce((o,i)=>{const l=os(i),d=o.find(c=>c.name===l);return d?(d.orders+=1,d.totalSpent+=i.totalBayar):o.push({id:i.id||Math.random(),name:l,email:`${l.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:"+62 812 3456 7890",location:"Jakarta, Indonesia",orders:1,totalSpent:i.totalBayar,lastOrder:i.date}),o},[]))||[],a=n.sort((o,i)=>i.totalSpent-o.totalSpent).slice(0,10);return s?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading customer report..."})]})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load customer report"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Please check your API connection"})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Customer Report"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"WhatsApp Bot Customer Analytics"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:n.length})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(Ke,{className:"h-6 w-6 text-blue-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we(n.reduce((o,i)=>o+i.totalSpent,0))})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(qe,{className:"h-6 w-6 text-green-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Avg. Order Value"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we(n.length>0?n.reduce((o,i)=>o+i.totalSpent,0)/n.length:0)})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx(Ke,{className:"h-6 w-6 text-purple-400"})})]})})})]}),e.jsxs(N,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(M,{children:[e.jsx(L,{className:"text-white",children:"Top Customers"}),e.jsx(Y,{className:"text-gray-400",children:"Customers with highest spending"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:a.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:o.name.split(" ").map(i=>i[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ju,{className:"h-3 w-3"}),o.email]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mn,{className:"h-3 w-3"}),o.phone]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(uv,{className:"h-3 w-3"}),o.location]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:we(o.totalSpent)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[o.orders," orders"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Last: ",new Date(o.lastOrder).toLocaleDateString()]})]})]},o.id))})})]})]})]})}function tA(){var c,u,f;const{data:t,isLoading:s,error:r}=Se({queryKey:["dashboard-overview"],queryFn:ue.getOverview}),{data:n}=Se({queryKey:["recent-transactions","sales-report",100],queryFn:()=>ue.getRecentTransactions(100)}),a=(n==null?void 0:n.transactions.reduce((x,h)=>{const b=new Date(h.date),g=`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`;return x[g]||(x[g]={month:b.toLocaleDateString("en-US",{month:"short",year:"numeric"}),revenue:0,orders:0,products:1}),x[g].revenue+=h.totalBayar,x[g].orders+=1,x},{}))||{},o=Object.values(a).slice(-6);if(s)return e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading sales report..."})]})})});if(r)return e.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load sales report"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Please check your API connection"})]})})});const i=o.reduce((x,h)=>x+h.revenue,0),l=o.reduce((x,h)=>x+h.orders,0),d=l>0?i/l:0;return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Sales Report"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"WhatsApp Bot Sales Performance"})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we(i)}),e.jsxs("p",{className:"text-sm text-green-400 flex items-center mt-1",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),"Last 6 months"]})]}),e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(jt,{className:"h-6 w-6 text-green-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:l}),e.jsxs("p",{className:"text-sm text-blue-400 flex items-center mt-1",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),"Last 6 months"]})]}),e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(oo,{className:"h-6 w-6 text-blue-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Avg. Order Value"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we(d)}),e.jsxs("p",{className:"text-sm text-purple-400 flex items-center mt-1",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),"Per transaction"]})]}),e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx($e,{className:"h-6 w-6 text-purple-400"})})]})})}),e.jsx(N,{className:"bg-gray-800 border-gray-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Today's Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:we((t==null?void 0:t.pendapatanHariIni)||0)}),e.jsxs("p",{className:"text-sm text-orange-400 flex items-center mt-1",children:[e.jsx(wr,{className:"h-3 w-3 mr-1"}),"Today"]})]}),e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:e.jsx(Cs,{className:"h-6 w-6 text-orange-400"})})]})})})]}),e.jsxs(N,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(M,{children:[e.jsx(L,{className:"text-white",children:"Monthly Sales Breakdown"}),e.jsx(Y,{className:"text-gray-400",children:"Sales performance by month"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:o.map((x,h)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:x.month.split(" ")[0]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:x.month}),e.jsx("p",{className:"text-sm text-gray-400",children:"Monthly performance"})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-white",children:we(x.revenue)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Revenue"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-white",children:x.orders}),e.jsx("p",{className:"text-sm text-gray-400",children:"Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-white",children:we(x.revenue/x.orders)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Avg. Value"})]})]})]},h))})})]}),e.jsxs(N,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(M,{children:[e.jsx(L,{className:"text-white",children:"Payment Methods Performance"}),e.jsx(Y,{className:"text-gray-400",children:"Sales breakdown by payment method"})]}),e.jsx(S,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium text-white",children:"QRIS"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:((c=t==null?void 0:t.metodeBayar)==null?void 0:c.qris)||0}),e.jsx("p",{className:"text-sm text-gray-400",children:"transactions"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-white",children:"Saldo"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:((u=t==null?void 0:t.metodeBayar)==null?void 0:u.saldo)||0}),e.jsx("p",{className:"text-sm text-gray-400",children:"transactions"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-700/50 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),e.jsx("span",{className:"font-medium text-white",children:"Lainnya"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-white",children:((f=t==null?void 0:t.metodeBayar)==null?void 0:f.unknown)||0}),e.jsx("p",{className:"text-sm text-gray-400",children:"transactions"})]})]})]})})]})]})]})}var Qo="Switch",[sA,MA]=et(Qo),[rA,nA]=sA(Qo),_b=m.forwardRef((t,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:d="on",onCheckedChange:c,form:u,...f}=t,[x,h]=m.useState(null),b=Ce(s,j=>h(j)),g=m.useRef(!1),p=x?u||!!x.closest("form"):!0,[y,v]=Lt({prop:a,defaultProp:o??!1,onChange:c,caller:Qo});return e.jsxs(rA,{scope:r,checked:y,disabled:l,children:[e.jsx(ie.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":Pb(y),"data-disabled":l?"":void 0,disabled:l,value:d,...f,ref:b,onClick:J(t.onClick,j=>{v(w=>!w),p&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),p&&e.jsx(Tb,{control:x,bubbles:!g.current,name:n,value:d,checked:y,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});_b.displayName=Qo;var Ab="SwitchThumb",Eb=m.forwardRef((t,s)=>{const{__scopeSwitch:r,...n}=t,a=nA(Ab,r);return e.jsx(ie.span,{"data-state":Pb(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});Eb.displayName=Ab;var aA="SwitchBubbleInput",Tb=m.forwardRef(({__scopeSwitch:t,control:s,checked:r,bubbles:n=!0,...a},o)=>{const i=m.useRef(null),l=Ce(i,o),d=yc(r),c=Bl(s);return m.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&h){const b=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(b)}},[d,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Tb.displayName=aA;function Pb(t){return t?"checked":"unchecked"}var Ib=_b,oA=Eb;const St=m.forwardRef(({className:t,...s},r)=>e.jsx(Ib,{className:P("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx(oA,{className:P("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));St.displayName=Ib.displayName;function iA(){return e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your WhatsApp Bot preferences and system configurations"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",className:"bg-background/50 backdrop-blur-sm",children:[e.jsx(ad,{className:"mr-2 h-4 w-4"}),"Reset Defaults"]}),e.jsxs(ee,{className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20",children:[e.jsx(mv,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]}),e.jsxs(hs,{defaultValue:"bot",className:"space-y-6",children:[e.jsxs(Qt,{className:"bg-background/50 backdrop-blur-sm p-1 border border-border/50 rounded-xl",children:[e.jsx(Ae,{value:"bot",className:"rounded-lg data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:"Bot Config"}),e.jsx(Ae,{value:"notifications",className:"rounded-lg data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:"Notifications"}),e.jsx(Ae,{value:"system",className:"rounded-lg data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:"System"})]}),e.jsx(Pe,{value:"bot",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Qu,{className:"h-5 w-5 text-blue-500"}),"Bot Configuration"]}),e.jsx(Y,{children:"Configure your WhatsApp bot behavior"})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Auto Reply"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable automatic responses to incoming messages"})]}),e.jsx(St,{defaultChecked:!0})]}),e.jsx(as,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Welcome Message"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Send a greeting to new users"})]}),e.jsx(St,{defaultChecked:!0})]}),e.jsx(as,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Payment Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify users about payment status updates"})]}),e.jsx(St,{defaultChecked:!0})]})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(hv,{className:"h-5 w-5 text-emerald-500"}),"Message Settings"]}),e.jsx(Y,{children:"Configure message handling and protection"})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Message Logging"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Log all bot conversations for auditing"})]}),e.jsx(St,{defaultChecked:!0})]}),e.jsx(as,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Spam Protection"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically block spam messages"})]}),e.jsx(St,{defaultChecked:!0})]}),e.jsx(as,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Rate Limiting"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Limit message frequency per user"})]}),e.jsx(St,{})]})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft md:col-span-2",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(mn,{className:"h-5 w-5 text-purple-500"}),"WhatsApp Integration"]}),e.jsx(Y,{children:"WhatsApp API connection settings"})]}),e.jsx(S,{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ee,{children:"Webhook URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(nt,{defaultValue:"https://api.example.com/webhook",className:"bg-muted/30"}),e.jsx(ee,{variant:"outline",children:"Test"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ee,{children:"Phone Number ID"}),e.jsx(nt,{defaultValue:"109238475610239",className:"bg-muted/30"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(Ee,{children:"API Token"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(nt,{type:"password",value:"********************************",className:"bg-muted/30 font-mono",readOnly:!0}),e.jsx(ee,{variant:"outline",children:"Regenerate"})]})]})]})})]})]})}),e.jsx(Pe,{value:"notifications",className:"space-y-6",children:e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ku,{className:"h-5 w-5 text-amber-500"}),"Notification Preferences"]}),e.jsx(Y,{children:"Manage how and when you receive alerts"})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"New Transaction Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications for every new transaction"})]}),e.jsx(St,{defaultChecked:!0})]}),e.jsx(as,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Error Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get alerted immediately when bot errors occur"})]}),e.jsx(St,{defaultChecked:!0})]}),e.jsx(as,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Daily Reports"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a daily summary of bot performance"})]}),e.jsx(St,{})]})]})]})}),e.jsx(Pe,{value:"system",className:"space-y-6",children:e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(fv,{className:"h-5 w-5 text-rose-500"}),"System Settings"]}),e.jsx(Y,{children:"Advanced system configuration and maintenance"})]}),e.jsx(S,{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Data Backup"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically backup transaction data daily"})]}),e.jsx(St,{defaultChecked:!0})]}),e.jsx(as,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ee,{className:"text-base",children:"Debug Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable verbose logging for troubleshooting"})]}),e.jsx(St,{})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Cl,{className:"h-4 w-4 text-primary"}),"Maintenance Actions"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{variant:"outline",className:"w-full justify-start hover:bg-muted",children:[e.jsx(pr,{className:"mr-2 h-4 w-4"}),"Export All Data"]}),e.jsxs(ee,{variant:"outline",className:"w-full justify-start hover:bg-muted",children:[e.jsx(ad,{className:"mr-2 h-4 w-4"}),"Clear System Cache"]}),e.jsxs(ee,{variant:"outline",className:"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:[e.jsx(Oa,{className:"mr-2 h-4 w-4"}),"Purge Old Logs"]})]})]})})]})})]})})]})]})}function lA(){const t=[{title:"Getting Started",description:"Learn how to set up your WhatsApp bot",icon:od,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Bot Configuration",description:"Configure bot behavior and responses",icon:Qu,color:"text-purple-500",bg:"bg-purple-500/10"},{title:"Transaction Management",description:"Manage payments and transactions",icon:qe,color:"text-emerald-500",bg:"bg-emerald-500/10"},{title:"WhatsApp Integration",description:"Connect your bot to WhatsApp",icon:id,color:"text-green-500",bg:"bg-green-500/10"},{title:"Settings & Preferences",description:"Customize bot settings",icon:Ea,color:"text-orange-500",bg:"bg-orange-500/10"},{title:"Troubleshooting",description:"Common issues and solutions",icon:Ta,color:"text-red-500",bg:"bg-red-500/10"}],s=[{title:"Email Support",description:"Get help via email",icon:Ju,action:"mailto:support@whatsappbot.com",color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Live Chat",description:"Chat with our support team",icon:id,action:"#",color:"text-green-500",bg:"bg-green-500/10"},{title:"Phone Support",description:"Call us for immediate help",icon:mn,action:"tel:+6281234567890",color:"text-purple-500",bg:"bg-purple-500/10"}];return e.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Help & Support"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Find answers and get help with your WhatsApp Bot"})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(nt,{placeholder:"Search for help articles...",className:"pl-10 bg-background/50 border-border/50 focus:bg-background transition-all"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(od,{className:"h-5 w-5 text-primary"}),"Knowledge Base"]}),e.jsx(Y,{children:"Browse topics to find what you need"})]}),e.jsx(S,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map((r,n)=>e.jsxs("div",{className:"group p-4 rounded-xl bg-muted/30 border border-border/50 hover:bg-muted/50 hover:border-primary/20 transition-all cursor-pointer flex items-start gap-4",children:[e.jsx("div",{className:P("p-3 rounded-xl transition-colors group-hover:scale-110 duration-300",r.bg),children:e.jsx(r.icon,{className:P("h-6 w-6",r.color)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:r.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:r.description})]}),e.jsx(jl,{className:"h-5 w-5 text-muted-foreground/50 group-hover:text-primary group-hover:translate-x-1 transition-all"})]},n))})})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ta,{className:"h-5 w-5 text-orange-500"}),"Frequently Asked Questions"]}),e.jsx(Y,{children:"Common questions about WhatsApp Bot"})]}),e.jsx(S,{children:e.jsx("div",{className:"space-y-4",children:[{q:"How do I connect my WhatsApp bot?",a:"Go to Settings > WhatsApp Integration and follow the setup wizard to connect your bot to WhatsApp Business API."},{q:"How do I configure auto-replies?",a:"Navigate to Settings > Bot Configuration and enable Auto Reply. You can customize the response messages in the message settings."},{q:"How do I track transactions?",a:"All transactions are automatically tracked in the Dashboard. You can view detailed reports in the Reports section."},{q:"How do I set up payment notifications?",a:"Enable Payment Notifications in Settings > Bot Configuration. Users will receive automatic updates about their payment status."},{q:"How do I export transaction data?",a:"Go to Settings > System Settings and click Export to download your transaction data in CSV format."},{q:"How do I troubleshoot bot issues?",a:"Check the bot status in Settings > WhatsApp Integration. Enable Debug Mode for detailed logging and contact support if issues persist."}].map((r,n)=>e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 hover:bg-muted/50 transition-colors",children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-bold",children:"Q"}),r.q]}),e.jsx("p",{className:"text-sm text-muted-foreground pl-8",children:r.a})]},n))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{className:"card-premium border-none shadow-soft bg-gradient-to-br from-slate-900 to-slate-800 text-white",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"text-white flex items-center gap-2",children:[e.jsx(cA,{className:"h-5 w-5 text-emerald-400"}),"System Status"]}),e.jsx(Y,{className:"text-slate-400",children:"Current bot health check"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-500 rounded-full"}),e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full animate-ping opacity-75"})]}),e.jsx("span",{className:"font-medium text-sm",children:"Bot Core"})]}),e.jsx(ae,{variant:"outline",className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:"Operational"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium text-sm",children:"WhatsApp API"})]}),e.jsx(ae,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-purple-500 rounded-full"}),e.jsx("span",{className:"font-medium text-sm",children:"Webhook"})]}),e.jsx(ae,{variant:"outline",className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:"Active"})]})]})]}),e.jsxs(N,{className:"card-premium border-none shadow-soft",children:[e.jsxs(M,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(mn,{className:"h-5 w-5 text-primary"}),"Contact Support"]}),e.jsx(Y,{children:"Need personal assistance?"})]}),e.jsx(S,{className:"space-y-4",children:s.map((r,n)=>e.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50 hover:bg-muted/50 transition-colors text-center group",children:[e.jsx("div",{className:P("w-12 h-12 mx-auto rounded-full flex items-center justify-center mb-3 transition-transform group-hover:scale-110",r.bg),children:e.jsx(r.icon,{className:P("h-6 w-6",r.color)})}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:r.title}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:r.description}),e.jsxs(ee,{variant:"outline",size:"sm",className:"w-full border-primary/20 hover:bg-primary/5 hover:text-primary",onClick:()=>window.open(r.action,"_blank"),children:["Connect",e.jsx(xv,{className:"ml-2 h-3 w-3"})]})]},n))})]})]})]})]})}function cA({className:t}){return e.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}const dA=new Hb({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10}}}),uA=()=>e.jsx(qb,{client:dA,children:e.jsxs(dh,{children:[e.jsx(G0,{}),e.jsx(Cy,{}),e.jsx(Vb,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(qh,{children:e.jsxs("div",{className:"flex min-h-screen w-full bg-background font-sans antialiased selection:bg-primary/10 selection:text-primary",children:[e.jsx(sS,{}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300 ease-in-out md:ml-0",children:[e.jsx(P1,{}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-muted/30 p-4 md:p-6 lg:p-8",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-8 animate-in fade-in-50 duration-500 slide-in-from-bottom-4",children:e.jsxs(Gb,{children:[e.jsx(Fe,{path:"/",element:e.jsx(vC,{})}),e.jsx(Fe,{path:"/projects",element:e.jsx(Q_,{})}),e.jsx(Fe,{path:"/tasks",element:e.jsx(Z_,{})}),e.jsx(Fe,{path:"/reports",element:e.jsx($u,{})}),e.jsx(Fe,{path:"/reports/overview",element:e.jsx($u,{})}),e.jsx(Fe,{path:"/reports/customer",element:e.jsx(eA,{})}),e.jsx(Fe,{path:"/reports/sales",element:e.jsx(tA,{})}),e.jsx(Fe,{path:"/settings",element:e.jsx(iA,{})}),e.jsx(Fe,{path:"/help",element:e.jsx(lA,{})}),e.jsx(Fe,{path:"/charts",element:e.jsx(yC,{})}),e.jsx(Fe,{path:"/users",element:e.jsx(ZC,{})}),e.jsx(Fe,{path:"/users/:userId",element:e.jsx(sR,{})}),e.jsx(Fe,{path:"/transactions",element:e.jsx(rR,{})}),e.jsx(Fe,{path:"/products",element:e.jsx(hR,{})}),e.jsx(Fe,{path:"/products-stock",element:e.jsx(fR,{})}),e.jsx(Fe,{path:"/products/:productId",element:e.jsx(_R,{})}),e.jsx(Fe,{path:"/analytics",element:e.jsx(H_,{})}),e.jsx(Fe,{path:"/ref/:refId",element:e.jsx(q_,{})}),e.jsx(Fe,{path:"/advanced-analytics",element:e.jsx(K_,{})}),e.jsx(Fe,{path:"/product-performance",element:e.jsx(V_,{})}),e.jsx(Fe,{path:"/user-behavior",element:e.jsx(G_,{})}),e.jsx(Fe,{path:"/financial-analytics",element:e.jsx(X_,{})}),e.jsx(Fe,{path:"/sales-analytics",element:e.jsx(Y_,{})}),e.jsx(Fe,{path:"/inventory-analytics",element:e.jsx(J_,{})})]})})})]})]})})})]})});Zu(document.getElementById("root")).render(e.jsx(uA,{}));
